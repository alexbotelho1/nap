<chapter type="" id="tl0901000000">
<title><content-text>Introdução ao roteamento e ao encaminhamento de pacotes</content-text></title>
<section type="ChapterIntroduction" id="tl0901000000">
<title><content-text>Introdução do capítulo</content-text></title>
<topic type="" id="tl0901000100">
<title><content-text>Introdução do capítulo</content-text></title>
<page type="OneColumn" id="tl0901000101">
<content-media type="StaticGraphic" id="cm5338791101"><title><content-text></content-text></title><media ref="tl0901000000/tl0901000000/tl0901000100/tl0901000101/cm5338791101.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901000000/tl0901000100/tl0901000101/cm5338791101text.xml"/></content-media>
<content-text><p>As redes atuais têm um impacto significativo em nossas vidas – alterando a forma como nós vivemos, trabalhamos e nos divertimos. As redes de computadores – e, em um contexto mais amplo, a Internet – permitem às pessoas se comunicar, colaborar e interagir de maneira que elas jamais viram. Nós usamos a rede de várias formas, inclusive aplicativos Web, telefonia <content-link target="cg9625811609" type="glossary">IP</content-link>, videoconferência, jogos interativos, comércio eletrônico, educação e muito mais. </p> <p>No centro da rede está o roteador. Resumidamente, um roteador conecta uma rede a outra. Por isso, o roteador é responsável pela entrega de pacotes em redes diferentes. O destino do pacote IP pode ser um servidor Web em outro país ou um servidor de email na rede local. É a responsabilidade dos roteadores entregar esses pacotes em tempo hábil. A efetividade da comunicação de redes interconectadas depende, amplamente, da capacidade dos roteadores de encaminhar pacotes da maneira mais eficiente possível.</p> <p>Agora os roteadores estão sendo adicionados a satélites no espaço. Esses roteadores terão a capacidade de rotear tráfego IP entre satélites no espaço de maneira muito semelhante à forma como esses pacotes são movidos na Terra, o que reduz atrasos e oferece maior flexibilidade de networking.</p> <p>Além do encaminhamento de pacotes, um roteador também presta outros serviços. Para atender às demandas das redes atuais, os roteadores também são usados para:</p> <ul><li> Assegurar uma disponibilidade 24x7 (24 horas por dia, 7 dias por semana). Para ajudar a garantir o alcanço da rede, os roteadores usam caminhos alternativos, caso haja falha no caminho primário.</li> <li> Fornecer serviços integrados de dados, vídeo e voz em redes com e sem fio. Os roteadores usam a priorização de Qualidade de Serviço (QoS, Quality of Service) dos pacotes IP para assegurar que o tráfego em tempo real, como voz, vídeo e dados críticos não sejam descartados ou atrasados.</li> <li> Atenuar o impacto de worms, vírus e outros ataques na rede, permitindo ou negando o encaminhamento de pacotes.</li></ul> <p>Todos esses serviços são criados de acordo com o roteador e sua responsabilidade primária de encaminhar pacotes de uma rede para a próxima. Isso só acontece por causa da capacidade do roteador de rotear pacotes entre redes nas quais os dispositivos em redes diferentes podem se comunicar. Este capítulo irá apresentar o roteador, sua função nas redes, seus principais componentes de hardware e de software, além do próprio processo de roteamento.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901010000">
<title><content-text>Por dentro do roteador</content-text></title>
<topic type="" id="tl0901010100">
<title><content-text>Roteadores são computadores</content-text></title>
<page type="OneColumn" id="tl0901010101">
<content-media type="AnimationPartialScreen" id="cm1281314654"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010101/cm1281314654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010101/cm1281314654text.xml"/></content-media>
<content-text><p><b>Roteadores são computadores</b></p> <p>Um roteador é um computador, assim como qualquer outro, inclusive um PC. O primeiro roteador, usado na ARPANET (Advanced Research Projects Agency Network), foi o Processador de Mensagem da Interface (IMP, Interface Message Processor). O IMP era um minicomputador Honeywell 316; esse computador deu vida à ARPANET no dia 30 de agosto de 1969. </p> <p><b>Nota:</b> a ARPANET foi desenvolvido pela ARPA (Advanced Research Projects Agency) do Departamento de Defesa dos Estados Unidos. A ARPANET foi a primeira rede de comutação de <content-link target="cg2207688691" type="glossary">pacotes</content-link> operacional do mundo e a antecessora da Internet atual.</p> <p>Os roteadores têm muitos componentes de hardware e de software iguais encontrados em outros computadores, inclusive:</p> <ul><li> CPU</li> <li> RAM</li> <li> ROM</li> <li> <content-link target="cg9072288158" type="glossary">Sistema operacional</content-link></li></ul> <p><b>Clique em Reproduzir para ver a animação.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901010102">
<content-media type="AnimationPartialScreen" id="cm4796025925"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010102/cm4796025925.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010102/cm4796025925text.xml"/></content-media>
<content-text><p><b>Roteadores estão no centro da rede</b></p> <p>Os usuários típicos talvez desconheçam a presença de vários roteadores em sua própria rede ou na Internet. Os usuários esperam ser capazes de acessar páginas da Web, enviar emails e baixar músicas – independentemente do servidor acessado estar em sua própria rede ou em outra rede no mundo. No entanto, os profissionais de networking sabem que o roteador é responsável por encaminhar pacotes de rede-a-rede, da origem original para o destino final.</p> <p>Um roteador conecta várias redes. Isso significa que ele tem várias interfaces pertencentes a uma rede IP diferente. Quando um roteador recebe um pacote IP em uma interface, ele determina que interface usar para encaminhar o pacote para seu destino. A interface que o roteador usa para encaminhar o pacote pode ser a rede do destino final do pacote (a rede com o endereço IP de destino desse pacote) ou pode ser uma rede conectada a outro roteador usado para alcançar a rede de destino.</p> <p>Cada rede a que um roteador se conecta costuma exigir uma interface separada. Essas interfaces são usadas para conectar uma combinação de <content-link target="cg2442783702" type="glossary">redes locais (LANs</content-link>, Local Area Networks) e <content-link target="cg2413697728" type="glossary">redes remotas (WAN</content-link>, Wide Area Networks). As redes locais costumam ser redes <content-link target="cg1794827428" type="glossary">Ethernet</content-link> que contêm dispositivos como PCs, impressoras e servidores. As WANs são usadas para conectar redes em uma área geográfica extensa. Por exemplo, uma conexão WAN costuma ser usada para conectar uma rede local à rede do <content-link target="cg6625915036" type="glossary">Provedor de Internet (ISP, Internet Service Provider)</content-link>.</p> <p>Na figura, vimos que os roteadores R1 e R2 são responsáveis por receber o pacote em uma rede e encaminhar o pacote por outra rede para a rede de destino.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010103">
<content-media type="AnimationPartialScreen" id="cm1720282653"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010103/cm1720282653.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010103/cm1720282653text.xml"/></content-media>
<content-text><p><b>Roteadores determinam o <content-link target="cg6489003437" type="glossary">melhor caminho</content-link></b></p> <p>A responsabilidade primária de um roteador é direcionar pacotes com destino para redes locais e remotas:</p> <ul><li> Determinando o melhor caminho para enviar pacotes </li> <li> Encaminhando pacotes para o destino</li></ul> <p>O roteador usa sua <content-link target="cg5779791933" type="glossary">tabela de roteamento</content-link> para determinar o melhor caminho para encaminhar o pacote. Quando o roteador recebe um pacote, ele examina seu endereço IP de destino e procura a melhor correspondência com um endereço de rede na tabela de roteamento do roteador. A tabela de roteamento também inclui a interface a ser usada para encaminhar o pacote. Quando uma correspondência é localizada, o roteador encapsula o pacote IP no quadro de enlace da interface de saída, e o pacote é encaminhado para seu destino.</p> <p>É muito provável que um roteador receba um pacote encapsulado em um tipo de quadro de enlace, como um quadro Ethernet e, ao encaminhar o pacote, o encapsule em um tipo diferente de quadro de enlace, como o Protocolo Ponto a Ponto (<content-link target="cg3376952186" type="glossary">PPP</content-link>, Point-to-Point Protocol). O encapsulamento do quadro de enlace depende do tipo de interface do roteador e do tipo de meio a que ele se conecta. Entre as tecnologias de enlace de dados diferentes a que um roteador pode se conectar estão tecnologias rede local, como Ethernet e conexões WAN <content-link target="cg6273327444" type="glossary">seriais</content-link>, como a conexão T1 que usa PPP, <content-link target="cg4929417584" type="glossary">Frame Relay</content-link> e <content-link target="cg7863235272" type="glossary">Modo de Transferência Assíncrona (ATM</content-link>, Asynchronous Transfer Mode). </p> <p>Na figura, podemos acompanhar um pacote do PC de origem até o PC de destino. Observe que é de responsabilidade do roteador localizar a rede de destino em sua tabela de roteamento e encaminhar o pacote em para seu destino. Neste exemplo, o Roteador R1 recebe o pacote encapsulado em um quadro Ethernet. Depois do desencapsulamento do pacote, R1 usa o endereço IP de destino do pacote para pesquisar sua tabela de roteamento em busca de um endereço de rede correspondente. Depois que um endereço de rede de destino é localizado na tabela de roteamento, R1 encapsula o pacote em um quadro PPP e o encaminha para R2. Um processo semelhante é executado por R2.</p> <p>As rotas estáticas e os protocolos de <content-link target="cg8753322308" type="glossary">roteamento dinâmico</content-link> são usados por roteadores para aprender redes remotas e criar suas tabelas de roteamento. Essas rotas e protocolos são o foco primário do curso, sendo abordados em detalhes nos capítulos posteriores, além do processo que os roteadores usam ao pesquisar suas tabelas de roteamento e encaminhar os pacotes.</p> <p><b>Links</b></p> <p>"Como roteadores funcionam" <content-link target="http://computer.howstuffworks.com/router.htm" type="external">http://computer.howstuffworks.com/router.htm</content-link></p></content-text>
</page>
<page type="FullScreen" id="tl0901010104">
<content-media type="AnimationFullScreen" id="cm5577947532"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010104/cm5577947532.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010100/tl0901010104/cm5577947532text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0901010105">
<content-media type="ActivityPKA" id="cm8238562839"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010100/tl0901010105/cm8238562839/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010100/tl0901010105/cm8238562839/icontext.xml"/></content-media>
<content-text><p>Esta atividade do Packet Tracer mostra uma rede complexa de roteadores com muitas tecnologias diferentes. Não se esqueça de ver a atividade no modo de simulação para que você pode observar o tráfego percorrendo várias origens até vários destinos em vários tipos de <content-link target="cg4379391683" type="glossary">meio</content-link>. Mantenha a calma, porque essa topologia complexa pode demorar um pouco para ser carregada.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010200">
<title><content-text>CPU do roteador e memória</content-text></title>
<page type="OneColumn" id="tl0901010201">
<content-media type="InteractiveGraphicHotspots" id="cm8329007509"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010200/tl0901010201/cm8329007509.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010200/tl0901010201/cm8329007509text.xml"/></content-media>
<content-text><p>Embora haja vários tipos e modelos de roteadores diferentes, todos os roteadores têm os mesmos componentes gerais de hardware. Dependendo do modelo, esses componentes estão localizados em locais diferentes dentro do roteador. A figura mostra a parte interna de um roteador 1841. Para consultar os componentes internos do roteador, você deve desparafusar a tampa de metal e retirá-la do roteador. <b>Normalmente, você não precisa abrir o roteador a menos que esteja atualizando a memória.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901010202">
<content-media type="InteractiveGraphicRollovers" id="cm7344735929"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010200/tl0901010202/cm7344735929.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010200/tl0901010202/cm7344735929text.xml"/></content-media>
<content-text><p><b>Componentes do <content-link target="cg4650099337" type="glossary">roteador</content-link> e suas funções</b></p> <p>Assim como um PC, um roteador também inclui:</p> <ul><li> Unidade de Processamento Central (CPU, Central Processing Unit)</li> <li> Memória de Acesso Aleatório (RAM)</li> <li> <content-link target="cg8286776423" type="glossary">Memória somente-leitura (ROM)</content-link></li></ul> <p><b>Passe o mouse sobre componentes na figura para ver uma breve descrição de cada um.</b></p> <p><b>CPU</b></p> <p>A CPU executa instruções do sistema operacional, como inicialização de sistema, funções de roteamento e de comutação.</p> <p><b>RAM</b></p> <p>A RAM armazena as instruções e os dados que precisam ser executados pela CPU. A RAM é usada para armazenar estes componentes:</p> <ul><li> <b>Sistema operacional:</b> O IOS (Internetwork Operating System, Sistema operacional de Internet) Cisco  é copiado para a RAM durante a inicialização.</li> <li> <b>Executando arquivo de configuração:</b> Esse é o arquivo de configuração que armazena os comandos de configuração que o IOS do roteador está usando atualmente. Com poucas exceções, todos os comandos configurados no roteador são armazenados no arquivo de configuração em execução, conhecido como running-config.</li> <li> <b>Tabela de roteamento IP:</b> Esse arquivo armazena informações sobre redes conectadas diretamente e remotas. Ele é usado para determinar o melhor caminho para encaminhar o pacote.</li> <li> <b>Cache <content-link target="cg4387624266" type="glossary">ARP</content-link>:</b> Esse cache contém o endereço IPv4 para mapeamentos de <content-link target="cg4560460940" type="glossary">endereço MAC</content-link>, semelhante ao cache ARP em um PC. O cache ARP é usado em roteadores com interfaces de rede local, como interfaces Ethernet.</li> <li> <b>Buffer de pacotes:</b> Os pacotes são armazenados temporariamente em um buffer quando recebidos em uma interface ou antes de saírem por uma interface.</li></ul> <p>RAM é uma memória volátil e perde seu conteúdo quando o roteador é desligado ou reiniciado. No entanto, o roteador também contém áreas de armazenamento permanentes, como ROM, <content-link target="cg2090906049" type="glossary">memória flash</content-link> e NVRAM. </p> <p><b>ROM</b></p> <p>ROM é uma forma de armazenamento permanente. Os dispositivos Cisco usam a ROM para armazenar:</p> <ul><li> As instruções de bootstrap</li> <li> Software de diagnóstico básico</li> <li> Versão redimensionada do IOS</li></ul> <p>A ROM usa firmware, que é o software incorporado no circuito integrado. O firmware inclui o software que normalmente não precisa ser modificado ou atualizado, como as instruções de inicialização. Muitos desses recursos, inclusive o software monitor ROM, serão abordados em um curso posterior. A ROM não perde seu conteúdo quando o roteador é desligado ou reiniciado.</p> <p><b>Memória flash</b></p> <p>Flash é uma memória de computador não volátil que pode ser apagada e armazenada eletricamente. A memória flash é usada como armazenamento permanente para o sistema operacional, o Cisco IOS. Na maioria dos modelos de roteadores Cisco, o IOS é armazenado permanentemente na memória memória flash e copiado para a RAM durante o processo de inicialização, quando é executado pela CPU. Alguns modelos mais antigos de roteadores Cisco executam o IOS diretamente na memória flash. A memória flash consiste em placas SIMMs ou PCMCIA, que podem ser atualizadas para aumentar a quantidade da memória flash.</p> <p>A memória flash não perde seu conteúdo quando o roteador é desligado ou reiniciado.</p> <p><b>NVRAM</b></p> <p>A RAM Não Volátil (NVRAM, Nonvolatile RAM) não perde suas informações quando a energia é desligada. Isso é o oposto ao que acontece na maioria das formas comuns de RAM, como DRAM, que exige energia ininterrupta para manter suas informações. A NVRAM é usada pelo Cisco IOS como armazenamento permanente para o arquivo de configuração de inicialização (startup-config). Todas as alterações feitas na configuração são armazenadas no arquivo running-config na RAM e, com poucas exceções, são implementadas imediatamente pelo IOS. Para salvar essas alterações caso o roteador seja reiniciado ou desligado, o running-config deve ser copiado para a NVRAM, onde é armazenada como o arquivo startup-config. A NVRAM manterá seu conteúdo, mesmo quando o roteador for recarregado ou desligado.</p> <p>ROM, RAM, NVRAM e memória flash são abordadas na seção a seguir, que apresenta o IOS e o processo de inicialização. Elas também são abordadas mais detalhadamente em um curso posterior referente ao gerenciamento do IOS.</p> <p>É mais importante para um profissional de networking compreender a função dos componentes internos principais de um roteador do que o local exato desses componentes dentro de um roteador específico. A arquitetura física interna irá variar de modelo para modelo.</p>  <p><b>Links</b></p> <p>Consulte "Demonstração multimídia do portfólio Cisco 1800 Series", <content-link target="http://www.cisco.com/en/US/products/ps5875/index.html" type="external">http://www.cisco.com/en/US/products/ps5875/index.html</content-link></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010300">
<title><content-text>Sistema operacional de Internet</content-text></title>
<page type="OneColumn" id="tl0901010301">
<content-media type="AnimationPartialScreen" id="cm3739919545"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010300/tl0901010301/cm3739919545.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010300/tl0901010301/cm3739919545text.xml"/></content-media>
<content-text><p><b>Sistema operacional de Internet</b></p> <p>O software de sistema operacional usado em roteadores Cisco é conhecido como Sistema operacional de Internet Cisco (IOS, Internetwork Operating System). Assim como qualquer sistema operacional em qualquer computador, o Cisco IOS gerencia os recursos de hardware e de software do roteador, inclusive a alocação de memória, os processos, a segurança e os sistemas de arquivos. O Cisco IOS é um sistema operacional multitarefa integrado a funções de roteamento, de comutação, de inter-rede e de telecomunicação.</p> <p>Embora o Cisco IOS possa ser aparentemente o mesmo em muitos roteadores, há muitas imagens diferentes do IOS. Uma imagem do IOS é um arquivo que contém todo o IOS do roteador. A Cisco cria muitos tipos diferentes de imagens do IOS, dependendo do modelo do roteador e dos recursos no IOS. Normalmente, quanto mais recursos no IOS, maior será a imagem do IOS e, logo, mais memória flash e RAM são exigidas para armazenar e carregar o IOS. Por exemplo, entre alguns recursos estão a capacidade de executar <content-link target="cg8872612645" type="glossary">IPv6</content-link> ou a capacidade do roteador de executar a Tradução de Endereços de Rede (NAT, Network Address Translation).</p> <p>Assim como acontece com outros sistemas operacionais, o Cisco IOS tem sua própria interface do usuário. Embora alguns roteadores forneçam uma Interface Gráfica do Usuário (GUI, Graphical User Interface), a Interface de Linha de Comando (CLI, Command Line Interface) é um método muito mais comum de configurar roteadores Cisco. A CLI é usada ao longo deste currículo.</p> <p>Durante a inicialização, o arquivo startup-config na NVRAM é copiado para a RAM e armazenado como sendo o arquivo running-config. O IOS executa os comandos de configuração no running-config. Qualquer alteração feita pelo administrador de rede é armazenada no running-config, sendo implementada imediatamente pelo IOS. Neste capítulo, nós revisaremos alguns dos comandos básicos do IOS usados para configurar um roteador Cisco. Em capítulos posteriores, aprenderemos os comandos usados para configurar, verificar e solucionar problemas de <content-link target="cg8507263429" type="glossary">roteamento estático</content-link> e de vários protocolos de roteamento, como RIP, EIGRP e OSPF.</p> <p><b>Nota:</b> O Cisco IOS e o processo de inicialização são abordados com mais detalhes em um curso posterior.</p></content-text>
</page>
</topic>
<topic type="" id="tl0901010400">
<title><content-text>Processo de inicialização do roteador</content-text></title>
<page type="OneColumn" id="tl0901010401">
<content-media type="InteractiveGraphicRollovers" id="cm2783740641"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010400/tl0901010401/cm2783740641.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010400/tl0901010401/cm2783740641text.xml"/></content-media>
<content-text><p><b>Processo de inicialização</b></p> <p>Há quatro fases principais no processo de inicialização:</p> <p>1. Executando o POST</p> <p>2. Carregando o programa de bootstrap</p> <p>3. Localizando e carregando o software Cisco IOS</p> <p>4. Localizando e carregando o arquivo de configuração de inicialização ou acessando o modo de configuração </p> <p><b>1. Executando o POST.</b></p> <p>O <content-link target="cg1953373827" type="glossary"> Auto-teste de inicialização (POST</content-link>, Power-On Self Test)é um processo comum que ocorre em quase todos os computadores durante a inicialização. O processo POST é usado para testar o hardware do roteador. Quando o roteador for ligado, um software no chip ROM irá executar o POST. Durante esse auto-teste, o roteador executa o diagnóstico a partir da ROM em vários componentes de hardware, inclusive CPU, RAM e NVRAM. Depois que o POST for concluído, o roteador irá executar o programa de bootstrap.</p> <p><b>2. Carregando o programa de bootstrap </b></p> <p>Depois do POST, o programa de bootstrap é copiado da ROM para a RAM. Uma vez na RAM, a CPU executa as instruções no programa de bootstrap. A tarefa principal do programa de bootstrap é localizar o Cisco IOS e carregá-lo na RAM.</p> <p><b>Nota:</b> A esta altura, se tiver uma conexão de console com o roteador, você irá começar a ver a saída na tela. </p> <p><b>3. Localizando e carregando o IOS Cisco</b></p> <p><b>Localizando o software IOS Cisco.</b> O IOS costuma ser armazenado na memória flash, mas também pode ser armazenado em outros locais como um servidor de Protocolo de Transferência de Arquivos Trivial (TFTP, Trivial File Transfer Protocol).</p> <p>Se uma imagem completa do IOS não puder ser localizada, uma versão dimensionada do IOS será copiada da ROM para a RAM. Essa versão do IOS é usada para ajudar a diagnosticar qualquer problema, podendo ser usada para carregar uma versão completa do IOS na RAM.</p> <p><b>Nota:</b> Um servidor TFTP costuma ser usado como um servidor de backup para o IOS, mas também pode ser usado como um ponto central para armazenar e carregar o IOS. O gerenciamento do IOS e o uso do servidor TFTP são abordados em um curso posterior.</p> <p><b>Carregando o IOS.</b> Alguns dos roteadores Cisco mais antigos executavam o IOS diretamente a partir da memória flash, mas os modelos atuais copiam o IOS para a RAM para execução pela CPU. </p> <p><b>Nota:</b> Quando o IOS começar a ser carregado, você talvez veja uma cadeia de caracteres de sustenidos (#), como os mostrados na figura, enquanto a imagem é descompactada.</p> <p><b>4. Localizando e carregando o arquivo de configuração</b></p> <p><b>Localizando o arquivo de configuração de inicialização</b> Depois que o IOS for carregado, o programa de bootstrap irá pesquisar o arquivo de configuração de inicialização, conhecido como startup-config, na NVRAM. Esse arquivo tem os comandos de configuração e os parâmetros já salvos, inclusive:</p> <ul><li> endereços de interface</li> <li> informações de roteamento</li> <li> senhas</li> <li> qualquer outra configuração salva pelo administrador de rede</li></ul> <p>Se o arquivo de configuração de inicialização, startup-config, estiver localizado na NVRAM, ele será copiado para a RAM como o arquivo de configuração em execução, running-config.</p> <p><b>Nota:</b> Se não houver o arquivo de configuração de inicialização na NVRAM, o roteador talvez procure um servidor TFTP. Se o roteador detectar a existência de um enlace ativo para outro roteador configurado, ele irá enviar um broadcast à procura de um arquivo de configuração no enlace ativo. Essa condição fará com que o roteador pause, mas você acabará vendo uma mensagem de console como a seguinte:</p> <p>&lt;o roteador pára aqui ao difundir para um arquivo de configuração em um enlace ativo&gt;</p> <span class="cmd"><p>%Error opening tftp://255.255.255.255/network-confg (Timed out)</p></span> <span class="cmd"><p>%Error opening tftp://255.255.255.255/cisconet.cfg (Timed out)</p></span> <p><b>Executando o arquivo de configuração. </b>Se um arquivo de configuração de inicialização estiver localizado na NVRAM, o IOS irá carregá-lo na RAM como running-config e executar os comandos no arquivo, uma linha por vez. O arquivo running-config contém endereços de interface, inicia processos de roteamento, configura senhas de roteador e define outras características do roteador. </p> <p><b>Acesse o modo de configuração, Setup Mode, (opcional).</b> Se o arquivo de configuração de inicialização não puder ser localizado, o roteador irá solicitar ao usuário o acesso ao modo de configuração (setup mode). <content-link target="cg2894784407" type="glossary">Modo de configuração</content-link> é uma série de perguntas que solicita ao usuário informações de configuração básicas. O modo de configuração não deve ser usado para inserir configurações de roteador complexas, normalmente não sendo usado por administradores de rede. </p> <p>Ao inicializar um roteador que não contenha um arquivo de configuração de inicialização, você verá a seguinte pergunta após o carregamento do IOS:</p> <span class="cmd"><p>Would you like to enter the initial configuration dialog? [yes/no]: <b>no </b></p></span> <p>O modo de configuração não será usado neste curso para configurar o roteador. Quando solicitado a acessar o modo de configuração (setup mode), sempre responda <b>não</b>. Se responder <b>sim </b>e acessar o modo de configuração (setup mode), você poderá pressionar <b>Ctrl-C</b> a qualquer momento para encerrar o processo de configuração.</p> <p>Quando o modo de configuração não é usado, o IOS cria um running-config padrão. O running-config padrão é um arquivo de configuração básico que inclui as interfaces do roteador, as interfaces de gerenciamento e determinadas informações padrão. O running-config padrão não contém nenhum endereço de interface, nenhuma informação de roteamento, senhas ou outras informações de configuração específicas.</p> <p><b>Interface da linha de comando</b></p> <p>Dependendo da plataforma e do IOS, o roteador pode fazer a seguinte pergunta antes de exibir o prompt:</p> <span class="cmd"><p>Would you like to terminate autoinstall? [yes]: <b>&lt;Enter></b></p></span>  <span class="cmd"><p>Press the Enter key to accept the default answer. </p></span>  <span class="cmd"><p>Router></p></span> <p><b>Nota:</b> Se um arquivo de configuração de inicialização for localizado, o running-config talvez contenha um nome de host e o prompt irá exibir o nome de host do roteador.</p> <p>Quando o prompt é exibido, o roteador já está executando o IOS com o arquivo de configuração em execução atual. Agora o administrador de rede pode começar a usar comandos do IOS no roteador.</p> <p><b>Nota: </b>O processo de inicialização é abordado com mais detalhes em um curso posterior.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010402">
<content-media type="StaticGraphic" id="cm6236486715"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010400/tl0901010402/cm6236486715.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010400/tl0901010402/cm6236486715text.xml"/></content-media>
<content-text><p><b>Verificando o processo de inicialização do roteador</b></p> <p>O comando <span class="cmd"><b>show version</b></span> pode ser usado para ajudar a verificar e solucionar problemas de alguns componentes básicos de hardware e de software do roteador. O comando <span class="cmd"><b>show version</b></span> exibe informações sobre a versão do software Cisco IOS atualmente em execução no roteador, a versão do programa de bootstrap e as informações sobre a configuração de hardware, inclusive a quantidade de memória do sistema.</p> <p>A saída de comando <span class="cmd"><b>show version</b></span> inclui:</p> <p><b>Versão do IOS</b></p> <span class="cmd"><p>Cisco Internetwork Operating System Software</p></span> <span class="cmd"><p>IOS (tm) C2600 Software (C2600-I-M), <b>Version 12.2(28)</b>, RELEASE SOFTWARE (fc5)</p></span> <p>Esta é a versão do software Cisco IOS na RAM, sendo usada pelo roteador.</p> <p><b>Programa de bootstrap da ROM</b></p> <span class="cmd"><p>ROM: System Bootstrap, <b>Version 12.1(3r)T2</b>, RELEASE SOFTWARE (fc1)</p></span> <p>Isso mostra a versão do software de bootstrap do sistema, armazenada na memória ROM que foi usada inicialmente para inicializar o roteador.</p> <p><b>Local do IOS</b></p> <span class="cmd"><p>System image file is "<b>flash:c2600-i-mz.122-28.bin</b>"</p></span> <p>Isso mostra onde o programa de bootstrap está localizado e carregou o Cisco IOS, além do nome de arquivo completo da imagem do IOS.</p> <p><b>CPU e quantidade de RAM</b></p> <span class="cmd"><p>cisco 2621 (<b>MPC860</b>) processor (revision 0x200) with<b> 60416K/5120K bytes of memory</b></p></span> <p>A primeira parte dessa linha exibe o tipo de CPU no roteador. A última parte dessa linha exibe a quantidade de DRAM. Algumas séries de roteadores, como a 2600, usam uma fração da DRAM como memória de pacote. A memória de pacote é usada para armazenar pacotes em buffer.</p> <p>Para determinar a quantidade total de DRAM no roteador, adicione ambos os números. Nesse exemplo, o roteador Cisco 2621 tem 60.416 KB (quilobytes) de DRAM livre usados para armazenar temporariamente o Cisco IOS e outros processos de sistema. Os demais 5.120 KB são dedicados à memória de pacote. A soma desses números é 65.536K ou 64 megabytes (MB) de DRAM no total.</p> <p><b>Nota:</b> Talvez seja necessário atualizar a quantidade de RAM durante a atualização do IOS.</p> <p><b>Interfaces</b></p> <span class="cmd"><p>2 FastEthernet/IEEE 802.3 interface(s)</p></span> <span class="cmd"><p>2 Low-speed serial(sync/async) network interface(s)</p></span> <p>Esta seção da saída exibe as interfaces físicas no roteador. Nesse exemplo, o roteador Cisco 2621 tem duas interfaces FastEthernet e duas interfaces seriais de baixa velocidade.</p> <p><b>Quantidade de NVRAM</b></p> <span class="cmd"><p>32K bytes of non-volatile configuration memory.</p></span> <p>Essa é a quantidade de NVRAM no roteador. NVRAM é usada para armazenar o arquivo startup-config.</p> <p><b>Quantidade de memória flash</b></p> <span class="cmd"><p>16384K bytes of processor board System flash (Read/Write)</p></span> <p>Essa é a quantidade de memória flash no roteador. A memória flash é usada para armazenar permanentemente o Cisco IOS.</p> <p><b>Nota:</b> Talvez seja necessário atualizar a quantidade de memória flash durante a atualização do IOS.</p> <p><b>Registro de configuração</b></p> <span class="cmd"><p>Configuration register is 0x2102</p></span> <p>A última linha do comando <span class="cmd"><b>show version</b></span> exibe o valor configurado atual do registro de configuração de software em hexadecimal. Se houver um segundo valor exibido entre parênteses, ele irá denotar o valor do registro de configuração a ser usado durante a próxima recarga.</p> <p>O registro de configuração tem vários usos, inclusive a recuperação de senha. A configuração padrão de fábrica do registro de configuração é 0x2102. Esse valor indica que o roteador irá tentar carregar uma imagem do software Cisco IOS a partir da memória flash e carregar o arquivo de configuração de inicialização a partir da NVRAM.</p> <p><b>Nota:</b> O registro de configuração é abordado com mais detalhes em um curso posterior.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010403">
<content-media type="ActivityPKA" id="cm2465326324"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010400/tl0901010403/cm2465326324/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010400/tl0901010403/cm2465326324/icontext.xml"/></content-media>
<content-text><p>Use esta atividade do Packet Tracer para testar o modo de configuração e investigar o comando <span class="cmd"><b>show running-configuration</b></span>.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010500">
<title><content-text>Interfaces de roteador</content-text></title>
<page type="OneColumn" id="tl0901010501">
<content-media type="InteractiveGraphicRollovers" id="cm3626653393"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010501/cm3626653393.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010500/tl0901010501/cm3626653393text.xml"/></content-media>
<content-text><p><b>Portas de gerenciamento</b></p> <p>Os roteadores têm conectores físicos usados para gerenciar o roteador. Esses conectores são conhecidos como portas de gerenciamento. Diferentemente das interfaces Ethernet e seriais, as portas de gerenciamento não são usadas no encaminhamento de pacotes. A porta de gerenciamento mais comum é a <content-link target="cg8473764376" type="glossary">porta console</content-link>. A porta console é usada para conectar um terminal, ou mais freqüentemente um PC que executa software emulador de terminal, para configurar o roteador sem a necessidade de acesso à rede para o roteador. A porta console deve ser usada durante a configuração inicial do roteador.</p> <p>Outra porta de gerenciamento é a porta auxiliar. Nem todos os roteadores têm portas auxiliares. Às vezes, a porta auxiliar pode ser usada de maneira semelhante a uma porta console. Ela também pode ser usada no acoplamento a um modem. As portas auxiliares não serão usadas neste currículo.</p> <p>A figura mostra as portas de console e AUX do roteador.</p> <p><b>Interfaces de roteador</b></p> <p>O termo <i>interface </i>em roteadores Cisco se refere a um conector físico no roteador cujo propósito principal é receber e encaminhar pacotes. Os roteadores têm várias interfaces usadas na conexão com várias redes. Normalmente, as interfaces se conectam a vários tipos de redes, o que significa que são necessários tipos diferentes de meio e de conectores. Normalmente, um roteador irá precisar ter tipos diferentes de interfaces. Por exemplo, um roteador normalmente tem interfaces FastEthernet para conexões com redes locais diferentes e vários tipos de interfaces WAN para conectar vários enlaces seriais, inclusive T1, <content-link target="cg5636558179" type="glossary">DSL</content-link> e <content-link target="cg5216639655" type="glossary">ISDN</content-link>. A figura mostra as interfaces FastEthernet e seriais no roteador.</p> <p>Assim como as interfaces em um PC, as portas e as interfaces em um roteador estão localizadas fora do roteador. Sua localização externa possibilita um acoplamento prático aos cabos de rede e aos conectores apropriados.</p> <p><b>Nota:</b> Uma única interface em um roteador pode ser usada na conexão com várias redes; no entanto, isso está além do escopo deste curso, sendo abordado em um curso posterior.</p> <p>Assim como a maioria dos dispositivos de networking, os roteadores Cisco usam indicadores  <content-link target="cg9608982985" type="glossary">LED</content-link> para fornecer informações de status. Um LED de interface indica a atividade da interface correspondente. Se um LED estiver desligado quando a interface estiver ativa e a interface estiver conectada corretamente, isso talvez seja um indício de que existe um problema nessa interface. Se uma interface estiver muito ocupada, seu LED estará sempre ligado. Dependendo do tipo de roteador, talvez haja outros LEDs. Para obter mais informações sobre exibições de LED no 1841, consulte o link abaixo.</p> <p><b>Links</b></p> <p>"Identificando e solucionando problemas dos roteadores Cisco série 1800 (Modular)," <content-link target="http://www.cisco.com/en/US/docs/routers/access/1800/1841/hardware/installation/guide/18troub.html" type="external">http://www.cisco.com/en/US/docs/routers/access/1800/1841/hardware/installation/guide/18troub.html</content-link> (em inglês).</p></content-text>
</page>
<page type="OneColumn" id="tl0901010502">
<content-media type="StaticGraphic" id="cm3720251398"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010502/cm3720251398.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010500/tl0901010502/cm3720251398text.xml"/></content-media>
<content-text><p><b>Interfaces pertencem a redes diferentes</b></p> <p>Como mostrado na figura, toda interface no roteador é membro ou host em uma rede IP diferente. Cada interface deve ser configurada com um endereço IP e uma máscara de sub-rede de uma rede diferente. O Cisco IOS não irá permitir a duas interfaces ativas no mesmo roteador pertencer à mesma rede.</p> <p>As interfaces de roteador podem ser divididas em dois grupos principais:</p> <ul><li> <b>interfaces de rede local</b> – como Ethernet e FastEthernet</li> <li> <b>interfaces WAN</b> – como serial, ISDN e Frame Relay </li></ul> <p><b>Interfaces de rede local</b></p> <p>Como o próprio nome diz, as interfaces de rede local são usadas para conectar o roteador à rede local, semelhante à forma como uma placa de rede Ethernet do PC é usada para conectar o PC à rede local Ethernet. Assim como uma placa de rede Ethernet de PC, uma interface Ethernet de roteador também tem um endereço MAC de Camada 2 e participa da rede local Ethernet da mesma forma que qualquer outro <content-link target="cg2311059411" type="glossary">host</content-link> na rede local. Por exemplo, uma interface Ethernet de roteador participa do processo ARP da rede local. O roteador mantém um cache ARP para a interface, envia solicitações ARP quando necessário e responde com respostas ARP quando solicitado. </p> <p>Uma interface Ethernet de roteador normalmente usa um conector RJ-45 que oferece suporte ao cabeamento Par Trançado Não-Blindado (UTP, Unshielded Twisted-Pair). Quando um roteador é conectado a um switch, um <content-link target="cg3853080056" type="glossary">cabo</content-link> straight-through é usado. Quando dois roteadores são conectado diretamentes pelas interfaces Ethernet, ou quando uma placa de rede de PC é conectada diretamente a uma interface Ethernet de roteador, é usado um cabo crossover. </p> <p>Use a atividade de Packet Tracer posteriormente nesta seção para testar suas habilidades de cabeamento.</p> <p><b>Interfaces WAN</b></p> <p>As interfaces WAN são usadas para conectar roteadores a redes externas, normalmente a uma grande distância geográfica. O encapsulamento de Camada 2 pode ser de tipos diferentes, como PPP, Frame Relay e Controle de Enlace de Alto Nível (HDLC, High-Level Data Link Control). Semelhante a interfaces de rede local, cada interface WAN tem seu próprio endereço IP e máscara de sub-rede, o que a identifica como um membro de uma rede específica. </p> <p><b>Nota:</b> Os endereços MAC são usados em interfaces de rede local, como Ethernet, não sendo usados em interfaces WAN. No entanto, as interfaces WAN usam seus próprios endereços de Camada2, dependendo da tecnologia. Os tipos de encapsulamento WAN da Camada 2 e os endereços serão abordados em um curso posterior.</p> <p><b>Interfaces de roteador</b></p> <p>O roteador na figura tem quatro interfaces. Cada interface tem um endereço IP de Camada 3 e uma máscara de sub-rede que a configura para uma rede diferente. As interfaces Ethernet também têm endereços MAC Ethernet de Camada 2. </p> <p>As interfaces WAN estão usando encapsulamentos de Camada 2 diferentes. Serial 0/0/0 está usando HDLC e Serial 0/0/1 está usando PPP. Esses dois protocolos ponto-a-ponto seriais usam um endereço de broadcast para o endereço de destino da Camada 2 ao encapsular o pacote IP em um quadro de enlace.</p> <p>No ambiente de laboratório, você está restrito a quantas interfaces de rede local e WAN pode usar para configurar laboratórios práticos. No entanto, com o Packet Tracer, você tem a flexibilidade de criar designs de rede mais complexos.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010503">
<content-media type="ActivityPKA" id="cm1897900983"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010503/cm1897900983/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010500/tl0901010503/cm1897900983/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para testar a seleção do cabo correto para conectar dispositivos.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901010504">
<content-media type="ActivityPKA" id="cm7358561846"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010500/tl0901010504/cm7358561846/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901010000/tl0901010500/tl0901010504/cm7358561846/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para explorar usando as guias <b>Physical</b>, <b>Config</b> e <b>CLI </b>de um roteador.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901010600">
<title><content-text>Roteadores e a camada de rede</content-text></title>
<page type="OneColumn" id="tl0901010601">
<content-media type="AnimationPartialScreen" id="cm8562412505"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010600/tl0901010601/cm8562412505.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010600/tl0901010601/cm8562412505text.xml"/></content-media>
<content-text><p><b>Roteadores e a camada de rede</b></p> <p>O propósito principal de um roteador é conectar várias redes e encaminhar pacotes com destino ou para suas próprias redes ou outras. Um roteador é considerado um dispositivo de Camada 3 porque sua decisão primária de encaminhamento se baseia nas informações no pacote IP da Camada 3, mais especificamente o endereço IP de destino. Esse processo é conhecido como roteamento.</p> <p>Quando um roteador recebe um pacote, ele examina seu endereço IP de destino. Se o endereço IP de destino não pertencer a nenhuma das redes conectadas diretamente do roteador, o roteador deve encaminhar esse pacote para outro. Na figura, R1 examina o endereço IP de destino do pacote. Depois de pesquisar a tabela de roteamento, R1 encaminha o pacote em R2. Quando R2 recebe o pacote, ele também examina o endereço IP de destino do pacote. Depois de pesquisar sua tabela de roteamento, R2 encaminha o pacote por sua rede Ethernet conectada diretamente para PC2.</p> <p>Quando cada roteador recebe um pacote, ele procura em sua tabela de roteamento até encontrar a melhor correspondência entre o endereço IP de destino do pacote e um dos endereços de rede na tabela de roteamento. Quando uma correspondência é localizada, o pacote é encapsulado no quadro de enlace da Camada 2 dessa interface de saída. O tipo de encapsulamento do enlace de dados depende do tipo de interface, como Ethernet ou HDLC.</p> <p>O pacote acaba alcançando um roteador que faz parte de uma rede que corresponde ao endereço IP de destino do pacote. Neste exemplo, o Roteador R2 recebe o pacote de R1. R2 encaminha o pacote por sua interface Ethernet, que pertence à mesma rede do dispositivo de destino, PC2. </p> <p>Essa seqüência de eventos é explicada com mais detalhes posteriormente neste capítulo.</p></content-text>
</page>
<page type="OneColumn" id="tl0901010602">
<content-media type="AnimationPartialScreen" id="cm2652544993"><title><content-text></content-text></title><media ref="tl0901000000/tl0901010000/tl0901010600/tl0901010602/cm2652544993.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901010000/tl0901010600/tl0901010602/cm2652544993text.xml"/></content-media>
<content-text><p><b>Roteadores funcionam nas camadas 1, 2 e 3</b></p> <p>Um roteador toma sua decisão primária de encaminhamento na Camada 3, mas como vimos anteriormente, ele também participa dos processos das camadas 1 e 2. Depois que um roteador examina o endereço IP de destino de um pacote e consulta sua tabela de roteamento para tomar sua decisão de encaminhamento, ele pode encaminhar esse pacote pela interface apropriada na direção do seu destino. O roteador encapsula o pacote IP da Camada 3 na porção de dados de um quadro de enlace de dados da Camada 2 apropriado à interface de saída. O tipo de quadro pode ser um encapsulamento Ethernet, HDLC ou algum outro de Camada 2 – independentemente do encapsulamento usado na interface em questão. O quadro de Camada 2 é codificado em sinais físicos da Camada 1 usados para representar bits no enlace físico.</p> <p>Para compreender melhor esse processo, consulte a figura. Observe que PC1 funciona em todas as sete camadas, encapsulando os dados e enviando o quadro como um fluxo de bits codificados para R1, seu gateway padrão.</p> <p>R1 recebe o fluxo de bits codificados em sua interface. Os bits são decodificados e passados para a Camada 2, onde R1 desencapsula o quadro. O roteador examina o endereço de destino do quadro de enlace de dados para determinar se ele corresponde à interface de recebimento, incluindo um endereço de broadcast ou multicast. Se houver uma correspondência em relação à porção de dados do quadro, o pacote IP será passado para a Camada 3, onde R1 toma sua decisão de roteamento. Em seguida, R1 reencapsula o pacote em um novo quadro de enlace de dados da Camada 2 e o encaminha pela interface de saída como um fluxo de bits codificados. </p> <p>R2 recebe o fluxo de bits e o processo se repete. R2 desencapsula o quadro e passa a porção de dados do quadro, o pacote IP, para a Camada 3, onde R2 toma sua decisão de roteamento. Em seguida, R2 reencapsula o pacote em um novo quadro de dados da Camada 2 e o encaminha pela interface de saída como um fluxo de bits codificados.</p> <p>Esse processo é repetido mais uma vez pelo Roteador R3, que encaminha o pacote IP encapsulado em um quadro de enlace de dados e codificado como bits, para PC2. </p> <p>Cada roteador no caminho da origem até o destino executa esse mesmo processo de desencapsulamento, pesquisando a tabela de roteamento, e reencapsulando. Esse processo é importante para sua compreensão de como roteadores participam de redes. Portanto, nós veremos novamente essa discussão em mais profundidade em uma seção posterior.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901020000">
<title><content-text>Configuração de CLI e endereçamento</content-text></title>
<topic type="" id="tl0901020100">
<title><content-text>Implementando esquemas de endereçamento básicos</content-text></title>
<page type="OneColumn" id="tl0901020101">
<content-media type="ActivityDnDCheckReset" id="cm1891347561"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020100/tl0901020101/cm1891347561.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020100/tl0901020101/cm1891347561text.xml"/></content-media>
<content-text><p>Ao criar uma nova rede ou mapear uma já existente, documente-a. A documentação deve incluir, pelo menos, um diagrama de topologia indicando a conectividade física e uma tabela de endereçamento listando todas as seguintes informações:</p> <ul><li> Nomes de dispositivo</li> <li> Interfaces usadas no design</li> <li> Endereços IP e máscaras de sub-rede</li> <li> Endereços de gateway padrão dos dispositivos finais, como PCs</li></ul> <p><b>Preenchendo uma tabela de endereços </b></p> <p>A figura mostra uma topologia de rede com os dispositivos interconectados e configurados com endereços IP. Sob a topologia está uma tabela usada para documentar a rede. A tabela é preenchida parcialmente com os dados documentando a rede (dispositivos, endereços IP, máscaras de sub-rede e interfaces).</p> <p>O Roteador R1 e o Host PC1 já estão documentados. Termine de preencher a tabela e os espaços em branco no diagrama, arrastando o conjunto de endereços IP mostrado abaixo da tabela até os locais corretos.</p></content-text>
</page>
<page type="OneColumn" id="tl0901020102">
<content-media type="ActivityPKA" id="cm1772529439"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020100/tl0901020102/cm1772529439/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901020000/tl0901020100/tl0901020102/cm1772529439/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para conectar os dispositivos. Configure os nomes de dispositivo de acordo com a figura e use o recurso <b>Place Note</b> para adicionar rótulos de endereço de rede.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901020200">
<title><content-text>Configuração básica do roteador</content-text></title>
<page type="OneColumn" id="tl0901020201">
<content-media type="StaticGraphic" id="cm6104940742"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020201/cm6104940742.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020200/tl0901020201/cm6104940742text.xml"/></content-media>
<content-text><p><b>Configuração básica do roteador</b></p> <p>Durante a configuração de um roteador, são executadas determinadas tarefas básicas, inclusive:</p> <ul><li> Nomeação do roteador</li> <li> Definição de senhas</li> <li> Configuração de interfaces</li> <li> Configuração de um banner</li> <li> Salvando as alterações em um roteador</li> <li> Verificação da configuração básica e das operações do roteador</li></ul> <p>Você já deve estar familiarizado com estes comandos de configuração. No entanto, faremos uma breve revisão. Começamos nossa revisão pressupondo que o roteador não tenha um arquivo startup-config atual.</p> <p>O primeiro prompt é exibido no modo de usuário. O modo de usuário permite exibir o estado do roteador, mas não modificar sua configuração. Não confunda o termo "usuário" como usado no modo de usuário com usuários da rede. O modo de usuário se destina aos técnicos de rede, operadores e engenheiros que têm a responsabilidade de configurar dispositivos de rede.</p> <span class="cmd"><p>Router></p></span> <p>O comando <span class="cmd"><b>enable </b></span>é usado para acessar o <content-link target="cg2124003203" type="glossary">modo EXEC privilegiado</content-link>. Esse modo permite ao usuário fazer alterações na configuração do roteador. O prompt do roteador irá passar de ">" para "#" nesse modo.</p> <span class="cmd"><p>Router><b>enable</b></p></span> <span class="cmd"><p>Router#</p></span> <p><b>Nomes de host e senhas</b></p> <p>A figura mostra a sintaxe de comando de configuração básica do roteador usada para configurar R1 no exemplo a seguir. Você pode abrir a atividade do Packet Tracer 1.2.2 e acompanhar ou aguardar o término desta seção para abri-la.</p> <p>Primeiro, acesse o modo de configuração global.</p> <span class="cmd"><p>Router#<b>config t </b></p></span> <p>Em seguida, aplique um nome de host exclusivo ao roteador.</p> <span class="cmd"><p>Router(config)#<b>hostname R1</b></p></span> <span class="cmd"><p>R1(config)#</p></span> <p>Agora, configure uma senha a ser usada para acessar o modo EXEC privilegiado. Em nosso ambiente de laboratório, usaremos a senha <i>class</i>. No entanto, em ambientes de produção, os roteadores devem ter senhas fortes. Consulte os links ao término desta seção para obter mais informações sobre como criar e usar senhas fortes. </p> <span class="cmd"><p>Router(config)#<b>enable secret class</b></p></span> <p>Em seguida, configure as linhas de console e <content-link target="cg4751811026" type="glossary">Telnet</content-link> usando a senha <i>cisco</i>. Mais uma vez, a senha <i>cisco </i>é usada exclusivamente em nosso ambiente de laboratório. O comando login habilita a verificação da senha na linha. Se você não inserir o comando login na linha de console, o usuário terá acesso à linha sem inserir uma senha.</p> <span class="cmd"><p>R1(config)#<b>line console 0 </b></p></span> <span class="cmd"><p>R1(config-line)#<b>password cisco</b></p></span> <span class="cmd"><p>R1(config-line)#<b>login </b></p></span> <span class="cmd"><p>R1(config-line)#<b>exit </b></p></span> <span class="cmd"><p>R1(config)#<b>line vty 0 4</b> </p></span> <span class="cmd"><p>R1(config-line)#<b>password cisco</b></p></span> <span class="cmd"><p>R1(config-line)#<b>login </b></p></span> <span class="cmd"><p>R1(config-line)#<b>exit </b></p></span>  <p><b>Configurando um banner</b></p> <p>No modo de configuração global, configure o banner message-of-the-day (motd). Um caractere de delimitação, como "#", é usado no início e no fim da mensagem. O delimitador permite configurar um banner em várias linhas, como mostrado aqui.</p> <span class="cmd"><p>R1(config)#<b>banner motd # </b></p></span> <span class="cmd"><p>Digite a mensagem TEXT. Fim com o caractere '#'.</p></span> <span class="cmd"><p><b>******************************************</b></p></span> <span class="cmd"><p><b>AVISO!! Acesso Não Autorizado Proibido!!</b></p></span> <span class="cmd"><p><b>******************************************</b></p></span> <span class="cmd"><p><b>#</b></p></span> <p>Configurar um banner apropriado faz parte de um bom plano de segurança. Um banner deve, pelo menos, advertir contra o acesso não autorizado. Jamais configure um banner com "boas-vindas" para um usuário não autorizado.</p> <p><b>Links</b></p> <p>Para discussões sobre como usar senhas fortes, consulte:</p> <p>"Resposta da Cisco aos ataques de dicionário no Cisco LEAP," em <content-link target="http://www.cisco.com/en/US/products/hw/wireless/ps430/prod_bulletin09186a00801cc901.html#wp1002291" type="external">http://www.cisco.com/en/US/products/hw/wireless/ps430/prod_bulletin09186a00801cc901.html#wp1002291</content-link> (em inglês).</p> <p>"Senhas fortes: Como criá-las e usá-las," em <content-link target="http://www.microsoft.com/athome/security/privacy/password.mspx" type="external">http://www.microsoft.com/athome/security/privacy/password.mspx </content-link> (em inglês).</p></content-text>
</page>
<page type="OneColumn" id="tl0901020202">
<content-media type="StaticGraphic" id="cm4267619878"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020202/cm4267619878.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020200/tl0901020202/cm4267619878text.xml"/></content-media>
<content-text><p><b>Configuração da interface do roteador</b></p> <p>Agora você irá configurar as interfaces de roteador individuais com endereços IP e outras informações. Primeiro, acesse o modo de configuração da interface, especificando o tipo de interface e o número. Em seguida, configure o endereço IP e a máscara de sub-rede:</p> <span class="cmd"><p>R1(config)#<b>interface Serial0/0/0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.2.1 255.255.255.0</b></p></span> <p>É uma prática recomendada configurar uma descrição em cada interface para ajudar a documentar as informações de rede. O texto da descrição está limitado a 240 caracteres. Em redes de produção, uma descrição pode ser útil na solução de problemas, fornecendo informações sobre o tipo de rede a que a interface está conectada e se há qualquer outro roteador nessa rede. Se a interface se conectar a um ISP ou a uma operadora de serviço, será útil inserir a conexão de terceiros e informações de contato; por exemplo:</p> <span class="cmd"><p>Router(config-if)#<b>description Ciruit#VBN32696-123 (help desk:1-800-555-1234)</b></p></span> <p>Em ambientes de laboratório, insira uma descrição simples que irá ajudar a solucionar problemas em situações; por exemplo:</p> <span class="cmd"><p>R1(config-if)#<b>description Link to R2</b></p></span> <p>Depois de configurar o endereço IP e a descrição, a interface deve ser ativada com o comando <span class="cmd"><b>no shutdown</b></span>. Isso é semelhante a ligar a interface. A interface também deve ser conectada a outro dispositivo (um hub, um switch, outro roteador etc.) para que a camada física permaneça ativa.</p> <span class="cmd"><p>Router(config-if)#<b>no shutdown</b></p></span> <p><b>Nota:</b> Durante o cabeamento de um enlace serial ponto-a-ponto em nosso ambiente de laboratório, uma extremidade do cabo é marcada como DTE e a outra, como DCE. O roteador com a extremidade DCE do cabo conectado à sua interface serial precisará do comando adicional <span class="cmd"><b>clock rate</b></span> configurado nessa interface serial. Essa etapa só é necessária em um ambiente de laboratório, sendo explicada com mais detalhes no Capítulo 2, "Roteamento estático".</p> <span class="cmd"><p>R1(config-if)#<b>clock rate 64000</b></p></span> <p>Repita os comandos de configuração da interface em todas as demais interfaces a serem configuradas. Em nosso exemplo de topologia, a interface FastEthernet precisa ser configurada.</p> <span class="cmd"><p>R1(config)#<b>interface FastEthernet0/0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.1.1 255.255.255.0</b></p></span> <span class="cmd"><p>R1(config-if)#<b>description R1 LAN</b></p></span> <span class="cmd"><p>R1(config-if)#<b>no shutdown</b></p></span> <p><b>Cada interface pertence a uma rede diferente</b></p> <p>Neste momento, observe que cada interface deve pertencer a uma rede diferente. Embora o IOS permita configurar um endereço IP da mesma rede em duas interfaces diferentes, o roteador não irá ativar a segunda interface. </p> <p>Por exemplo, e se você tentar configurar a interface FastEthernet 0/1 em R1 com um endereço IP na rede 192.168.1.0/24? FastEthernet 0/0 já recebeu um endereço nessa mesma rede. Se tentar configurar outra interface, FastEthernet 0/1, com um endereço IP que pertence à mesma rede, você irá obter a seguinte mensagem:</p> <span class="cmd"><p>R1(config)#<b>interface FastEthernet0/1</b></p></span> <span class="cmd"><p>R1(config-if)#<b>ip address 192.168.1.2 255.255.255.0</b></p></span> <span class="cmd"><p><span class="blue">192.168.1.0 overlaps with FastEthernet0/0</span></p></span> <p>Se houver uma tentativa de habilitar a interface com o comando <span class="cmd"><b>no shutdown</b></span>, a seguinte mensagem será exibida:</p> <span class="cmd"><p>R1(config-if)#<b>no shutdown</b></p></span> <span class="cmd"><p><span class="blue">192.168.1.0 overlaps with FastEthernet0/0</span></p></span> <span class="cmd"><p><span class="blue">FastEthernet0/1: incorrect IP address assignment</span></p></span> <p>Observe que a saída de comando <span class="cmd"><b>show ip interface brief</b></span> mostra que a segunda interface configurada para a rede 192.168.1.0/24, FastEthernet 0/1, ainda está desativada. </p> <span class="cmd"><p>R1#<b>show ip interface brief</b></p></span> <span class="cmd"><p>&lt;saída omitida&gt;</p></span> <span class="cmd"><p>FastEthernet0/1 192.168.1.2 YES manual administratively down down</p></span></content-text>
</page>
<page type="OneColumn" id="tl0901020203">
<content-media type="InteractiveGraphicHotspots" id="cm8684422861"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020203/cm8684422861.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901020000/tl0901020200/tl0901020203/cm8684422861text.xml"/></content-media>
<content-text><p><b>Verificando a Configuração básica do roteador</b></p> <p>No exemplo atual, todos os comandos de configuração básica do roteador anteriores foram inseridos e armazenados imediatamente no arquivo de configuração em execução de R1. O arquivo running-config é armazenado na RAM, sendo o arquivo de configuração usado pelo IOS. A próxima etapa é verificar os comandos inseridos, exibindo a configuração em execução com o seguinte comando:</p> <span class="cmd"><p>R1#<b>show running-config</b></p></span> <p>Agora que os comandos de configuração básica foram inseridos, é importante salvar o running-config na memória não volátil, a NVRAM do roteador. Dessa forma, no caso de uma queda de energia ou de uma recarga acidental, o roteador poderá ser inicializado com a configuração atual. Depois que a configuração do roteador foi concluída e testada, é importante salvar o running-config no startup-config como o arquivo de configuração permanente.</p> <span class="cmd"><p>R1#<b>copy running-config startup-config</b></p></span> <p>Depois de aplicar e salvar a configuração básica, você poderá usar vários comandos para verificar se configurou corretamente o roteador. Clique no botão apropriado na figura para ver uma listagem da saída de cada comando. Todos esses comandos são abordados com mais detalhes em capítulos posteriores. Por ora, comece a se familiarizar com a saída.</p> <span class="cmd"><p>R1#<b>show running-config</b></p></span> <p>Esse comando exibe a configuração em execução atual armazenada na RAM. Com algumas exceções, todos os comandos de configuração usados serão inseridos no running-config e implementados imediatamente pelo IOS. </p> <span class="cmd"><p>R1#<b>show startup-config</b></p></span> <p>Esse comando exibe o arquivo de configuração de inicialização armazenado na NVRAM. Essa é a configuração que o roteador irá usar na próxima reinicialização. Essa configuração não é alterada a menos que a configuração em execução atual seja salva na NVRAM com o comando <span class="cmd"><b>copy running-config startup-config</b></span>. Observe na figura que a configuração de inicialização e a configuração em execução são idênticas. Elas são idênticas porque a configuração em execução não foi alterada desde a última vez em que foi salva. Também observe que o comando <span class="cmd"><b>show startup-config</b></span> exibe quantos bytes de NVRAM a configuração salva está usando.</p> <span class="cmd"><p>R1#<b>show ip route</b></p></span> <p>Esse comando exibe a tabela de roteamento que o IOS está usando atualmente para escolher o melhor caminho para suas redes de destino. Neste momento, R1 só tem rotas para suas redes conectadas diretamente por meio de suas próprias interfaces.</p> <span class="cmd"><p>R1#<b>show interfaces</b></p></span> <p>Esse comando exibe todos os parâmetros de configuração da interface e as estatísticas. Algumas dessas informações são abordadas posteriormente no currículo e no CCNP. </p> <span class="cmd"><p>R1#<b>show ip interface brief</b></p></span> <p>Esse comando exibe informações sumarizadas de configuração da interface, inclusive endereço IP e status de interface. Esse comando é uma ferramenta útil para solucionar problemas, além de ser uma forma rápida de determinar o status de todas as demais interfaces do roteador.</p></content-text>
</page>
<page type="OneColumn" id="tl0901020204">
<content-media type="ActivityPKA" id="cm6348132421"><title><content-text></content-text></title><media ref="tl0901000000/tl0901020000/tl0901020200/tl0901020204/cm6348132421/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901020000/tl0901020200/tl0901020204/cm6348132421/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para testar a configuração básica do roteador e os comandos de verificação.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901030000">
<title><content-text>Criando a tabela de roteamento</content-text></title>
<topic type="" id="tl0901030100">
<title><content-text>Apresentando a tabela de roteamento</content-text></title>
<page type="OneColumn" id="tl0901030101">
<content-media type="StaticGraphic" id="cm8650368766"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030100/tl0901030101/cm8650368766.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030100/tl0901030101/cm8650368766text.xml"/></content-media>
<content-text><p><b>Apresentando a rabela de toteamento</b></p> <p>A principal função de um roteador é encaminhar um pacote para sua rede de destino, que é o endereço IP de destino do pacote. Para isso, um roteador precisa pesquisar as informações de roteamento armazenadas em sua tabela de roteamento. </p> <p>Uma tabela de roteamento é um arquivo de dados na RAM usada para armazenar informações de rota sobre redes conectadas diretamente e remotas. A tabela de roteamento contém associações de rede/próximo salto. Essas associações informam a um roteador que, em termos ideais, um determinado destino pode ser alcançado enviando-se o pacote para um roteador específico que representa o "próximo salto" a caminho do destino final. A associação de próximo salto também pode ser a interface de saída para o destino final. </p> <p>A associação rede/interface de saída também pode representar o endereço de rede de destino do pacote IP. Essa associação ocorre nas redes do roteador conectadas diretamente.</p> <p>Uma rede conectada diretamente é uma rede acoplada diretamente a uma das interfaces do roteador. Quando a interface de um roteador é configurada com um endereço IP e uma máscara de sub-rede, a interface se torna um host na rede acoplada. O endereço de rede e a máscara de sub-rede da interface, além do tipo de interface e o número, são inseridos na tabela de roteamento como uma rede conectada diretamente. Quando um roteador encaminha um pacote para um host, como um servidor Web, o host está na mesma rede da rede conectada diretamente de um roteador.</p> <p>Uma rede remota é uma rede que não está conectada diretamente ao roteador. Em outras palavras, uma rede remota é uma rede que só pode ser alcançada enviando-se o pacote para outro roteador. As redes remotas são adicionadas à tabela de roteamento usando um protocolo de roteamento dinâmico ou configurando rotas estáticas. Rotas dinâmicas são rotas para redes remotas que foram aprendidas automaticamente pelo roteador, usando um protocolo de roteamento dinâmico. Rotas estáticas são rotas para redes configuradas manualmente por um administrador de rede.</p> <p><b>Nota:</b> A tabela de roteamento com suas redes conectadas diretamente, as rotas estáticas e as rotas dinâmicas serão apresentadas nas seções a seguir e abordadas com mais detalhes ao longo deste curso.</p> <p>As seguintes analogias podem ajudar a esclarecer o conceito de rotas conectadas, estáticas e dinâmicas:</p> <ul><li> <b>Rotas conectadas diretamente</b> – Para visitar um <content-link target="cg5460413738" type="glossary">vizinho</content-link>, você só precisa descer a rua onde mora. Esse caminho é semelhante a uma rota conectada diretamente porque o "destino" está disponível diretamente por meio da "interface conectada", a rua.</li> <li> <b>Rotas estáticos</b> – Um trem usa a mesma ferrovia sempre para uma rota especificada. Esse caminho é semelhante a uma rota estática porque o caminho para o destino é sempre o mesmo.</li> <li> <b>Rotas dinâmicas</b> – Ao dirigir um carro, você pode escolher um caminho diferente "dinamicamente" com base no tráfego, no tempo ou em outras condições. Esse caminho é semelhante a uma rota dinâmica porque você pode escolher um novo caminho em muitos pontos diferentes para o destino ao longo do caminho.</li></ul> <p><b>O</b><b> comando </b><span class="cmd"><b>show ip route</b></span></p> <p>Como mostrado na figura, a tabela de roteamento é exibida com o comando <span class="cmd"><b>show ip route</b></span>. Neste momento, não houve nenhuma rota estática configurada nem qualquer protocolo de roteamento dinâmico habilitado. Portanto, a tabela de roteamento de R1 só mostra as redes do roteador conectadas diretamente. Para cada rede listada na tabela de roteamento, as seguintes informações são incluídas:</p> <ul><li> <span class="cmd"><b>C</b></span> - As informações nesta coluna denotam a origem das informações da rota, a rede conectada diretamente, a rota estática ou um protocolo de roteamento dinâmico. <b>C</b> representa uma rota conectada diretamente.</li> <li> <span class="cmd"><b>192.168.1.0/24</b></span> - Este é o endereço de rede e a máscara de sub-rede da rede conectada diretamente ou remota. Nesse exemplo, ambas as entradas na tabela de roteamento, 192.168.1./24 e 192.168.2.0/24, são redes conectadas diretamente.</li> <li> <span class="cmd"><b>FastEthernet 0/0</b></span> - As informações ao término da entrada da rota representam a interface de saída e/ou o endereço IP do roteador de <content-link target="cg1289899180" type="glossary">próximo salto</content-link>. Nesse exemplo, FastEthernet 0/0 e Serial0/0/0 são as interfaces de saída usadas para alcançar essas redes.</li></ul> <p>Quando a tabela de roteamento inclui uma entrada de rota para uma rede remota, informações adicionais são incluídas, como a métrica de roteamento e a <content-link target="cg5039223251" type="glossary">distância administrativa</content-link>. A <content-link target="cg5601796963" type="glossary">métrica</content-link> de roteamento, a distância administrativa e o comando <span class="cmd"><b>show ip route</b></span> são explicados com mais detalhes nos capítulos posteriores.</p> <p>Os PCs também têm uma tabela de roteamento. Na figura, você pode ver a saída de comando <span class="cmd"><b>route print</b></span>. O comando revela o gateway padrão configurado ou adquirido, as redes conectadas, <content-link target="cg6552304928" type="glossary">loopback</content-link>, multicast e de broadcast. A saída de comando <span class="cmd"><b>route print </b></span>não será analisado durante este curso. Isso é mostrado aqui para enfatizar o ponto que todos os dispositivos IP configurados devem ter uma tabela de roteamento.</p></content-text>
</page>
</topic>
<topic type="" id="tl0901030200">
<title><content-text>Redes conectadas diretamente</content-text></title>
<page type="OneColumn" id="tl0901030201">
<content-media type="StaticGraphic" id="cm5817273550"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030200/tl0901030201/cm5817273550.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030200/tl0901030201/cm5817273550text.xml"/></content-media>
<content-text><p><b>Adicionando uma rede conectada à tabela de roteamento</b></p> <p>Conforme mencionado na seção anterior, quando a interface de um roteador é configurada com um endereço IP e uma máscara de sub-rede, a interface se torna um host na rede. Por exemplo, quando a interface FastEthernet 0/0 em R1 na figura é configurada com o endereço IP 192.168.1.1 e a máscara de sub-rede 255.255.255.0, a interface FastEthernet 0/0 se torna membro da rede 192.168.1.0/24. Os hosts que são acoplados à mesma rede local, como PC1, também são configurados com um endereço IP que pertence à rede 192.168.1.0/24.</p> <p>Quando um PC é configurado com um endereço IP de host e uma máscara de sub-rede, o PC usa a máscara de sub-rede para determinar a que rede ela pertence agora. Isso é feito pelo sistema operacional ANDing o endereço IP de host e a máscara de sub-rede. Um roteador usa a mesma lógica quando uma interface é configurada. </p> <p>Um PC é normalmente configurado com um único endereço IP de host porque só tem uma única interface de rede, quase sempre uma placa de rede Ethernet. Como os roteadores têm várias interfaces, cada interface deve ser membro de uma rede diferente. Na figura, R1 é membro de duas redes diferentes: 192.168.1.0/24 e 192.168.2.0/24. O Roteador R2 também é membro de duas redes: 192.168.2.0/24 e 192.168.3.0/24.</p> <p>Depois que a interface do roteador é configurada e a interface é ativada com o comando <span class="cmd"><b>no shutdown</b></span>, a interface deve receber um sinal de operadora de outro dispositivo (roteador, switch, hub etc.) antes do estado da interface ser considerado "ativo". Quando a interface está "ativa", a rede dessa interface é adicionada à tabela de roteamento como uma rede conectada diretamente. </p> <p>Para que um roteamento estático ou dinâmico seja configurado em um roteador, o roteador só sabe sobre suas próprias redes conectadas diretamente. Essas são as únicas redes exibidas na tabela de roteamento até a configuração do roteamento estático ou dinâmico. As redes conectadas diretamente têm grande importância nas decisões de roteamento. As rotas estáticas e dinâmicas não podem existir na tabela de roteamento sem redes conectadas diretamente do próprio roteador. O roteador não poderá enviar pacotes por uma interface se ela não estiver habilitada com um endereço IP e uma máscara de sub-rede, assim como um PC não poderá enviar pacotes IP por sua interface Ethernet se essa interface não for configurada com um endereço IP e uma máscara de sub-rede.</p> <p><b>Nota:</b> Os processos de configuração das interfaces de roteador e de adição do endereço de rede à tabela de roteamento são abordados no capítulo a seguir.</p></content-text>
</page>
<page type="OneColumn" id="tl0901030202">
<content-media type="ActivityPKA" id="cm4154586307"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030200/tl0901030202/cm4154586307/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030200/tl0901030202/cm4154586307/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para saber como o IOS instala e remove rotas conectadas diretamente.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901030300">
<title><content-text>Roteamento estático</content-text></title>
<page type="OneColumn" id="tl0901030301">
<content-media type="StaticGraphic" id="cm6425002053"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030300/tl0901030301/cm6425002053.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030300/tl0901030301/cm6425002053text.xml"/></content-media>
<content-text><p><b>Roteamento estático</b></p> <p>As redes remotas são adicionadas à tabela de roteamento, configurando rotas estáticas ou habilitando um protocolo de roteamento dinâmico. Quando o IOS souber algo sobre uma rede remota e sobre a interface que a usará para alcançar essa rede, ele irá adicionar essa rota à tabela de roteamento, desde que a interface de saída esteja habilitada. </p> <p>Uma rota estática inclui o endereço de rede e a máscara de sub-rede da rede remota, além do endereço IP do roteador do próximo salto ou da interface de saída. As rotas estáticas são denotadas com o código <b>S</b> na tabela de roteamento como mostrado na figura. As rotas estáticas são examinadas com mais detalhes no próximo capítulo.</p> <p><b>Quando usar rotas estáticas</b></p> <p>As rotas estáticas devem ser usadas nos seguintes casos:</p> <ul><li> <b>Uma rede consiste em alguns roteadores. </b>Nesse caso, usar um protocolo de roteamento dinâmico não apresenta nenhum benefício significativo. Pelo contrário, o roteamento dinâmico pode adicionar mais sobrecarga administrativa.</li> <li> <b>Uma rede é conectada à Internet apenas por meio de um único ISP. </b>Não há nenhuma necessidade de usar um protocolo de roteamento dinâmico nesse enlace porque o ISP representa o único ponto de saída para a Internet.</li> <li> <b>Uma grande rede é configurada em uma topologia <content-link target="cg3878387383" type="glossary">hub-and-spoke</content-link>. </b>Uma topologia hub-and-spoke consiste em um local central (o hub) e vários locais de filial (spokes), com cada spoke tendo apenas uma conexão com o hub. Usar o roteamento dinâmico seria desnecessário porque cada filial só tem um caminho para um determinado destino no local central.</li></ul> <p>Normalmente, a maior parte das tabelas de roteamento contém uma combinação de rotas estáticas e dinâmicas. Mas, como dissemos anteriormente, a tabela de roteamento deve conter primeiro as redes conectadas diretamente usadas para acessar essas redes remotas para que um roteamento estático ou dinâmico possa ser usado.</p></content-text>
</page>
<page type="OneColumn" id="tl0901030302">
<content-media type="ActivityPKA" id="cm6134660474"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030300/tl0901030302/cm6134660474/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030300/tl0901030302/cm6134660474/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para saber como o IOS instala e remove rotas estáticas.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901030400">
<title><content-text>Roteamento dinâmico</content-text></title>
<page type="OneColumn" id="tl0901030401">
<content-media type="StaticGraphic" id="cm7295035773"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030400/tl0901030401/cm7295035773.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030400/tl0901030401/cm7295035773text.xml"/></content-media>
<content-text><p><b>Roteamento dinâmico</b></p> <p>As redes remotas também podem ser adicionadas à tabela de roteamento, usando um protocolo de roteamento dinâmico. Na figura, R1 aprendeu automaticamente a rede 192.168.4.0/24 de R2 pelo protocolo de roteamento dinâmico, o Protocolo de Informações de Roteamento (RIP, Routing Information Protocol). RIP era um dos primeiros protocolos de roteamento IP e será totalmente abordado em capítulos posteriores. </p> <p><b>Nota:</b> A tabela de roteamento de R1 na figura mostra que R1 aprendeu aproximadamente duas redes remotas: uma rota que usou o RIP dinamicamente e uma rota estática que foi configurada manualmente. Este é um exemplo de como tabelas de roteamento podem conter rotas aprendidas dinamicamente e configuradas estaticamente, não sendo necessariamente uma representação da melhor configuração para essa rede.</p> <p>Os protocolos de roteamento dinâmico são usados por roteadores para compartilhar informações sobre o alcance e o status de redes remotas. Os protocolos de roteamento dinâmico executam várias atividades, inclusive:</p> <ul><li> Detecção de rede</li> <li> Atualização e manutenção das tabelas de roteamento</li></ul> <p><b>Detecção de rede automática</b></p> <p>Detecção de rede é a capacidade de um protocolo de roteamento de compartilhar informações sobre as redes aprendidas com outros roteadores que também estão usando o mesmo protocolo de roteamento. Em vez de configurar rotas estáticas para redes remotas em todos os roteadores, um protocolo de roteamento dinâmico permite aos roteadores aprender automaticamente essas redes com outros roteadores. Essas redes – e o melhor caminho para cada rede – são adicionadas à tabela de roteamento do roteador e denotadas como uma rede aprendida por um protocolo de roteamento dinâmico específico.</p> <p><b>Mantendo tabelas de roteamento</b></p> <p>Após a detecção de rede inicial, os <content-link target="cg2512579249" type="glossary">protocolos de roteamento dinâmico</content-link> atualizam e mantêm as redes em suas tabelas de roteamento. Os protocolos de roteamento dinâmico não apenas criam uma determinação de melhor caminho para várias redes, mas também determinam um novo melhor caminho caso o caminho inicial fique inutilizável (ou caso a topologia seja alterada). Por essas razões, os protocolos de roteamento dinâmico têm uma vantagem em relação a rotas estáticas. Os roteadores que usam protocolos de roteamento dinâmico compartilham automaticamente informações de roteamento com outros roteadores e compensam qualquer alteração feita na topologia sem envolver o administrador de rede.</p> <p><b>Protocolos de roteamento IP</b></p> <p>Há vários protocolos de roteamento dinâmico para IP. Aqui estão alguns do protocolos de roteamento dinâmico mais comuns para pacotes IP de roteamento:</p> <ul><li> Protocolo de informações de roteamento (RIP, Routing Information Protocol) </li> <li> Protocolo de Roteamento de Gateway Interior (<content-link target="cg4423637020" type="glossary">IGRP</content-link>, Interior Gateway Routing Protocol)</li> <li> Protocolo de Roteamento de Gateway Interior Aprimorado (EIGRP, Enhanced Interior Gateway Routing Protocol)</li> <li> Abrir caminho mais curto primeiro (OSPF, Open Shortest Path First) </li> <li> Sistema Intermediário para Sistema Intermediário (IS-IS, Intermediate System-to-Intermediate System)</li> <li> Protocolo de Roteamento de Borda (BGP, Border Gateway Protocol)</li></ul> <p><b>Nota:</b> RIP (versões 1 e 2), EIGRP e OSPF são abordados neste curso. EIGRP e OSPF também são explicados com mais detalhes no CCNP, além de IS-IS e BGP. IGRP é um protocolo de roteamento herdado, sendo substituído por EIGRP. IGRP e EIGRP são protocolos de roteamento de propriedade da Cisco, enquanto todos os demais protocolos de roteamento listados são protocolos padrão, sem propriedade. </p> <p>Mais uma vez, lembre-se de que, na maioria dos casos, os roteadores contêm uma combinação de rotas estáticas e dinâmicas nas tabelas de roteamento. Os protocolos de roteamento dinâmico serão abordados com mais detalhes no Capítulo 3, "Introdução aos protocolos de roteamento dinâmico". </p></content-text>
</page>
<page type="OneColumn" id="tl0901030402">
<content-media type="ActivityPKA" id="cm2414749699"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030400/tl0901030402/cm2414749699/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030400/tl0901030402/cm2414749699/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para saber como o IOS instala e remove rotas dinâmicas.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901030500">
<title><content-text>Princípios da tabela de roteamento</content-text></title>
<page type="OneColumn" id="tl0901030501">
<content-media type="AnimationPartialScreen" id="cm9786198804"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030500/tl0901030501/cm9786198804.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901030000/tl0901030500/tl0901030501/cm9786198804text.xml"/></content-media>
<content-text><p><b>Princípios da tabela de roteamento</b></p> <p>Às vezes, neste curso nós iremos nos referir a três princípios relativos a tabelas de roteamento que irão ajudar a compreender, configurar e solucionar problemas de roteamento. Esses princípios são do livro de Alex Zinin, <i>Cisco IP Routing</i>.</p> <p>1. Todos os roteadores tomam suas decisões sozinhos com base nas informações presentes em sua própria tabela de roteamento. </p> <p>2. O fato de um roteador ter determinadas informações em sua tabela de roteamento não significa que todos os roteadores tenham as mesmas informações. </p> <p>3. As informações de roteamento sobre um caminho de uma rede para outra não fornecem informações de roteamento sobre o caminho inverso ou de retorno.</p> <p>Qual é o efeito desses princípios? Vejamos o exemplo na figura.</p> <p>1. Depois de tomar sua decisão de roteamento, o Roteador R1 encaminha o pacote com destino a PC2 para o Roteador R2. R1 só sabe as informações em sua própria tabela de roteamento, o que indica que o Roteador R2 é o roteador de próximo salto. R1 não sabe se R2 tem, de fato, uma rota até a rede de destino. </p> <p>2. É de responsabilidade do administrador de rede ter certeza de que todos os roteadores dentro do seu controle tenham informações de roteamento completas e precisas para que os pacotes possam ser encaminhados entre duas redes. Isso pode ser feito com rotas estáticas, um protocolo de roteamento dinâmico ou uma combinação de ambos.</p> <p>3. O Roteador R2 conseguiu encaminhar o pacote para a rede de destino de PC2. No entanto, o pacote de PC2 para PC1 foi descartado por R2. Embora R2 tenha informações em sua tabela de roteamento sobre a rede de destino de PC2, não sabemos se ele tem as informações do caminho de retorno para a rede de PC1. </p> <p><b>Roteamento assimétrico</b></p> <p>Como os roteadores não necessariamente têm as mesmas informações em suas tabelas de roteamento, os pacotes podem atravessar a rede em uma direção, usando um caminho e retornando por outro. Isso é chamado de <content-link target="cg6775430194" type="glossary">roteamento assimétrico</content-link>. O roteamento assimétrico é mais comum na Internet, que usa o protocolo de roteamento BGP, do que na maioria das redes internas.</p> <p>Esse exemplo implica que, ao criar e solucionar problemas de uma rede, o administrador deve verificar as seguintes informações de roteamento:</p> <ul><li> Há um caminho da origem para o destino disponível em ambas as direções?</li> <li> O caminho leva a ambas as direções? (O roteamento assimétrico não é incomum, mas às vezes pode oferecer problemas adicionais.)</li></ul></content-text>
</page>
<page type="OneColumn" id="tl0901030502">
<content-media type="ActivityPKA" id="cm1190932262"><title><content-text></content-text></title><media ref="tl0901000000/tl0901030000/tl0901030500/tl0901030502/cm1190932262/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901030000/tl0901030500/tl0901030502/cm1190932262/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para investigar uma convergência completa na rede com roteamento conectado, estático e dinâmico.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901040000">
<title><content-text>Funções de determinação do caminho e de comutação</content-text></title>
<topic type="" id="tl0901040100">
<title><content-text>Campos de pacote e de quadro</content-text></title>
<page type="OneColumn" id="tl0901040101">
<content-media type="ActivityDnDCheckReset" id="cm1479960196"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040100/tl0901040101/cm1479960196.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040100/tl0901040101/cm1479960196text.xml"/></content-media>
<content-text><p><b>Campos de pacote e de quadro</b></p> <p>Como abordamos anteriormente, os roteadores tomam sua decisão primária de encaminhamento, examinando o endereço IP de destino de um pacote. Antes de enviar um pacote pela interface de saída apropriada, o pacote IP precisa ser encapsulado em um quadro de enlace da Camada 2. Posteriormente nesta seção, acompanharemos um pacote IP da origem para o destino, examinando o processo de encapsulamento e de desencapsulamento em cada roteador. Mas antes revisaremos o formato de um pacote IP de Camada 3 e um quadro Ethernet de Camada 2.</p> <p><b>Formato de pacote IP (Internet Protocol, Protocolo de internet)</b></p> <p>O protocolo de Internet especificado na RFC 791 define o formato de pacote IP. O cabeçalho de pacote IP tem campos específicos que contêm informações sobre o pacote e sobre os hosts de envio e de recebimento. Abaixo está uma lista dos campos no cabeçalho IP e uma descrição sumarizada de cada um. Você já deve estar familiarizado com os campos de endereço IP de destino, endereço IP de origem, versão e Tempo de Vida (<content-link target="cg3832693226" type="glossary">TTL</content-link>, Time To Live). Os outros campos são importantes, mas estão fora do escopo deste curso.</p> <ul><li><b> Versão</b> – número de versão (4 bits); a versão predominante é o IP versão 4 (IPv4)</li> <li> <b>Comprimento de cabeçalho IP</b> – comprimento do cabeçalho em palavras de 32 bits (4 bits)</li> <li> <b>Precedência e tipo de serviço</b> – como o datagrama deve ser tratado (8 bits); os 3 primeiros bits são bits de precedência (esse uso foi substituído pelo Ponto do Código de Serviços Diferenciado [DSCP, Differentiated Services Code Point]), que usa os 6 primeiros bits [últimos 2 reservados])</li> <li> <b>Comprimento do pacote</b> – comprimento total (cabeçalho + dados) (16 bits)</li> <li> <b>Identificação</b> – o valor de datagrama IP exclusivo (16 bits)</li> <li> <b>Flags</b> – controlam a fragmentação (3 bits)</li> <li> <b>Deslocamento de fragmento</b> – oferece suporte à fragmentação de <content-link target="cg2992967514" type="glossary">datagramas</content-link> para permitir diferir MTUs (Maximum Transmission Units, Unidades de transmissão máxima) na Internet (13 bits)</li> <li> <b>Tempo de vida (TTL)</b> – identifica quantos roteadores podem ser percorridos pelo datagrama antes de ser descartado (8 bits)</li> <li> <b>Protocolo</b> – protocolo de camada superior que envia o datagrama (8 bits)</li> <li> <b>Checksum do cabeçalho</b> – verificação de integridade no cabeçalho (16 bits)</li> <li> <b>Endereço IP de origem</b> – endereço IP de origem de 32 bits (32 bits)</li> <li> <b>Endereço IP de destino</b> – endereço IP de destino de 32 bits (32 bits)</li> <li> <b>Opções de IP</b> – testes de rede, depuração, segurança e outros (0 ou 32 bits, se qualquer)</li></ul></content-text>
</page>
<page type="OneColumn" id="tl0901040102">
<content-media type="StaticGraphic" id="cm3961277295"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040100/tl0901040102/cm3961277295.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040100/tl0901040102/cm3961277295text.xml"/></content-media>
<content-text><p><b>Formato de quadro da camada MAC</b></p> <p>O quadro de enlace de dados da Camada 2 normalmente contém informações de cabeçalho com um endereço de origem e de destino de enlace de dados, informações de trailer e os dados transmitidos reais. O endereço de origem do enlace de dados é o endereço de Camada 2 da interface que enviou o quadro do enlace de dados. O endereço de destino do enlace de dados é o endereço de Camada 2 da interface do dispositivo de destino. As interfaces de origem e de destino do enlace de dados estão na mesma rede. Como um pacote é encaminhado de um roteador para outro, os endereços IP de origem e de destino da Camada 3 não serão alterados. No entanto, os endereços do enlace de dados de origem e de destino da Camada 2 serão alterados. Esse processo será examinado mais atentamente mais tarde nesta seção.</p> <p><b>Nota:</b> Quando a NAT é usada, o endereço IP de destino não é alterado, mas esse processo não importa para IP e um processo seja executado em uma rede da empresa. O roteamento com NAT é abordado em um curso posterior.</p> <p>O pacote IP de Camada 3 é encapsulado no quadro de enlace da Camada 2 associado a essa interface. Nesse exemplo, nós iremos mostrar o quadro Ethernet da Camada 2. A figura mostra as duas versões compatíveis de Ethernet. Abaixo está uma lista dos campos no cabeçalho Ethernet e uma descrição sumarizada de cada um.</p> <ul><li> <b>Preâmbulo</b> – sete bytes de 1s e 0s alternados, usados para sincronizar sinais</li> <li> <b>Delimitador SOF (Start-of-frame, Início do quadro)</b> – 1 byte que sinaliza o início do quadro</li> <li> <b>Endereço de destino</b> – endereço MAC de 6 bytes do dispositivo de envio no segmento local</li> <li> <b>Endereço de origem</b> – endereço MAC de 6 bytes do dispositivo de recebimento no segmento local</li> <li> <b>Tipo/comprimento</b> – 2 bytes que especificam o tipo de protocolo de camada superior (formato de quadro Ethernet II) ou o comprimento do campo de dados (formato de quadro IEEE 802.3)</li> <li> <b>Dados e bloco</b> – 46 a 1500 bytes de dados; zeros usados para incluir um pacote de dados inferior a 46 bytes</li> <li> <b>Seqüência de Verificação de Quadros (FCS, Frame check sequence)</b> – 4 bytes usados em uma verificação de redundância cíclica para ter certeza de que o quadro não esteja corrompido</li></ul></content-text>
</page>
</topic>
<topic type="" id="tl0901040200">
<title><content-text>Melhor caminho e métrica</content-text></title>
<page type="OneColumn" id="tl0901040201">
<content-media type="AnimationPartialScreen" id="cm3151435222"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040200/tl0901040201/cm3151435222.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040200/tl0901040201/cm3151435222text.xml"/></content-media>
<content-text><p><b>Melhor caminho</b></p> <p>Determinar o melhor caminho de um roteador envolve a avaliação de vários caminhos para a mesma rede de destino e selecionar o caminho ideal ou mais "curto" para alcançar essa rede. Sempre que há vários caminhos para alcançar a mesma rede, cada caminho usa uma interface de saída diferente no roteador para alcançar essa rede. O melhor caminho é selecionado por um protocolo de roteamento com base no valor ou na métrica usado para determinar a distância para alcançar uma rede. Alguns protocolos de roteamento, como RIP, usam a contagem de saltos simples, o número de roteadores entre um roteador e a rede de destino. Outros protocolos de roteamento, como OSPF, determinam o caminho mais curto, examinando a largura de banda dos enlaces e usando os enlaces com a largura de banda mais rápida de um roteador para a rede de destino.</p> <p>Os protocolos de roteamento dinâmico normalmente usam suas próprias regras e as métricas para criar e atualizar tabelas de roteamento. Métrica é o valor quantitativo usado para medir a distância até uma determinada rota. O melhor caminho para uma rede é o caminho com a menor métrica. Por exemplo, um roteador irá preferir um caminho a 5 saltos em um caminho que está a 10 saltos.</p> <p>O principal objetivo do protocolo de roteamento é determinar os melhores caminhos para cada rota a ser incluída na tabela de roteamento. O algoritmo de roteamento gera um valor, ou uma métrica, para cada caminho na rede. As métricas podem se basear em uma única característica ou em várias características de um caminho. Alguns protocolos de roteamento podem basear a seleção de rota em várias métricas, integrando-as a uma única métrica. Quanto menor for o valor da métrica, melhor será o caminho.</p> <p><b>Comparando a contagem de saltos e as métricas de largura de banda</b></p> <p>As duas métricas usadas por alguns protocolos de roteamento dinâmico são:</p> <ul><li> <b>Contagem de saltos</b> – a contagem de saltos é o número de roteadores que um pacote deve percorrer até alcançar seu destino. Cada roteador é igual a um salto. Uma contagem de quatro saltos indica que um pacote deve percorrer quatro roteadores para alcançar seu destino. Se houver vários caminhos disponíveis para um destino, o protocolo de roteamento, como RIP, irá escolher o caminho com o menor número de saltos.</li> <li> <b>Largura de banda</b> – largura de banda é a capacidade de dados de um enlace, às vezes conhecida como a velocidade do enlace. Por exemplo, a implementação da Cisco do protocolo de roteamento OSPF usa largura de banda como sua métrica. O melhor caminho para uma rede é determinado pelo caminho com um acúmulo de enlaces com os maiores valores de largura de banda, ou os enlaces mais rápidos. O uso da largura de banda em OSPF será explicado no Capítulo 11. </li></ul> <p><b>Nota: </b><i>Velocidade </i>não é uma descrição tecnicamente precisa da largura de banda porque todos os bits percorrem na mesma velocidade usando o mesmo meio físico. Largura de banda é definida com mais precisão como o número de bits que podem ser transmitidos em um enlace por segundo.</p> <p>Quando a contagem de saltos é usada como a métrica, o caminho resultante pode, às vezes, ser inferior ao ideal. Por exemplo, considere a rede mostrada na figura. Se RIP for o protocolo de roteamento usado pelos três roteadores, R1 irá escolher a rota inferior ao ideal até R3 para alcançar PC2, porque esse caminho tem menos saltos. A largura de banda não é considerada. No entanto, se OSPF for usado como o protocolo de roteamento, R1 irá escolher a rota com base na largura de banda. Os pacotes poderão alcançar seu destino usando os dois enlaces T1 mais rápidos em comparação com o único enlace de 56 Kbps, mais lento.</p></content-text>
</page>
<page type="OneColumn" id="tl0901040202">
<content-media type="ActivityPKA" id="cm9355418918"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040200/tl0901040202/cm9355418918/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901040000/tl0901040200/tl0901040202/cm9355418918/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para determinar o melhor caminho usando tabelas de roteamento.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901040300">
<title><content-text>Balanceamento de carga de mesmo custo</content-text></title>
<page type="OneColumn" id="tl0901040301">
<content-media type="AnimationPartialScreen" id="cm3144198752"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040300/tl0901040301/cm3144198752.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040300/tl0901040301/cm3144198752text.xml"/></content-media>
<content-text><p><b>Balanceamento de carga de mesmo custo</b></p> <p>Você pode estar se perguntando o que irá acontece se uma tabela de roteamento tiver dois ou mais caminhos com a mesma métrica para a mesma rede de destino. Quando um roteador tem vários caminhos para uma rede de destino e o valor dessa métrica (contagem de saltos, largura de banda etc.) é igual, isso é conhecido como <content-link target="cg1940253388" type="glossary">métrica de mesmo custo</content-link>, e o roteador irá executar o <content-link target="cg3369030743" type="glossary">balanceamento de carga de mesmo custo</content-link>. A tabela de roteamento irá conter a única rede de destino, mas terá várias interfaces de saída, uma para cada caminho de mesmo custo. O roteador irá encaminhar pacotes que usam as várias interfaces de saída listadas na tabela de roteamento. </p> <p>Se for configurado corretamente, o balanceamento de carga poderá aumentar a eficiência e o desempenho da rede. O balanceamento de carga de mesmo custo pode ser configurado para usar protocolos de roteamento dinâmico e rotas estáticas. O balanceamento de carga de mesmo custo é abordado com mais detalhes no Capítulo 8, "Tabela de roteamento: uma análise mais profunda".</p> <p><b>Caminhos de mesmo custo e caminhos de custo diferente</b></p> <p>Caso você esteja se perguntando, um roteador pode enviar pacotes em várias redes mesmo quando a métrica não é a mesma em caso de uso de um protocolo de roteamento com esse recurso. Isso é conhecido como <content-link target="cg2256393806" type="glossary">balanceamento de carga de custo desigual</content-link>. EIGRP e IGRP são os únicos protocolos de roteamento que podem ser configurados para o balanceamento de carga de custo desigual. O balanceamento de carga de custo desigual em EIGRP não é abordado neste curso, mas é no CCNP. </p></content-text>
</page>
<page type="OneColumn" id="tl0901040302">
<content-media type="ActivityPKA" id="cm8282093318"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040300/tl0901040302/cm8282093318/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901040000/tl0901040300/tl0901040302/cm8282093318/icontext.xml"/></content-media>
<content-text><p>Use a atividade do Packet Tracer para explorar uma tabela de roteamento que está usando <content-link target="cg9327612657" type="glossary">balanceamento de carga</content-link> de mesmo <content-link target="cg2024046045" type="glossary">custo</content-link>.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901040400">
<title><content-text>Determinação do caminho</content-text></title>
<page type="OneColumn" id="tl0901040401">
<content-media type="StaticGraphic" id="cm2642154089"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040400/tl0901040401/cm2642154089.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040400/tl0901040401/cm2642154089text.xml"/></content-media>
<content-text><p><b>Determinação do caminho</b></p> <p>Encaminhar pacotes envolve duas funções:</p> <ul><li> Função de determinação do caminho</li> <li> Função de comutação</li></ul> <p>A função de determinação do caminho é o processo de como o roteador determina que caminho usar ao encaminhar um pacote. Para determinar o melhor caminho, o roteador pesquisa sua tabela de roteamento em busca de um endereço de rede correspondente ao endereço IP de destino do pacote.</p> <p>Uma das três determinações de caminho é resultante dessa pesquisa:</p> <p><b>Rede conectada diretamente</b> – se o endereço IP de destino do pacote pertencer a um dispositivo em uma rede conectada diretamente a uma das interfaces do roteador, esse pacote será encaminhado diretamente para o dispositivo. Isso significa que o endereço IP de destino do pacote é um endereço de host na mesma rede da interface do roteador.</p> <p><b>Rede remota</b> – se o endereço IP de destino do pacote pertencer a uma rede remota, o pacote será encaminhado para outro roteador. As redes remotas só podem ser alcançadas encaminhando-se pacotes para outro roteador.</p> <p><b>Nenhuma rota determinada</b> – se o endereço IP de destino do pacote não pertencer a uma rede conectada ou remota e se o roteador não tiver uma rota padrão, o pacote será descartado. O rotador envia uma mensagem inalcançável <content-link target="cg6990448592" type="glossary">ICMP</content-link> para o endereço IP de origem do pacote.</p> <p>Nos dois primeiros resultados, o roteador reencapsula o pacote IP no formato do quadro de enlace de dados da Camada 2 da interface de saída. O tipo de encapsulamento da Camada 2 é determinado pelo tipo de interface. Por exemplo, se a interface de saída for FastEthernet, o pacote será encapsulado em um quadro Ethernet. Se a interface de saída for uma interface serial configurada para PPP, o pacote IP será encapsulado em um quadro PPP. </p> <p>A seguinte seção demonstra esse processo.</p></content-text>
</page>
</topic>
<topic type="" id="tl0901040500">
<title><content-text>Função de comutação</content-text></title>
<page type="OneColumn" id="tl0901040501">
<content-media type="AnimationStepped" id="cm2117342259"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040501/cm2117342259.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040501/cm2117342259text.xml"/></content-media>
<content-text><p><b>Função de comutação</b></p> <p>Depois que o roteador determinar a interface de saída usando a função de determinação do caminho, o roteador irá precisar encapsular o pacote no quadro do enlace de dados da interface de saída.</p> <p>A função de comutação é o processo usado por um roteador para aceitar um pacote em uma interface e encaminhá-lo usando outra interface. Uma das principais responsabilidades da função de comutação é encapsular pacotes no tipo apropriado do quadro de enlace de dados para o link de dados de saída. </p> <p>O que um roteador faz com um pacote recebido de uma rede e com destino a outra rede? O roteador executa as três seguintes etapas principais:</p> <p>1. Desencapsula o pacote da Camada 3, removendo o cabeçalho e o trailer do quadro da Camada 2</p> <p>2. Examina o endereço IP de destino do pacote IP para localizar o melhor caminho na tabela de roteamento.</p> <p>3. Encapsula o pacote de Camada 3 em um novo quadro de Camada 2 e encaminha o quadro pela interface de saída.</p> <p><b>Clique em Reproduzir para exibir a animação. </b></p> <p>Como o pacote IP de a Camada 3 é encaminhado de um roteador para o próximo, o pacote IP permanece inalterado, com a exceção do campo TTL. Quando um roteador recebe um pacote IP, ele diminui o TTL em um. Se o valor TTL resultante for zero, o roteador irá descartar o pacote. O TTL é usado para impedir pacotes IP de percorrer eternamente as redes devido a um loop de roteamento ou a outro mau funcionamento na rede. Os loops de roteamento são abordados posteriormente em um capítulo.</p> <p>Como o pacote IP é desencapsulado do quadro da Camada 2 e encapsulado em um novo quadro de Camada 2, o endereço de destino do enlace de dados e o endereço de origem serão alterados quando o pacote for encaminhado de um roteador para o próximo. O endereço de origem do enlace de dados da Camada 2 representa o endereço de Camada 2 da interface de saída. O endereço de destino da Camada 2 representa o endereço de Camada 2 do roteador de próximo salto. Se o próximo salto for o dispositivo de destino final, ele será o endereço de Camada 2 do dispositivo. </p> <p>É muito provável que o pacote seja encapsulado em um tipo diferente de quadro da Camada 2 daquele em que ele foi recebido. Por exemplo, o pacote pode ser recebido pelo roteador em uma interface FastEthernet, encapsulada em um quadro Ethernet, e encaminhado por uma interface serial encapsulada em um quadro PPP. </p> <p>Lembre-se: como um pacote percorre do dispositivo de origem para o dispositivo de destino final, os endereços IP de Camada 3 não são alterados. No entanto, os endereços de enlace de dados da Camada 2 são alterados a cada salto quando o pacote é desencapsulado e reencapsulado em um novo quadro por cada roteador.</p></content-text>
</page>
<page type="OneColumn" id="tl0901040502">
<content-media type="AnimationStepped" id="cm2812462933"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040502/cm2812462933.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040502/cm2812462933text.xml"/></content-media>
<content-text><p><b>Determinação de caminho e detalhes da função de comutação</b></p> <p>Você pode descrever os detalhes exatos do que acontece com um pacote nas camadas 2 e 3 quando ele deixa a origem em direção ao destino? Do contrário, estude a animação e acompanhe a discussão até que você seja capaz de descrever o processo sozinho. </p> <p><b>Clique em Reproduzir para exibir a animação.</b></p> <p><b>Etapa 1: PC1 tem um pacote a ser enviado para PC2</b></p> <p>PC1 encapsula o pacote IP em um quadro Ethernet usando o endereço MAC de destino da interface FastEthernet de R1 0/0.</p> <p>Como PC1 sabe encaminhar o pacote para R1, e não diretamente para PC2? PC1 determinou que os endereços de origem e de destino IP estão em redes diferentes. </p> <p>PC1 sabe que a rede pertence a ele, executando uma operação <b>AND </b>em seu próprio endereço IP e máscara de sub-rede que resulta em seu endereço de rede. PC1 faz essa mesma operação <b>AND </b>usando o endereço IP de destino do pacote e a máscara de sub-rede PC1. Se o resultado for o mesmo da rede, PC1 sabe que o endereço IP de destino está na própria rede, não precisando encaminhar o pacote para o gateway padrão, o roteador. Se a operação <b>AND </b>resultar em um endereço de rede diferente, PC1 sabe que o endereço IP de destino não está em sua própria rede, devendo encaminhar esse pacote para o gateway padrão, o roteador.</p> <p><b>Nota:</b> Se uma operação <b>AND </b>com o endereço IP de destino do pacote e a máscara de sub-rede de PC1 resultar em um endereço de rede diferente do determinado por PC1 como seu endereço de rede próprio, esse endereço não necessariamente irá refletir o endereço de rede remoto real. PC1 só sabe que o endereço IP de destino está em sua própria rede, as máscaras serão iguais e os endereços de rede seriam os mesmos. A máscara da rede remota pode ser outra. Se o endereço IP de destino resultar em um endereço de rede diferente, PC1 não saberá o endereço de rede remota real – ele só sabe que não está em sua própria rede.</p> <p>Como PC1 determina o endereço MAC do gateway padrão, roteador R1? PC1 verifica a tabela ARP do endereço IP do gateway padrão e seu endereço MAC associado.</p> <p>E se esta entrada não existir na tabela ARP? PC1 envia uma solicitação ARP e o roteador R1 devolve uma resposta ARP.</p>  <p><b>Etapa 2: Roteador R1 recebe o quadro Ethernet</b></p> <p>1. Roteador R1 examina o endereço MAC de destino, que corresponde ao endereço MAC da interface de recebimento, FastEthernet 0/0. Dessa forma, R1 copiará o quadro para o buffer.</p> <p>2. R1 vê que o campo Tipo de Ethernet é 0x800, o que significa que o quadro Ethernet contém um pacote IP na porção de dados do quadro. </p> <p>3. R1 desencapsula o quadro Ethernet.</p> <p>4. Como o endereço IP de destino do pacote não corresponde a nenhuma das redes conectadas diretamente de R1, o roteador consulta sua tabela de roteamento para rotear esse pacote. R1 pesquisa a tabela de roteamento em busca de um endereço de rede e da máscara de sub-rede que incluiria o endereço IP de destino do pacote como um endereço de host nessa rede. Neste exemplo, a tabela de roteamento tem uma rota para a rede 192.168.4.0/24. O endereço IP de destino do pacote é 192.168.4.10, que é um endereço IP de host dessa rede.</p> <p>A rota de R1 para a rede 192.168.4.0/24 tem um endereço IP do próximo salto 192.168.2.2 e uma interface de saída de FastEthernet 0/1. Isso significa que o pacote IP será encapsulado em um novo quadro Ethernet com o endereço MAC de destino do endereço IP de roteador do próximo salto. Como a interface de saída está em uma rede Ethernet, R1 deve resolver o endereço IP do próximo salto com um endereço MAC de destino.</p> <p>5. R1 observa o endereço IP do próximo salto 192.168.2.2 em seu cache ARP para a interface FastEthernet 0/1. Se a entrada não estiver no cache ARP, R1 enviará uma solicitação ARP pela interface FastEthernet 0/1. R2 devolve uma resposta ARP. Em seguida, R1 atualiza seu cache ARP com uma entrada para 192.168.2.2 e o endereço MAC associado.</p> <p>6. O pacote IP agora é encapsulado em um novo quadro Ethernet e encaminhado para fora da interface FastEthernet 0/1 do R1.</p></content-text>
</page>
<page type="OneColumn" id="tl0901040503">
<content-media type="AnimationStepped" id="cm4309293601"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040503/cm4309293601.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040503/cm4309293601text.xml"/></content-media>
<content-text><p><b>Etapa 3: Pacote chega ao roteador R2</b></p> <p><b>Clique em Reproduzir para exibir a animação.</b></p> <p>1. Roteador R2 examina o endereço MAC de destino, que corresponde ao endereço MAC da interface de recebimento, FastEthernet 0/0. Dessa forma, R1 copiará o quadro para o buffer.</p> <p>2. R2 vê que o campo Tipo de Ethernet é 0x800, o que significa que o quadro Ethernet contém um pacote IP na porção de dados do quadro.</p> <p>3. R2 desencapsula o quadro Ethernet.</p> <p>4. Como o endereço IP de destino do pacote não corresponde a nenhum dos endereços de interface de R2, o roteador consulta sua tabela de roteamento para rotear esse pacote. R2 pesquisa a tabela de roteamento em busca do endereço IP de destino do pacote que usa o mesmo processo usado por R1.</p> <p>A tabela de roteamento de R2 tem uma rota para a rota 192.168.4.0/24 com um endereço IP de próximo salto 192.168.3.2 e uma interface de saída de Serial 0/0/0. Como a interface de saída não está em uma rede Ethernet, R2 não deve resolver o endereço IP de próximo salto com um endereço MAC de destino.</p> <p>Quando a interface for uma conexão serial ponto-a-ponto, R2 irá encapsular o pacote IP no próprio formato de quadro de enlace de dados usado pela interface de saída (HDLC, PPP etc.). Nesse caso, o encapsulamento de Camada 2 é PPP; portanto, o endereço de destino do enlace de dados é definido como um broadcast. Lembre-se: não há nenhum endereço MAC em interfaces seriais.</p> <p>5. O pacote IP agora é encapsulado em um novo quadro de enlace de dados, PPP, e enviado pela interface de saída serial 0/0/0.</p> <p> </p></content-text>
</page>
<page type="OneColumn" id="tl0901040504">
<content-media type="StaticGraphic" id="cm9392158065"><title><content-text></content-text></title><media ref="tl0901000000/tl0901040000/tl0901040500/tl0901040504/cm9392158065.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901040000/tl0901040500/tl0901040504/cm9392158065text.xml"/></content-media>
<content-text><p><b>Etapa 4: O pacote chega a R3</b></p> <p>1. R3 recebe e copia o quadro PPP de enlace de dados em seu buffer.</p> <p>2. R3 desencapsula o quadro PPP do enlace de dados.</p> <p>3. R3 pesquisa a tabela de roteamento em busca do endereço IP de destino do pacote. A pesquisa da tabela de roteamento resulta em uma rede que é uma das redes conectadas diretamente de R3. Isso significa que o pacote pode ser enviado diretamente para o dispositivo de destino, não precisando ser enviado para outro roteador.</p> <p>Como a interface de saída não é uma rede Ethernet conectada diretamente, R3 precisa resolver o endereço IP de destino do pacote com um endereço MAC de destino.</p> <p>4. R3 procura o endereço IP de destino do pacote 192.168.4.10 em seu cache ARP. Se a entrada não estiver no cache ARP, R3 enviará uma solicitação ARP pela interface FastEthernet 0/1. PC2 devolve uma resposta ARP com seu endereço MAC. Em seguida, R1 atualiza seu cache ARP com uma entrada para 192.168.4.10 e o endereço MAC retornado na resposta ARP.</p> <p>5. O pacote IP agora é encapsulado em um novo enlace de dados, o quadro Ethernet, e encaminhado pela interface FastEthernet 0/0 de R3.</p> <p><b>Etapa 5: O quadro Ethernet com pacote IP encapsulado chega a PC2 </b></p> <p>1. PC2 examina o endereço MAC de destino, que corresponde ao endereço MAC da interface de recebimento, sua placa de rede Ethernet. Dessa forma, PC2 copiará o restante do quadro para o buffer.</p> <p>2. PC2 vê que o campo Tipo de Ethernet é 0x800, o que significa que o quadro Ethernet contém um pacote IP na porção de dados do quadro. </p> <p>3. PC2 desencapsula o quadro Ethernet e passa o pacote IP para o processo IP de seu sistema operacional.</p> <p><b>Resumo</b></p> <p>Acabamos de examinar o encapsulamento e o processo de desencapsulamento de um pacote quando ele é encaminhado de roteador para roteador, do dispositivo de origem para o dispositivo de destino final. Também fomos apresentados ao processo de pesquisa da tabela de roteamento, que será abordado mais detalhadamente em um capítulo posterior. Vimos que os roteadores não estão envolvidos apenas em decisões de roteamento da Camada 3, mas que também participam de processos da Camada 2, inclusive encapsulamento, e em redes Ethernet, ARP. Roteadores também participam de Camada 1, usada para transmitir e receber os bits de dados no meio físico.</p> <p>As tabelas de roteamento contêm redes conectadas diretamente e redes remotas. É porque roteadores contêm endereços para redes remotas em suas tabelas de roteamento que os roteadores sabem aonde enviar pacotes com destino a outras redes, inclusive a Internet. Nos capítulos seguintes, você saberá como os roteadores criam e mantêm essas tabelas de roteamento – usando rotas estáticas inseridas manualmente ou protocolos de roteamento dinâmico.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0901050000">
<title><content-text>Laboratórios de configuração de roteador</content-text></title>
<topic type="" id="tl0901050100">
<title><content-text>Cabeamento de rede e configuração básica do roteador</content-text></title>
<page type="OneColumn" id="tl0901050101">
<content-media type="ActivityLab" id="cm1436403181"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050100/tl0901050101/cm1436403181/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050100/tl0901050101/cm1436403181/icontext.xml"/></content-media>
<content-text><p>Conclua este laboratório se você precisar de uma revisão sólida do cabeamento do dispositivo, estabelecendo uma conexão de console e de fundamentos da CLI. Se estiver confortável quanto a essas habilidades, você poderá substituir o <b>Laboratório 1.5.2 Configuração básica do roteador</b> por este laboratório.</p><p><b>Clique no ícone do laboratório para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901050102">
<content-media type="ActivityPKA" id="cm6547049778"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050100/tl0901050102/cm6547049778/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050100/tl0901050102/cm6547049778/icontext.xml"/></content-media>
<content-text><p>Use essa atividade do Packet Tracer 1.5.1 para repetir uma simulação do Laboratório 1.5.1. Lembre-se entretanto de que o Packet Tracer não substitui um exercício prático em laboratório com equipamentos reais. </p> <p>Um resumo das instruções é fornecido na atividade. Use o PDF do laboratório para obter mais detalhes.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901050200">
<title><content-text>Configuração básica do roteador</content-text></title>
<page type="OneColumn" id="tl0901050201">
<content-media type="ActivityLab" id="cm2443309217"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050200/tl0901050201/cm2443309217/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050200/tl0901050201/cm2443309217/icontext.xml"/></content-media>
<content-text><p>Conclua este laboratório se você tiver habilidades sólidas no cabeamento do dispositivo, estabelecendo uma conexão de console e de fundamentos da CLI. Se precisar de uma revisão dessas habilidades, você poderá substituir o <b>Laboratório 1.5.1 Cabeamento de rede e configuração básica do roteador</b> por este laboratório.</p><p><b>Clique no ícone do laboratório para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901050202">
<content-media type="ActivityPKA" id="cm5986063894"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050200/tl0901050202/cm5986063894/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050200/tl0901050202/cm5986063894/icontext.xml"/></content-media>
<content-text><p>Use essa atividade do Packet Tracer 1.5.2 para repetir uma simulação do Laboratório 1.5.2. Lembre-se entretanto de que o Packet Tracer não substitui um exercício prático em laboratório com equipamentos reais. </p> <p>Um resumo das instruções é fornecido na atividade. Use o PDF do laboratório para obter mais detalhes.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0901050300">
<title><content-text>Configuração avançada do roteador</content-text></title>
<page type="OneColumn" id="tl0901050301">
<content-media type="ActivityLab" id="cm4857734514"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050300/tl0901050301/cm4857734514/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050300/tl0901050301/cm4857734514/icontext.xml"/></content-media>
<content-text><p>Este laboratório desafia suas habilidades em sub-redes e configuração. Dado um espaço de endereço e os requisitos de rede, você deve criar e implementar um esquema de endereçamento em uma topologia de dois roteadores. </p><p><b>Clique no ícone do laboratório para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901050302">
<content-media type="ActivityPKA" id="cm8658074208"><title><content-text></content-text></title><media ref="tl0901000000/tl0901050000/tl0901050300/tl0901050302/cm8658074208/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901050000/tl0901050300/tl0901050302/cm8658074208/icontext.xml"/></content-media>
<content-text><p>Use essa atividade do Packet Tracer 1.5.3 para repetir uma simulação do Laboratório 1.5.3. Lembre-se entretanto de que o Packet Tracer não substitui um exercício prático em laboratório com equipamentos reais. </p> <p>Um resumo das instruções é fornecido na atividade. Use o PDF do laboratório para obter mais detalhes.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl0901060000">
<title><content-text>Resumo</content-text></title>
<topic type="" id="tl0901060100">
<title><content-text>Resumo e revisão</content-text></title>
<page type="OneColumn" id="tl0901060101">
<content-media type="StaticGraphic" id="cm8924307551"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060101/cm8924307551.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901060000/tl0901060100/tl0901060101/cm8924307551text.xml"/></content-media>
<content-text><p><b>Resumo</b></p> <p>Este capítulo apresentou o roteador. Roteadores são computadores e incluem muitos dos mesmos componentes de hardware e de software encontrados em um PC típico, como CPU, RAM, ROM e um sistema operacional.</p> <p>A principal finalidade de um roteador é conectar várias redes e encaminhar pacotes de uma rede para a próxima. Isso significa que um roteador normalmente tem várias interfaces. Cada interface é um membro ou host em uma rede IP diferente. </p> <p>O roteador tem uma tabela de roteamento, que é uma lista de redes conhecida pelo roteador. A tabela de roteamento inclui endereços de rede de suas próprias interfaces, que são as redes conectadas diretamente, bem como endereços de rede para redes remotas. Uma rede remota é uma rede que só pode ser alcançada encaminhando-se o pacote para outro roteador.</p> <p>As redes remotas são adicionadas à tabela de roteamento de duas formas: pelo administrador de rede que configura rotas estáticas manualmente ou implementando um protocolo de roteamento dinâmico. Rotas estáticas não têm tanta sobrecarga quanto protocolos de roteamento dinâmico. No entanto, as rotas estáticas poderão exigir mais manutenção se a topologia mudar constantemente ou for instável. </p> <p>Os protocolos de roteamento dinâmico se ajustam automaticamente a alterações sem qualquer intervenção do administrador de rede. Os protocolos de roteamento dinâmico exigem mais processamento de CPU e também usam uma determinada capacidade do enlace para rotear atualizações e mensagens. Em muitos casos, uma tabela de roteamento conterá rotas estáticas e dinâmicas. </p> <p>Os roteadores tomam sua decisão primária de encaminhamento na Camada 3, a camada de rede. No entanto, as interfaces de roteador participam das camadas 1, 2 e 3. Os pacotes IP de Camada 3 são encapsulados em um quadro de enlace de dados de Camada 2 e codificados em bits na Camada 1. As interfaces de roteador participam de processos de Camada 2 associados ao seu encapsulamento. Por exemplo, uma interface Ethernet de um roteador participa do processo ARP, assim como os demais hosts na rede local.</p> <p>No próximo capítulo, examinaremos a configuração de rotas estáticas e apresentaremos a tabela de roteamento IP.</p></content-text>
</page>
<page type="FullScreen" id="tl0901060102">
<content-media type="ChapterSummary" id="cm7640434875"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060102/cm7640434875.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901060000/tl0901060100/tl0901060102/cm7640434875text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0901060103">
<content-media type="ActivityPKA" id="cm3101126397"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060103/cm3101126397/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0901000000/tl0901060000/tl0901060100/tl0901060103/cm3101126397/icontext.xml"/></content-media>
<content-text><p>A Atividade Avançada de Integração das Habilidades no Packet Tracer deste capítulo integra todo o conhecimento e todas as habilidades que você adquiriu nos cursos anteriores e no primeiro capítulo deste curso. Nesta atividade, você cria uma rede do zero. Começando com um espaço de endereçamento e requisitos de rede, você deve implementar um projeto de rede que atenda às especificações.</p> <p><content-link target="E2_PTAct_1_6_1_Directions.pdf" type="internalfile">Instruções de integração das habilidades no Packet Tracer (PDF)</content-link></p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0901060104">
<content-media type="StaticGraphic" id="cm8350104947"><title><content-text></content-text></title><media ref="tl0901000000/tl0901060000/tl0901060100/tl0901060104/cm8350104947.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0901000000/tl0901060000/tl0901060100/tl0901060104/cm8350104947text.xml"/></content-media>
<content-text><p><b>Para saber mais</b></p> <p>Crie uma topologia semelhante em 1.4.5.2, com vários roteadores, e uma rede local em cada extremidade. Em uma rede local, adicione um host cliente e, na outra extremidade, adicione um servidor Web. Em cada rede local, inclua um switch entre o computador e o roteador. Suponhamos que cada roteador tenha uma rota para cada uma das redes locais, semelhante ao que acontece em 1.4.5.2.</p> <p>O que acontece quando o host solicita uma página da Web do servidor Web? Observe todos os processos e protocolos envolvidos, começando pelo usuário que insere uma URL, como www.cisco.com. Isso inclui protocolos aprendidos no Exploration 1, bem como as informações aprendidas neste capítulo.</p> <p>Veja se você consegue determinar cada um dos processos que acontecem, começando pelo cliente que precisa resolver www.cisco.com para um endereço IP, o que resulta no cliente precisando fazer uma solicitação ARP para o servidor DNS. Quais são todos os protocolos e processos envolvidos, começando pela solicitação DNS para obter o primeiro pacote com informações http do servidor Web.</p> <ul><li> Como o DNS está envolvido?</li> <li> Como o ARP está envolvido?</li> <li> Que efeito TCP tenha entre o cliente e o servidor? O pacote recebido pelo servidor Web do cliente é a primeira solicitação para a página da Web?</li> <li> O que os switches fazem quando recebem um quadro Ethernet? Como eles atualizam suas tabelas de endereços MAC e como eles determinam como encaminhar o quadro?</li> <li> O que os roteadores fazem quando recebem um pacote IP?</li> <li> O que é o processo de desencapsulamento e de encapsulamento de cada quadro recebido e encaminhado pelo roteador?</li> <li> Qualquer processo ARP é exigido pelo servidor Web e seu gateway padrão (seu roteador)?</li></ul></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl0901070000">
<title><content-text>Teste do capítulo</content-text></title>
<topic type="" id="tl0901070100">
<title><content-text>Teste do capítulo</content-text></title>
<page type="FullScreen" id="tl0901070101">
<content-media type="ChapterQuiz" id="cm7638409877"><title><content-text></content-text></title><media ref="tl0901000000/tl0901070000/tl0901070100/tl0901070101/cm7638409877/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl0901000000/tl0901070000/tl0901070100/tl0901070101/cm7638409877/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
