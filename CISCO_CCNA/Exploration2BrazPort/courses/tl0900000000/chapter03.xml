<chapter type="" id="tl0903000000">
<title><content-text>Introdução aos protocolos de roteamento dinâmico</content-text></title>
<section type="ChapterIntroduction" id="tl0903000000">
<title><content-text>Introdução do capítulo</content-text></title>
<topic type="" id="tl0903000100">
<title><content-text>Introdução do capítulo</content-text></title>
<page type="OneColumn" id="tl0903000101">
<content-media type="StaticGraphic" id="cm9832117320"><title><content-text></content-text></title><media ref="tl0903000000/tl0903000000/tl0903000100/tl0903000101/cm9832117320.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903000000/tl0903000100/tl0903000101/cm9832117320text.xml"/></content-media>
<content-text><p>As redes de dados que usamos em nossas vidas cotidianas para aprendizado, diversão e trabalho variam de redes locais pequenas a redes interconectadas globais grandes. Em casa, você pode ter um roteador e dois ou mais computadores. No trabalho, sua organização pode ter vários roteadores e switches para atender às necessidades de comunicação de dados de centenas ou até mesmo milhares de PCs. </p> <p>Nos capítulos anteriores, você aprendeu como os roteadores são usados em encaminhamento de pacotes e também que eles aprendem sobre redes remotas usando rotas estáticas e protocolos de roteamento dinâmico. Você aprendeu também como as rotas para redes remotas podem ser configuradas manualmente através de rotas estáticas.</p> <p>Este capítulo introduz os protocolos de roteamento dinâmico, incluindo as diferenças de classificação dos protocolos de roteamento, qual é a métrica que eles usam para determinar o melhor caminho e os benefícios obtidos ao usar um protocolo de roteamento dinâmico.</p> <p>Geralmente, os protocolos de roteamento dinâmico são usados em redes maiores para aliviar a sobrecarga administrativa e operacional causada pelo uso de rotas estáticas. Normalmente, uma rede usa a combinação de um protocolo de roteamento dinâmico e rotas estáticas. Na maioria das redes, um único protocolo de roteamento dinâmico é usado. No entanto, há casos em que partes diferentes da rede podem usar protocolos de roteamento diferentes.</p> <p>Desde o início dos anos 1980, surgiram vários protocolos de roteamento dinâmico diferentes. Neste capítulo, começaremos a discutir algumas das características e diferenças desses protocolos de roteamento. No entanto, elas ficarão mais evidentes nos capítulos posteriores, quando discutiremos vários desses protocolos de roteamento em detalhes. </p> <p>Embora muitas redes usem um único protocolo de roteamento ou usem somente rotas estáticas, é importante que o profissional de rede entenda os conceitos e as operações de todos os protocolos de roteamento. Um profissional de rede deve ser capaz de tomar uma decisão fundamentada sobre quando usar um protocolo de roteamento dinâmico e qual protocolo de roteamento é a melhor escolha para um ambiente específico.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0903010000">
<title><content-text>Introdução e vantagens</content-text></title>
<topic type="" id="tl0903010100">
<title><content-text>Perspectiva e histórico</content-text></title>
<page type="OneColumn" id="tl0903010101">
<content-media type="InteractiveGraphicRollovers" id="cm1512090702"><title><content-text></content-text></title><media ref="tl0903000000/tl0903010000/tl0903010100/tl0903010101/cm1512090702.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903010000/tl0903010100/tl0903010101/cm1512090702text.xml"/></content-media>
<content-text><p><b>A evolução dos protocolos de roteamento dinâmico </b></p> <p>Os protocolos de roteamento dinâmico são usados em redes desde o início dos anos 1980. A primeira versão do RIP foi lançada em 1982, mas alguns dos algoritmos básicos do protocolo foram usados na ARPANET já em 1969. </p> <p>À medida que as redes evoluíam e se tornavam mais complexas, surgiam novos protocolos de roteamento. A figura mostra a classificação dos protocolos de roteamento. </p> <p>Um dos primeiros protocolos de roteamento foi o <content-link target="cg9697708987" type="glossary">Protocolo de informações de roteamento (RIP</content-link>, Routing Information Protocol). O RIP evoluiu para uma versão mais nova: o RIPv2. No entanto, a versão mais recente do RIP ainda não pode ter sua <content-link target="cg4562564002" type="glossary">escala</content-link> alterada para implementações de rede maiores. Para atender às necessidades de redes maiores, foram desenvolvidos dois protocolos de roteamento avançado: <content-link target="cg8055369278" type="glossary">Abrir caminho mais curto primeiro (OSPF</content-link>, Open Shortest Path First) e Sistema intermediário para sistema intermediário (IS-IS, Intermediate System-to-Intermediate System). A Cisco desenvolveu o Protocolo de Roteamento de Gateway Interior (IGRP, Interior Gateway Routing Protocol) e o <content-link target="cg8098921953" type="glossary">EIGRP</content-link>, cujas escalas também são boas em implementações de rede maiores.</p> <p>Além disso, havia a necessidade de interconectar várias redes interconectadas e possibilitar o roteamento entre elas. O Protocolo de <content-link target="cg8359071964" type="glossary">Roteamento de gateway de borda (BGP</content-link>, Border Gateway Protocol) agora é usado entre os ISPs e também entre ISPs e seus maiores clientes particulares para trocar informações de roteamento.</p> <p>Com o advento de numerosos dispositivos consumidores que usam o IP, o espaço de endereçamento IPv4 está quase esgotado. Assim surgiu o IPv6. Para oferecer suporte à comunicação com base no IPv6, foram desenvolvidas versões mais recentes dos protocolos de roteamento IP (consulte a linha IPv6 da tabela). </p> <p><b>Nota:</b> Este capítulo apresenta uma visão geral dos diversos protocolos de roteamento dinâmico. Mais detalhes sobre o RIP, o EIGRP e os protocolos de roteamento OSPF serão discutidos nos capítulos posteriores. Os protocolos de roteamento IS-IS e BGP são explicados no programa do CCNP. O IGRP é o antecessor do EIGRP e já está obsoleto.</p></content-text>
</page>
<page type="OneColumn" id="tl0903010102">
<content-media type="AnimationPartialScreen" id="cm6152979631"><title><content-text></content-text></title><media ref="tl0903000000/tl0903010000/tl0903010100/tl0903010102/cm6152979631.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903010000/tl0903010100/tl0903010102/cm6152979631text.xml"/></content-media>
<content-text><p><b>A função do protocolo de roteamento dinâmico</b></p> <p>O que são exatamente os protocolos de roteamento dinâmico? Os protocolos de roteamento são usados para facilitar a troca de informações de roteamento entre roteadores. Os protocolos de roteamento permitem que os roteadores compartilhem informações dinamicamente sobre redes remotas e adicionam essas informações automaticamente às suas próprias tabelas de roteamento. Isso é mostrado na animação. </p> <p>Os protocolos de roteamento determinam o melhor caminho para cada rede adicionada à tabela de roteamento. Um dos principais benefícios do uso de um protocolo de roteamento dinâmico é que os roteadores trocam informações de roteamento sempre que há uma alteração de topologia. Essa troca permite que os roteadores aprendam novas redes automaticamente e também localizem caminhos alternativos quando houver uma falha do link atual para uma rede.</p> <p>Comparados ao roteamento estático, os protocolos de roteamento dinâmico requerem uma sobrecarga administrativa menor. No entanto, para usar os protocolos de roteamento dinâmico, é necessário dedicar parte dos recursos de um roteador à operação de protocolos, incluindo tempo de CPU e largura de banda de link de rede. Apesar dos benefícios do roteamento dinâmico, o roteamento estático ainda é usado. Há situações em que o roteamento estático é mais apropriado e outras em que o roteamento dinâmico é a melhor escolha. Freqüentemente, você encontrará uma combinação de ambos os tipos de roteamento em qualquer rede que tenha um nível moderado de complexidade. Discutiremos as vantagens e as desvantagens dos roteamentos estático e dinâmico posteriormente neste capítulo.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903010200">
<title><content-text>Detecção de rede e manutenção de tabela de roteamento</content-text></title>
<page type="OneColumn" id="tl0903010201">
<content-media type="AnimationPartialScreen" id="cm7779466905"><title><content-text></content-text></title><media ref="tl0903000000/tl0903010000/tl0903010200/tl0903010201/cm7779466905.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903010000/tl0903010200/tl0903010201/cm7779466905text.xml"/></content-media>
<content-text><p><b>A finalidade dos protocolos de roteamento dinâmico</b></p> <p>Um protocolo de roteamento é um conjunto de processos, algoritmos e mensagens usados para trocar informações de roteamento e popular a tabela de roteamento com os melhores caminhos escolhidos pelo protocolo de roteamento. Entre as finalidades de um protocolo de roteamento estão:</p> <ul><li> A detecção de redes remotas</li> <li> A manutenção de informações de roteamento atualizadas</li> <li> A escolha do melhor caminho para as redes de destino</li> <li> A capacidade de localizar um novo melhor caminho, se o caminho atual não estiver mais disponível</li></ul> <p>Quais são os componentes de um protocolo de roteamento?</p> <ul><li> <b>Estruturas de dados</b> - Alguns protocolos de roteamento usam tabelas e/ou bancos de dados para suas operações. Essas informações são mantidas na RAM. </li> <li> <b><content-link target="cg3377826329" type="glossary">Algoritmo</content-link></b> - Um algoritmo é uma lista finita de etapas usadas na realização de uma tarefa. Os protocolos de roteamento usam algoritmos para facilitar as informações de roteamento e para determinar o melhor caminho. </li> <li> <b>Mensagens do protocolo de roteamento</b> - Os protocolos de roteamento usam vários tipos de mensagens para descobrir roteadores vizinhos, trocar informações de roteamento e outras tarefas para aprender e manter informações precisas sobre a rede. </li></ul> <p><b>Operação do protocolo de roteamento dinâmico</b></p> <p>Todos os protocolos de roteamento têm a mesma finalidade: aprender redes remotas e adaptar-se rapidamente sempre que houver uma alteração na topologia. O método usado pelo protocolo de roteamento para isso depende do algoritmo que ele usa e das características operacionais desse protocolo. Os operações de um protocolo de roteamento dinâmico variam de acordo com o tipo de protocolo de roteamento e o próprio protocolo de roteamento. Em geral, as operações de um protocolo de roteamento dinâmico podem ser descritas da seguinte forma: </p> <ul><li> O roteador envia e recebe mensagens de roteamento em suas interfaces.</li> <li> O roteador compartilha mensagens e informações de roteamento com outros roteadores que estão usando o mesmo protocolo de roteamento.</li> <li> Os roteadores trocam informações de roteamento para aprender redes remotas. </li> <li> Quando um roteador detecta uma alteração de topologia, o protocolo de roteamento pode anunciar essa alteração a outros roteadores.</li></ul> <p><b>Reproduza a animação para visualizar os protocolos de roteamento dinâmico em operação.</b></p> <p><b>Nota:</b> Para entender a operação e os conceitos do protocolo de roteamento dinâmico e usá-lo em redes reais, é necessário ter um conhecimento sólido do endereçamento IP e da criação de sub-redes. Três cenários de criação de sub-redes estão disponíveis para atividades práticas no final deste capítulo.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903010300">
<title><content-text>Vantagens</content-text></title>
<page type="OneColumn" id="tl0903010301">
<content-media type="StaticGraphic" id="cm1521176862"><title><content-text></content-text></title><media ref="tl0903000000/tl0903010000/tl0903010300/tl0903010301/cm1521176862.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903010000/tl0903010300/tl0903010301/cm1521176862text.xml"/></content-media>
<content-text><p><b>Uso do roteamento estático</b></p> <p>Antes de identificar os benefícios dos protocolos de roteamento dinâmico, precisamos considerar os motivos pelos quais nós usaríamos o roteamento estático. O roteamento dinâmico tem várias vantagens sobre o roteamento estático. No entanto, o roteamento estático ainda é usado em redes. De fato, as redes geralmente usam uma combinação de roteamento estático e dinâmico.</p> <p><b>O roteamento estático tem vários usos principais, incluindo: </b></p> <p> </p> <ul><li> Facilidade de manutenção da tabela de roteamento em redes menores que não possuem crescimento significativo esperado.</li> <li> Roteamento de e para redes stub (consulte o Capítulo 2).</li> <li> Uso de uma única rota padrão, usada para representar um caminho para qualquer rede que não tenha uma correspondência mais específica com outra rota na tabela de roteamento.</li></ul> <p><b>Vantagens e desvantagens do roteamento estático</b></p> <p>Na tabela, os recursos de roteamento dinâmico e estático são comparados diretamente. Dessa comparação, podemos listar as vantagens de cada método de roteamento. As vantagens de um método são as desvantagens do outro.</p> <p><b>Vantagens do roteamento estático:</b></p> <ul><li> Processamento mínimo da CPU. </li> <li> Mais fácil para o administrador entender.</li> <li> Fácil de configurar. </li></ul> <p><b>Desvantagens do roteamento estático:</b></p> <ul><li> Configuração e manutenção demoradas.</li> <li> A configuração é propensa a erros, principalmente em redes grandes.</li> <li> A intervenção do administrador é necessária para manter as informações da rota alterada.</li> <li> Não dimensiona bem com redes em desenvolvimento; a manutenção fica muito complicada. </li> <li> Requer conhecimento completo da rede inteira para implementação adequada.</li></ul> <p><b>Vantagens e desvantagens do roteamento dinâmico</b></p> <p><b>Vantagens do roteamento dinâmico:</b></p> <ul><li> O administrador tem menos trabalho para manter a configuração ao adicionar ou excluir redes.</li> <li> Os protocolos reagem automaticamente às alterações de topologia.</li> <li> A configuração é menos propensa a erros.</li> <li> Mais escalável, o desenvolvimento da rede não costuma ser um problema.</li></ul> <p><b>Desvantagens do roteamento dinâmico:</b></p> <ul><li> São usados recursos de roteador (ciclos de CPU, memória e largura de banda de link).</li> <li> São necessários mais conhecimentos de administrador para configuração, verificação e solução de problemas.</li></ul></content-text>
</page>
</topic>
</section>
<section type="" id="tl0903020000">
<title><content-text>Classificação dos protocolos de roteamento dinâmico</content-text></title>
<topic type="" id="tl0903020100">
<title><content-text>Visão geral</content-text></title>
<page type="OneColumn" id="tl0903020101">
<content-media type="ActivityDnDCheckReset" id="cm5361680473"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020100/tl0903020101/cm5361680473.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903020000/tl0903020100/tl0903020101/cm5361680473text.xml"/></content-media>
<content-text><p><b>Classificação dos protocolos de roteamento dinâmico</b></p> <p>Os protocolos de roteamento podem ser classificados em grupos diferentes de acordo com suas características. Os protocolos de roteamento mais usados são:</p> <ul><li> <b>RIP </b>- Uma distância <content-link target="cg4993906116" type="glossary">vetor</content-link> do protocolo de roteamento interior </li> <li> <b>IGRP </b>- O <content-link target="cg2616638345" type="glossary">vetor de distância</content-link> de roteamento interior desenvolvido pela Cisco (substituído de 12.2 IOS e posterior)</li> <li> <b>OSPF </b>- Um protocolo de roteamento interior de link-state </li> <li> <b>IS-IS</b> - Um protocolo de roteamento interior de link-state</li> <li> <b>EIGRP </b>- O protocolo de roteamento interior de vetor de distância avançado desenvolvido pela Cisco</li> <li> <b>BGP </b>- Um protocolo de roteamento exterior de vetor de caminho </li></ul> <p><b>Nota:</b> IS-IS e BGP estão além do escopo deste curso e são abordados no programa do CCNP.</p> <p>Os critérios de classificação serão explicados posteriormente neste capítulo. </p> <p><b>Arraste e solte cada protocolo sobre a categoria correta na figura.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0903020200">
<title><content-text>IGP e EGP</content-text></title>
<page type="OneColumn" id="tl0903020201">
<content-media type="StaticGraphic" id="cm2724580367"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020200/tl0903020201/cm2724580367.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903020000/tl0903020200/tl0903020201/cm2724580367text.xml"/></content-media>
<content-text><p>Um sistema autônomo (AS, autonomous system) – também conhecido como um <content-link target="cg3893889738" type="glossary">domínio</content-link> de roteamento - é um conjunto de roteadores sob a mesma administração. Alguns exemplos típicos são a rede interna de uma empresa e a rede de um provedor de Internet. Como a Internet é baseada no conceito de sistema autônomo, são necessários dois tipos de protocolos de roteamento: protocolos de roteamento interior e exterior. Esses protocolos são:</p> <ul><li> <b><content-link target="cg6436131893" type="glossary">Protocolos de gateway interior</content-link> (IGP, Interior Gateway Protocol)</b> são usados para roteamento de sistema intra-autônomo - roteamento dentro de um sistema autônomo.</li> <li> <b>Protocolos EGP</b> são usados para roteamento de sistema inter-autônomo - roteamento entre sistemas autônomos.</li></ul> <p>A figura é uma exibição simplificada da diferença entre IGPs e EGPs. O conceito de sistema autônomo será explicado em mais detalhes posteriormente no capítulo.</p> <p><b>Características dos protocolos de roteamento IGP e EGP</b></p> <p>Os IGPs são usados para roteamento dentro de um domínio de roteamento; redes sob controle de uma única organização. Geralmente, um sistema autônomo é formado por muitas redes individuais que pertencem a empresas, escolas e outras instituições. Um IGP é usado para fazer o roteamento no sistema autônomo e também nas próprias redes individuais. Por exemplo, o CENIC opera um sistema autônomo formado por escolas, faculdades e universidades da Califórnia. O CENIC usa um IGP para rotear dentro de seu sistema autônomo com a finalidade de interconectar todas essas instituições. Cada instituição educacional também usa um IGP próprio para rotear dentro de sua própria rede individual. O IGP usado por cada entidade fornece a determinação do melhor caminho em seus próprios domínios de roteamento, da mesma maneira que o IGP usado pelo CENIC fornece as melhores rotas no próprio sistema autônomo. Os IGPs para IP incluem RIP, IGRP, EIGRP, OSPF e IS-IS. </p> <p>Os protocolos de roteamento, e mais especificamente o algoritmo usado por esse protocolo de roteamento, usam uma métrica para determinar o melhor caminho para uma rede. A métrica usada pelo protocolo de roteamento RIP é a contagem de saltos, que é o número de roteadores que um pacote deve percorrer ao alcançar outra rede. O OSPF usa a largura de banda para determinar o caminho mais curto. </p> <p>Por outro lado, os EGPs foram projetados para o uso entre sistemas autônomos diferentes que estejam sob o controle de administrações diferentes. O BGP é o único EGP atualmente viável e é o protocolo de roteamento usado pela Internet. O BGP é um <content-link target="cg6390648569" type="glossary">protocolo de vetor de caminho</content-link> que pode usar muitos atributos diferentes para medir rotas. No nível do ISP, geralmente há mais problemas importantes do que a simples escolha do caminho mais rápido. Normalmente, o BGP é usado entre ISPs. Às vezes, ele é usado entre uma empresa e um ISP. O BGP não faz parte deste curso ou CCNA; ele é abordado no CCNP.</p></content-text>
</page>
<page type="OneColumn" id="tl0903020202">
<content-media type="ActivityPKA" id="cm2325403019"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020200/tl0903020202/cm2325403019/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903020000/tl0903020200/tl0903020202/cm2325403019/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, a rede já foi configurada dentro dos sistemas autônomos. Você configurará uma rota padrão da AS2 e da AS3 (duas empresas diferentes) para o ISP (AS1) para simular o EGP que seria feito de ambas as empresas para seus ISPs. Em seguida, você configurará uma rota estática do ISP (AS1) para a AS2 e a AS3 para simular o EGP que seria feito do ISP para seus dois clientes, AS2 e AS3. Exiba a tabela de roteamento antes e depois de adicionar as rotas padrão e estáticas para observar como a tabela de roteamento foi alterada. </p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0903020300">
<title><content-text>Vetor de distância e link-state</content-text></title>
<page type="OneColumn" id="tl0903020301">
<content-media type="AnimationStepped" id="cm9010631845"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020300/tl0903020301/cm9010631845.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903020000/tl0903020300/tl0903020301/cm9010631845text.xml"/></content-media>
<content-text><p>Os Protocolos de Gateway Interior (IGP, Interior Gateway Protocol) podem ser classificados como dois tipos:</p> <ul><li> Protocolos de roteamento do vetor de distância </li> <li> <content-link target="cg4835762248" type="glossary">Link-state</content-link> protocolos de roteamento</li></ul> <p> </p> <p><b>Operação do protocolo de roteamento do vetor de distância</b></p> <p>Vetor de distância significa que as rotas são anunciadas como vetores de distância e direção. A distância é definida em termos de uma métrica como contagem de saltos e a direção é dada simplesmente pelo roteador do próximo salto ou pela interface de saída. Os protocolos do vetor de distância normalmente usam o algoritmo Bellman-Ford para determinar a melhor rota. </p> <p>Alguns protocolos do vetor de distância enviam periodicamente tabelas de roteamento completas a todos os vizinhos conectados. Em redes grandes, essas atualizações de roteamento podem ficar enormes, causando tráfego significativo nos links. </p> <p><b>Reproduza a animação para visualizar a operação dos protocolos de roteamento do vetor de distância. </b></p> <p>Embora o algoritmo Bellman-Ford acabe acumulando conhecimentos suficientes para manter um banco de dados de redes alcançáveis, o algoritmo não permite que um roteador aprenda a topologia exata de redes interconectadas. O roteador só conhece as informações de roteamento recebidas de seus vizinhos. </p> <p>Os protocolos do vetor de distância usam os roteadores como postagens de sinal ao longo do caminho para o destino final. As únicas informações que um roteador conhece sobre uma rede remota são a distância ou a métrica para alcançar essa rede e o caminho ou a interface que devem ser usados para isso. Os protocolos de roteamento do vetor de distância não têm um mapa real da topologia da rede. </p> <p>Os protocolos do vetor de distância funcionam melhor em situações nas quais:</p> <ul><li> A rede é simples e fixa e não requer um design hierárquico especial.</li> <li> Os administradores não têm conhecimentos suficientes para configurar e solucionar os problemas dos protocolos link-state.</li> <li> Redes de tipos específicos, como redes hub-and-spoke, estão sendo implementadas.</li> <li> Os tempos de <content-link target="cg8488982897" type="glossary">convergência</content-link> inesperada em uma rede não são uma preocupação.</li></ul> <p>As funções e operações do protocolo de roteamento do vetor de distância serão explicadas no próximo capítulo. Você também aprenderá as operações e a configuração dos protocolos de roteamento do vetor de distância RIP e EIGRP.</p></content-text>
</page>
<page type="OneColumn" id="tl0903020302">
<content-media type="AnimationPartialScreen" id="cm7571119312"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020300/tl0903020302/cm7571119312.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903020000/tl0903020300/tl0903020302/cm7571119312text.xml"/></content-media>
<content-text><p><b>Operação do protocolo link-state</b></p> <p>Em comparação com a operação do protocolo de roteamento do vetor de distância, um roteador configurado com um <content-link target="cg3032423004" type="glossary">protocolo de roteamento link-state</content-link> pode criar uma “exibição completa” ou topologia da rede coletando informações de todos os outros roteadores. Para continuar nossa analogia de postagens de sinal, usar um protocolo de roteamento link-state é como ter um mapa completo da topologia da rede. As postagens de sinal ao longo do caminho, da origem ao destino, não são necessárias, pois todos os roteadores link-state estão usando um "mapa" idêntico da rede. Um roteador link-state usa as informações de link-state para criar um mapa de topologia e selecionar o melhor caminho para todas as redes de destino da topologia. </p> <p><b>Reproduza a animação.</b></p> <p>Com alguns protocolos de roteamento do vetor de distância, os roteadores enviam atualizações periódicas de suas informações de roteamento aos seus vizinhos. Os protocolos de roteamento link-state não usam atualizações periódicas. Depois que a rede <content-link target="cg4721536573" type="glossary">convergir</content-link>, a atualização de link-state só será enviada quando houver uma alteração na topologia. Por exemplo, a atualização de link-state na animação não será enviada até que a rede 172.16.3.0 pare de funcionar. </p> <p>Os protocolos de link-state funcionam melhor em situações nas quais:</p> <ul><li> O design de rede é hierárquico, o que normalmente ocorre em redes grandes.</li> <li> Os administradores têm um bom conhecimento do protocolo de roteamento link-state implementado.</li> <li> A convergência rápida da rede é crucial.</li></ul> <p>As funções e operações do protocolo de roteamento link-state serão explicadas nos capítulos posteriores. Você também aprenderá as operações e a configuração do protocolo de roteamento link-state OSPF.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903020400">
<title><content-text>Classful e classless</content-text></title>
<page type="OneColumn" id="tl0903020401">
<content-media type="StaticGraphic" id="cm8822831723"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020400/tl0903020401/cm8822831723.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903020000/tl0903020400/tl0903020401/cm8822831723text.xml"/></content-media>
<content-text><p><b>Protocolos de roteamento classful</b></p> <p><b>Os protocolos de roteamento classful não enviam informações sobre a máscara de sub-rede nas atualizações de roteamento.</b> Os primeiros protocolos de roteamento, como o RIP, eram classful. Isso ocorria em uma época em que os endereços de rede eram alocados com base em classes: classe A, B ou C. O protocolo de roteamento não precisava incluir a máscara de sub-rede na atualização de roteamento porque a máscara de rede podia ser determinada com base no primeiro octeto do endereço de rede. </p> <p>Os protocolos de roteamento classful ainda podem ser usados em algumas das redes atuais. No entanto, como eles não incluem a máscara de sub-rede, não podem ser usados em todas as situações. Os protocolos de roteamento classful não podem ser usados quando uma rede é colocada em sub-rede usando mais de uma máscara de sub-rede. Em outras palavras, os <content-link target="cg3951938013" type="glossary">protocolos de roteamento classful</content-link> não suportam VLSMs. </p> <p>Há outras limitações para os protocolos de roteamento classful, incluindo sua incapacidade de suportar redes <content-link target="cg8784536802" type="glossary">descontíguas</content-link>. Os protocolos de roteamento classful, as redes não contíguas e a VLSM serão discutidos em capítulos posteriores. </p> <p>Os protocolos de roteamento classful incluem o RIPv1 e o IGRP.</p> <p><b>Protocolos de roteamento classless</b></p> <p>Os protocolos de roteamento classless incluem a máscara de sub-rede com o endereço de rede nas atualizações de roteamento. As redes atuais não são mais alocadas com base em classes e a máscara de sub-rede não pode ser determinada pelo valor do primeiro octeto. Os protocolos de roteamento classless são obrigatórios na maioria das redes atuais porque suportam VLSMs, redes não contíguas e outros recursos que serão discutidos em capítulos posteriores.</p> <p>Na figura, observe que a versão classless da rede está usando ambas as máscaras de sub-rede /30 e /27 na mesma topologia. Observe também que essa topologia está usando um projeto não contíguo.</p>  <p>Os protocolos de roteamento classless são RIPv2, EIGRP, OSPF, IS-IS e BGP. </p></content-text>
</page>
</topic>
<topic type="" id="tl0903020500">
<title><content-text>Convergência</content-text></title>
<page type="OneColumn" id="tl0903020501">
<content-media type="StaticGraphic" id="cm1695891277"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020500/tl0903020501/cm1695891277.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903020000/tl0903020500/tl0903020501/cm1695891277text.xml"/></content-media>
<content-text><p><b>O que é a convergência?</b></p> <p>A convergência ocorre quando as tabelas de roteamento de todos os roteadores estão em um estado de consistência. Haverá convergência na rede quando todos os roteadores tiverem informações completas e precisas sobre ela. O tempo de convergência é o tempo que os roteadores levam para compartilhar informações, calcular os melhores caminhos e atualizar suas tabelas de roteamento. Para que uma rede seja completamente operável, é necessário que haja convergência nela. Portanto, a maioria das redes requer pouco tempo de convergência.</p> <p>A convergência é colaborativa e independente. Os roteadores compartilham informações entre si, mas devem calcular de forma independente os impactos da alteração na topologia em suas próprias rotas. Como eles desenvolvem um acordo com a nova topologia de forma independente, acredita-se que eles realizam convergências nesses consensos.</p> <p>As propriedades da convergência incluem a velocidade de propagação das informações de roteamento e o cálculo de caminhos ideais. Os protocolos de roteamento podem ser classificados com base na velocidade de convergência; quanto mais rápida for a convergência, melhor será o protocolo de roteamento. Geralmente, o RIP e o IGRP são lentos para convergir, enquanto o EIGRP e o OSPF são mais rápidos. </p></content-text>
</page>
<page type="OneColumn" id="tl0903020502">
<content-media type="ActivityPKA" id="cm6577202301"><title><content-text></content-text></title><media ref="tl0903000000/tl0903020000/tl0903020500/tl0903020502/cm6577202301/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903020000/tl0903020500/tl0903020502/cm6577202301/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, a rede já foi configurada com 2 roteadores, 2 switches e 2 hosts. Uma nova rede local será adicionada e você assistirá à convergência da rede. </p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0903030000">
<title><content-text>Métrica</content-text></title>
<topic type="" id="tl0903030100">
<title><content-text>Finalidade de uma métrica</content-text></title>
<page type="OneColumn" id="tl0903030101">
<content-media type="StaticGraphic" id="cm1093597160"><title><content-text></content-text></title><media ref="tl0903000000/tl0903030000/tl0903030100/tl0903030101/cm1093597160.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903030000/tl0903030100/tl0903030101/cm1093597160text.xml"/></content-media>
<content-text><p>Há casos em que um protocolo de roteamento aprende mais de uma rota para o mesmo destino. Para selecionar o melhor caminho, o protocolo de roteamento deve poder avaliar e diferenciar os caminhos disponíveis. A <b>métrica </b>é usada para essa finalidade. Métrica é um valor usado por protocolos de roteamento para atribuir custos com a finalidade de alcançar redes remotas. A métrica é usada para determinar o melhor caminho quando houver vários caminhos para a mesma rede remota. </p> <p>Cada protocolo de roteamento usa sua própria métrica. Por exemplo, o RIP usa a contagem de saltos, o EIGRP usa uma combinação de largura de banda e atraso e a implantação do OSPF feita pela Cisco usa a largura de banda. A contagem de saltos é a métrica mais fácil de visualizar. A contagem de saltos se refere ao número de roteadores que um pacote deve atravessar para alcançar a rede de destino. Para o R3 mostrado na figura, a rede 172.16.3.0 está há dois saltos, ou dois roteadores, de distância. </p> <p><b>Nota: </b>A métrica de determinado protocolo de roteamento e a maneira como ela é calculada serão discutidas no capítulo desse protocolo de roteamento.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903030200">
<title><content-text>Métrica e protocolos de roteamento</content-text></title>
<page type="OneColumn" id="tl0903030201">
<content-media type="AnimationPartialScreen" id="cm3450062843"><title><content-text></content-text></title><media ref="tl0903000000/tl0903030000/tl0903030200/tl0903030201/cm3450062843.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903030000/tl0903030200/tl0903030201/cm3450062843text.xml"/></content-media>
<content-text><p><b>Os parâmetros da métrica</b></p> <p>Protocolos de roteamento diferentes usam métricas diferentes. A métrica usada por um protocolo de roteamento não é comparável à métrica usada por outro protocolo de roteamento. Se dois protocolos de roteamento usarem métricas diferentes, poderão escolher caminhos diferentes para o mesmo destino. </p> <p><b>Reproduza a animação.</b></p> <p>O RIP escolherá o caminho com menor quantidade de saltos e o OSPF escolherá o caminho com a maior largura de banda.</p> <p>A métrica usada em protocolos de roteamento IP inclui:</p> <ul><li> <b>Contagem de saltos</b> - Uma métrica simples que conta o número de roteadores que um pacote deve atravessar</li> <li> <b>Largura de banda </b>- Influencia a seleção do caminho ao escolher o caminho com a maior largura de banda</li> <li> <b>Carga </b>- Considera a utilização de tráfego de determinado link</li> <li> <b>Atraso </b>- Considera o tempo que um pacote leva para atravessar um caminho</li> <li> <b>Confiabilidade </b>- Avalia a probabilidade de uma falha de link, calculada a partir da contagem de erros de interface ou de falhas de link anteriores</li> <li> <b>Custo </b>- Um valor determinado pelo IOS ou pelo administrador de rede para indicar sua preferência por uma rota. O custo pode representar uma métrica, uma combinação de métricas ou uma política. </li></ul> <p><b>Nota: </b>Neste ponto, não é importante entender completamente essas métricas; elas serão explicadas em capítulos posteriores.</p></content-text>
</page>
<page type="OneColumn" id="tl0903030202">
<content-media type="StaticGraphic" id="cm4148007687"><title><content-text></content-text></title><media ref="tl0903000000/tl0903030000/tl0903030200/tl0903030202/cm4148007687.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903030000/tl0903030200/tl0903030202/cm4148007687text.xml"/></content-media>
<content-text><p><b>O campo de métricas na tabela de roteamento</b></p> <p>A métrica de cada protocolo de roteamento é:</p> <ul><li> <b>RIP:</b> Contagem de saltos - O melhor caminho é escolhido pela rota com a menor contagem de saltos.</li> <li> <b>IGRP e EIGRP:</b> Largura de banda, atraso, confiabilidade e carga - O melhor caminho é escolhido pela rota com o menor valor de métrica composto calculado a partir desses parâmetros múltiplos. Por padrão, somente a largura de banda e o atraso são utilizados. </li> <li> <b>IS-IS e OSPF:</b> Custo - O melhor caminho é escolhido pela rota com o menor custo. . A implementação do OSPF pela Cisco usa a largura de banda. O IS-IS é discutido no CCNP.</li></ul> <p>Os protocolos de roteamento determinam o melhor caminho com base na rota com a menor métrica. </p> <p>Consulte o exemplo na figura. Os roteadores estão usando o protocolo de roteamento RIP. A exibição da métrica associada a determinada rota pode melhorada utilizando o comando <span class="cmd"><b>show ip route</b></span>. O valor da métrica é o segundo valor dentro dos colchetes de uma entrada na tabela de roteamento. Na figura, o R2 tem uma rota para a rede 192.168.8.0/24 que está a 2 saltos de distância.</p> <span class="cmd"><p><b>R 192.168.8.0/24 [120/2] via 192.168.4.1, 00:00:26, Serial0/0/1</b></p></span> <p><b>Nota:</b> Mais informações detalhadas sobre métricas específicas de protocolos de roteamento e também sobre como os calcular essas métricas estarão disponíveis nos capítulos posteriores que descrevem os protocolos de roteamento individuais.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903030300">
<title><content-text>Balanceamento de carga</content-text></title>
<page type="OneColumn" id="tl0903030301">
<content-media type="AnimationPartialScreen" id="cm5650230763"><title><content-text></content-text></title><media ref="tl0903000000/tl0903030000/tl0903030300/tl0903030301/cm5650230763.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903030000/tl0903030300/tl0903030301/cm5650230763text.xml"/></content-media>
<content-text><p>Discutimos que os protocolos de roteamento individuais usam métricas com a finalidade de determinar a melhor rota para alcançar redes remotas. Mas o que acontece quando duas ou mais rotas para o mesmo destino têm valores de métrica idênticos? Como o roteador decidirá o caminho a ser usado para encaminhar um pacote? Nesse caso, o roteador não escolhe apenas uma rota. <b>Em vez disso, o roteador faz o "balanceamento de carga" entre esses caminhos de mesmo custo</b>. Os pacotes são encaminhados usando caminhos de custo igual. </p> <p>Para verificar se o balanceamento de carga está em vigor, consulte a tabela de roteamento. <b>Se duas ou mais rotas estiverem associadas ao mesmo destino, significa que o balanceamento de carga está em vigor.</b></p> <p><b>Nota: </b>O balanceamento de carga pode ser feito por pacote ou por destino. A maneira como um roteador faz o balanceamento de carga de pacotes entre os caminhos de custo depende do processo de comutação. O processo de comutação será discutido em mais detalhes em um capítulo posterior. </p> <p><b>Reproduza a animação.</b></p> <p>O R2 faz o balanceamento de carga do tráfego para o PC5 por dois caminhos de custo igual. </p> <p>O comando <span class="cmd"><b>show ip route</b></span> revela que a rede de destino 192.168.6.0 está disponível através da 192.168.2.1 (Serial 0/0/0) e da 192.168.4.1 (Serial 0/0/1).</p> <span class="cmd"><p>R 192.168.6.0/24 [120/1] via 192.168.2.1, 00:00:24, Serial0/0/0</p></span> <span class="cmd"><p> [120/1] via 192.168.4.1, 00:00:26, Serial0/0/1</p></span> <p>Todos os protocolos de roteamento discutidos neste curso são capazes de fazer o balanceamento de carga de tráfego automaticamente para até quatro rotas de custo igual por padrão. O EIGRP também é capaz de fazer o balanceamento de carga em caminhos de custo desigual. Esse recurso do EIGRP é discutido no CCNP.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0903040000">
<title><content-text>Distâncias administrativas</content-text></title>
<topic type="" id="tl0903040100">
<title><content-text>Finalidade da distância administrativa</content-text></title>
<page type="OneColumn" id="tl0903040101">
<content-media type="StaticGraphic" id="cm5512273598"><title><content-text></content-text></title><media ref="tl0903000000/tl0903040000/tl0903040100/tl0903040101/cm5512273598.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903040000/tl0903040100/tl0903040101/cm5512273598text.xml"/></content-media>
<content-text><p><b>Várias origens de roteamento</b></p> <p>Sabemos que os roteadores aprendem redes adjacentes diretamente conectadas e redes remotas usando rotas estáticas e protocolos de roteamento dinâmico. De fato, um roteador pode aprender uma rota para a mesma rede a partir de mais de uma origem. Por exemplo, uma rota estática pode ter sido configurada para a mesma rede/máscara de sub-rede que foi aprendida dinamicamente por um protocolo de roteamento dinâmico, como o RIP. O roteador deve escolher a rota a ser instalada.</p> <p><b>Nota</b>: Você pode estar se perguntando: e os caminhos de custo igual? Várias rotas para a mesma rede só podem ser instaladas quando vêm da mesma origem de roteamento. Por exemplo, para que as rotas de custo igual sejam instaladas, ambas devem ser rotas estáticas ou rotas RIP.</p> <p>Embora menos comum, mais de um protocolo de roteamento dinâmico pode ser implantado na mesma rede. Em algumas situações, pode ser necessário rotear o mesmo endereço de rede que usa vários protocolos de roteamento como RIP e OSPF. Como protocolos de roteamento diferentes usam métricas diferentes, o RIP utiliza a contagem de saltos e o OSPF utiliza a largura de banda, não é possível comparar as métricas para determinar o melhor caminho.</p> <p>Desse modo, como um roteador determina a rota a ser instalada na tabela de roteamento quando tiver aprendido a mesma rede a partir de mais de uma origem de roteamento?</p> <p><b>A finalidade da distância administrativa</b></p> <p>A distância administrativa (<content-link target="cg3416376132" type="glossary">AD</content-link>, administrative distance) define a preferência de uma origem de roteamento. Cada origem de roteamento, incluindo protocolos de roteamento específicos, rotas estáticas e até mesmo redes diretamente conectadas, é priorizada na ordem da mais para a menos preferível usando um valor de distância administrativa. Os roteadores Cisco usam o recurso AD para selecionar o melhor caminho quando aprendem a mesma rede de destino a partir de duas ou mais origens de roteamento diferentes.</p> <p>A distância administrativa é um valor inteiro de 0 a 255. Quanto menor o valor, melhor será a origem de rota. A melhor distância administrativa é a de 0. Somente uma rede diretamente conectada tem uma distância administrativa de 0. Essa distância não pode ser alterada. </p> <p>É possível modificar a distância administrativa de rotas estáticas e de protocolos de roteamento dinâmico. Isso é discutido no CCNP.</p> <p>Uma distância administrativa de 255 significa que o roteador não acreditará na origem dessa rota e não será instalado na tabela de roteamento.</p> <p><b>Nota</b>: A confiabilidade do termo costuma ser usada ao definir a distância administrativa. Quanto menor o valor da distância administrativa, maior será a confiabilidade da rota.</p></content-text>
</page>
<page type="OneColumn" id="tl0903040102">
<content-media type="InteractiveGraphicHotspots" id="cm4669560958"><title><content-text></content-text></title><media ref="tl0903000000/tl0903040000/tl0903040100/tl0903040102/cm4669560958.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903040000/tl0903040100/tl0903040102/cm4669560958text.xml"/></content-media>
<content-text><p><b>Clique em <span class="cmd">show ip route</span> na figura.</b> </p> <p>O valor da AD é o primeiro valor dentro dos colchetes de uma entrada na tabela de roteamento. Observe que o R2 tem uma rota para a rede 192.168.6.0/24 com um valor de AD de 90.</p> <span class="cmd"><p>D 192.168.6.0/24 [90/2172416] via 192.168.2.1, 00:00:24, Serial0/0/0</p></span> <p>O R2 está executando os protocolos de roteamento RIP e EIGRP. Lembre-se: não é comum os roteadores executarem vários protocolos de roteamento dinâmico, mas usamos esse exemplo aqui para demonstrar como funciona a distância administrativa. O R2 aprendeu a rota 192.168.6.0/24 do R1 através das atualizações do EIGRP e do R3 através das atualizações do RIP. O RIP tem uma distância administrativa de 120, mas o EIGRP tem uma distância administrativa menor de 90. Assim, o R2 adiciona a rota aprendida através do EIGRP à tabela de roteamento e encaminha todos os pacotes à rede 192.168.6.0/24 para o roteador R1.</p> <p><b>Clique em <span class="cmd">show ip rip database</span> na figura.</b> </p> <p>O que acontecerá se o link para o R1 ficar indisponível? O R2 não terá uma rota para a rede 192.168.6.0. Na verdade, o R2 ainda tem as informações da rota do RIP para a rede 192.168.6.0 armazenadas no banco de dados do RIP. Isso pode ser verificado com o comando <span class="cmd"><b>show ip rip database</b></span>. Esse comando mostra todas as rotas RIP aprendidas pelo R2 mesmo que a rota RIP não esteja instalada na tabela de roteamento.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903040200">
<title><content-text>Protocolos de roteamento dinâmico</content-text></title>
<page type="OneColumn" id="tl0903040201">
<content-media type="InteractiveGraphicHotspots" id="cm2898218638"><title><content-text></content-text></title><media ref="tl0903000000/tl0903040000/tl0903040200/tl0903040201/cm2898218638.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903040000/tl0903040200/tl0903040201/cm2898218638text.xml"/></content-media>
<content-text><p><b>Clique em <span class="cmd">show ip route</span> na figura.</b> </p> <p>Você já sabe que pode verificar esses valores de AD com o comando <span class="cmd"><b>show ip route</b></span>. </p> <p><b>Clique em <span class="cmd">show ip protocols</span> na figura.</b> </p> <p>O valor de AD também pode ser verificado com o comando <span class="cmd"><b>show ip protocols</b></span>. Esse comando exibe todas as informações pertinentes sobre os protocolos de roteamento que funcionam no roteador. Veremos o comando <span class="cmd"><b>show ip protocols</b></span> em detalhes muitas vezes durante o restante do curso. Por enquanto, observe a saída de dados realçada: O R2 tem dois protocolos de roteamento listados e o valor de AD é chamado de <b>Distância</b>.</p> <p><b>Clique em Tabela de AD na figura.</b> </p> <p>Observe os valores diferentes de distância administrativa de vários protocolos de roteamento.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903040300">
<title><content-text>Rotas estáticas</content-text></title>
<page type="OneColumn" id="tl0903040301">
<content-media type="InteractiveGraphicHotspots" id="cm9624195153"><title><content-text></content-text></title><media ref="tl0903000000/tl0903040000/tl0903040300/tl0903040301/cm9624195153.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903040000/tl0903040300/tl0903040301/cm9624195153text.xml"/></content-media>
<content-text><p>Como você já viu no Capítulo 2, as rotas estáticas são inseridas por um administrador que deseja configurar manualmente o melhor caminho para o destino. Por isso, as rotas estáticas têm um valor de AD padrão de 1. Isso significa que depois das redes diretamente conectadas, que têm um valor de AD padrão de 0, as rotas estáticas são a origem de rota preferida. </p> <p>Há situações em que um administrador configurará uma rota estática aprendida com um protocolo de roteamento dinâmico para o mesmo destino, mas usando um caminho diferente. A rota estática será configurada com um AD maior do que o do protocolo de roteamento. Se houver uma falha de link no caminho usado pelo protocolo de roteamento dinâmico, a rota inserida pelo protocolo de roteamento será removida da tabela de roteamento. Então, a rota estática se tornará a única origem e será adicionada automaticamente à tabela de roteamento. Isso é conhecido como rota estática flutuante e é discutido no CCNP.</p> <p>Uma rota estática que usa um endereço IP do próximo salto ou uma interface de saída tem um valor de AD padrão de 1. No entanto, o valor de AD não será listado em <span class="cmd"><b>show ip route</b></span> quando você configurar uma rota estática com a interface de saída especificada. Quando uma rota estática é configurada com uma interface de saída, a saída de dados mostra a rede como diretamente conectada através dessa interface. </p> <p><b>Clique em <span class="cmd">show ip route</span> na figura.</b> </p> <p>A rota estática para a 172.16.3.0 é listada como <b>diretamente conectada</b>. No entanto, não há nenhuma informação sobre o valor de AD. Um erro comum é supor que o valor de AD dessa rota deve ser 0 porque indica "diretamente conectado". No entanto, essa pressuposição é falsa. O AD padrão de qualquer rota estática, incluindo as configuradas com uma interface de saída, é 1. Lembre-se, somente uma rede diretamente conectada pode ter um AD de 0. Isso pode ser verificado estendendo o comando <span class="cmd"><b>show ip route</b></span> com a opção <span class="cmd"><b>[route]</b></span>. Ao especificar a <span class="cmd"><b>[route]</b></span>, serão reveladas informações detalhadas sobre a rota, incluindo sua distância ou valor de AD. </p> <p><b>Clique em <span class="cmd">show ip route 172.16.3.0</span> na figura.</b> </p> <p>O comando <span class="cmd"><b>show ip route 172.16.3.0</b></span> revela que, de fato, a distância administrativa é 1.</p></content-text>
</page>
</topic>
<topic type="" id="tl0903040400">
<title><content-text>Redes diretamente conectadas</content-text></title>
<page type="OneColumn" id="tl0903040401">
<content-media type="InteractiveGraphicHotspots" id="cm3436031351"><title><content-text></content-text></title><media ref="tl0903000000/tl0903040000/tl0903040400/tl0903040401/cm3436031351.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903040000/tl0903040400/tl0903040401/cm3436031351text.xml"/></content-media>
<content-text><p>Redes diretamente conectadas aparecerão na tabela de roteamento assim que o endereço IP da interface for configurado e a interface estiver habilitada e em funcionamento. O valor de AD de redes diretamente conectadas é 0, o que significa que essa é a origem de roteamento preferida. A melhor rota para um roteador é ter uma de suas interfaces diretamente conectada a essa rede. Por isso, a distância administrativa de uma rede diretamente conectada não pode ser alterada e nenhuma outra origem de rota pode ter uma distância administrativa de 0. </p> <p><b>Clique em <span class="cmd">show ip route</span> na figura.</b> </p> <p>A saída de dados do comando <span class="cmd"><b>show ip route</b></span> exibe as redes diretamente conectadas sem informações sobre o valor de AD. A saída de dados é semelhante à saída de rotas estáticas que apontam para uma interface de saída. A única diferença é a letra <b>C</b> no começo da entrada, indicando que a rede é diretamente conectada.</p> <p>Para visualizar o valor de AD de uma rede diretamente conectada, use a opção <span class="cmd"><b>[route]</b></span>. </p> <p><b>Clique em <span class="cmd">show ip route 172.16.1.0</span> na figura.</b> </p> <p>O comando <span class="cmd"><b>show ip route 172.16.1.0</b></span> revela que a distância é 0 para essa rota diretamente conectada.</p></content-text>
</page>
<page type="OneColumn" id="tl0903040402">
<content-media type="ActivityPKA" id="cm5682933468"><title><content-text></content-text></title><media ref="tl0903000000/tl0903040000/tl0903040400/tl0903040402/cm5682933468/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903040000/tl0903040400/tl0903040402/cm5682933468/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você usará a versão do comando <span class="cmd"><b>show ip route</b></span> para visualizar detalhes de entradas da tabela de roteamento. </p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl0903050000">
<title><content-text>Protocolos de roteamento e atividades de criação de sub-redes</content-text></title>
<topic type="" id="tl0903050100">
<title><content-text>Identificando elementos da tabela de roteamento</content-text></title>
<page type="OneColumn" id="tl0903050101">
<content-media type="ActivityDnDCheckReset" id="cm7216945476"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050100/tl0903050101/cm7216945476.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903050000/tl0903050100/tl0903050101/cm7216945476text.xml"/></content-media>
<content-text><p>A finalidade deste exercício é praticar a identificação correta da origem da rota, da distância administrativa e da métrica de determinada rota com base na saída de dados do comando <span class="cmd"><b>show ip route</b></span>. </p> <p>A saída de comando não é comum para a maioria das tabelas de roteamento. A execução de mais de um protocolo de roteamento no mesmo roteador é rara. A execução deles, conforme mostrado aqui, é mais um exercício acadêmico e será útil para ajudá-lo a aprender a interpretar a saída de comando da tabela de roteamento.</p> <p>Arraste e solte as respostas corretas no espaço correspondente na tabela.</p> <ul><li> Use as informações de show ip route como referência.</li> <li> Nem todas as respostas são usadas.</li> <li> Algumas respostas são usadas mais de uma vez. </li></ul></content-text>
</page>
</topic>
<topic type="" id="tl0903050200">
<title><content-text>Cenário de criação de sub-rede 1</content-text></title>
<page type="OneColumn" id="tl0903050201">
<content-media type="ActivityLab" id="cm3365131460"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050200/tl0903050201/cm3365131460/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903050000/tl0903050200/tl0903050201/cm3365131460/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você recebeu o endereço de rede 192.168.9.0/24 para ser dividido em sub-redes e para fornecer o endereçamento IP para a rede mostrada no diagrama da topologia.</p><p><b>Clique no ícone de laboratório para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0903050202">
<content-media type="ActivityPKA" id="cm2757885425"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050200/tl0903050202/cm2757885425/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903050000/tl0903050200/tl0903050202/cm2757885425/icontext.xml"/></content-media>
<content-text><p>Use esta Atividade do Packet Tracer para implantar o seu esquema de endereçamento. </p> <p>Um resumo das instruções é fornecido na atividade. Use o PDF do laboratório para obter mais detalhes.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0903050300">
<title><content-text>Cenário de criação de sub-rede 2</content-text></title>
<page type="OneColumn" id="tl0903050301">
<content-media type="ActivityLab" id="cm1973515006"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050300/tl0903050301/cm1973515006/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903050000/tl0903050300/tl0903050301/cm1973515006/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você recebeu o endereço de rede 172.16.0.0/16 para ser dividido em sub-redes e para fornecer o endereçamento IP para a rede mostrada no diagrama da topologia.</p><p><b>Clique no ícone de laboratório para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0903050302">
<content-media type="ActivityPKA" id="cm2000022239"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050300/tl0903050302/cm2000022239/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903050000/tl0903050300/tl0903050302/cm2000022239/icontext.xml"/></content-media>
<content-text><p>Use esta Atividade do Packet Tracer para implantar o seu esquema de endereçamento. </p> <p>Um resumo das instruções é fornecido na atividade. Use o PDF do laboratório para obter mais detalhes.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl0903050400">
<title><content-text>Cenário de criação de sub-rede 3</content-text></title>
<page type="OneColumn" id="tl0903050401">
<content-media type="ActivityLab" id="cm6611910588"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050400/tl0903050401/cm6611910588/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903050000/tl0903050400/tl0903050401/cm6611910588/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você recebeu o endereço de rede 192.168.1.0/24 para ser dividido em sub-redes e para fornecer o endereçamento IP para a rede mostrada no diagrama da topologia.</p><p><b>Clique no ícone de laboratório para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0903050402">
<content-media type="ActivityPKA" id="cm3759209876"><title><content-text></content-text></title><media ref="tl0903000000/tl0903050000/tl0903050400/tl0903050402/cm3759209876/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903050000/tl0903050400/tl0903050402/cm3759209876/icontext.xml"/></content-media>
<content-text><p>Use esta Atividade do Packet Tracer para implantar o seu esquema de endereçamento. </p> <p>Um resumo das instruções é fornecido na atividade. Use o PDF do laboratório para obter mais detalhes.</p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl0903060000">
<title><content-text>Resumo</content-text></title>
<topic type="" id="tl0903060100">
<title><content-text>Resumo e revisão</content-text></title>
<page type="OneColumn" id="tl0903060101">
<content-media type="StaticGraphic" id="cm1307329697"><title><content-text></content-text></title><media ref="tl0903000000/tl0903060000/tl0903060100/tl0903060101/cm1307329697.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903060000/tl0903060100/tl0903060101/cm1307329697text.xml"/></content-media>
<content-text><p><b>Resumo</b></p> <p>Os protocolos de roteamento dinâmico são usados pelos roteadores para aprender automaticamente redes remotas de outros roteadores. Neste capítulo, você foi apresentado a vários protocolos de roteamento dinâmico diferentes. </p> <p>Você aprendeu que os protocolos de roteamento podem ser classificados como classful ou classless, link-state, do vetor de distância ou de vetor de caminho, e se um protocolo de roteamento é um protocolo IGP ou um protocolo EGP. As diferenças entre essas classificações serão mais bem compreendidas nos capítulos posteriores, nos quais você obterá mais informações sobre esses protocolos e conceitos de roteamento.</p> <p>Os protocolos de roteamento detectam redes remotas e também têm um procedimento para manter informações de rede precisas. Quando há uma mudança na topologia, é função do protocolo de roteamento informar aos outros roteadores sobre essa mudança. </p> <p>Quando houver uma mudança na topologia de rede, alguns protocolos de roteamento podem propagar essa informação por todo o domínio de roteamento com mais rapidez do que outros protocolos de roteamento. O processo de fazer com que todas as tabelas de roteamento fiquem consistentes é chamado de convergência. A convergência ocorre quando todos os roteadores no mesmo domínio de roteamento ou área têm informações completas e precisas sobre a rede. </p> <p>As métricas são usadas pelos protocolos de roteamento para determinar o melhor caminho ou o caminho mais curto para alcançar uma rede de destino. Protocolos de roteamento diferentes podem usar métricas diferentes. Normalmente, uma métrica menor significa um caminho melhor. Alcançar uma rede com cinco saltos é melhor do que alcançá-la com 10 saltos.</p> <p>Às vezes, os roteadores aprendem várias rotas para a mesma rede a partir de rotas estáticas e de protocolos de roteamento dinâmico. Quando um roteador aprende uma rede de destino a partir de mais de uma origem de roteamento, os roteadores Cisco usam o valor de distância administrativa para determinar a origem a ser usada. Cada protocolo de roteamento dinâmico tem um valor administrativo exclusivo, junto com rotas estáticas e redes diretamente conectadas. Quanto menor o valor administrativo, melhor será a origem da rota. Uma rede diretamente conectada é sempre a origem preferida. A seguir estão as rotas estáticas e, finalmente, vários protocolos de roteamento dinâmico.</p> <p>Todas as classificações e conceitos deste capítulo serão discutidos com mais detalhes no restante dos capítulos deste curso. Ao final deste curso, você poderá consultar este capítulo revisar e obter uma visão geral dessas informações.</p></content-text>
</page>
<page type="FullScreen" id="tl0903060102">
<content-media type="ChapterSummary" id="cm1175305485"><title><content-text></content-text></title><media ref="tl0903000000/tl0903060000/tl0903060100/tl0903060102/cm1175305485.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903060000/tl0903060100/tl0903060102/cm1175305485text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl0903060103">
<content-media type="ActivityPKA" id="cm2070011893"><title><content-text></content-text></title><media ref="tl0903000000/tl0903060000/tl0903060100/tl0903060103/cm2070011893/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl0903000000/tl0903060000/tl0903060100/tl0903060103/cm2070011893/icontext.xml"/></content-media>
<content-text><p>A Atividade Avançada de Integração das Habilidades no Packet Tracer deste capítulo é muito semelhante à atividade que você concluiu no final do Capítulo 2. O cenário é um pouco diferente, permitindo que você pratique melhor as suas habilidades. Nesta atividade, você cria uma rede do zero. Começando com um espaço de endereçamento e requisitos de rede, você deve implementar um design de rede que atenda às especificações. Em seguida, você deverá implementar uma configuração de roteamento estático efetiva.</p> <p><content-link target="E2_PTAct_3_6_1_Directions.pdf" type="internalfile">Instruções de integração das habilidades no Packet Tracer (PDF)</content-link></p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
<page type="OneColumn" id="tl0903060104">
<content-media type="StaticGraphic" id="cm9307454969"><title><content-text></content-text></title><media ref="tl0903000000/tl0903060000/tl0903060100/tl0903060104/cm9307454969.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl0903000000/tl0903060000/tl0903060100/tl0903060104/cm9307454969text.xml"/></content-media>
<content-text><p><b>Para Saber Mais</b></p> <p>O protocolo BGP é um protocolo de roteamento inter-autônomo - o protocolo de roteamento da Internet. Embora o BGP seja discutido brevemente neste curso (ele é discutido com mais detalhes no CCNP), é interessante mostrar as tabelas de roteamento de alguns dos principais roteadores da Internet.</p> <p>Os servidores de rota são usados para exibir as rotas de BGP na Internet. Vários sites fornecem acesso a esses servidores de rota. Por exemplo: <content-link target="http://www.traceroute.org" type="external">www.traceroute.org</content-link>. Ao escolher um servidor de rota em um sistema autônomo específico, você iniciará uma sessão de telnet nesse servidor de rota. Esse servidor está espelhando um roteador principal de Internet, que é freqüentemente um roteador Cisco. </p> <p>Você pode usar o comando <span class="cmd"><b>show ip route</b></span> para visualizar a tabela de roteamento real de um roteador de Internet. Use o comando <span class="cmd"><b>show ip route</b></span> seguido do endereço de rede público ou global de sua escola como, por exemplo, <span class="cmd"><b>show ip route 207.62.187.0</b></span>.</p> <p>Você não poderá entender muitas das informações nesta saída de comando, mas esses comandos devem lhe dar uma idéia do tamanho de uma tabela de roteamento em um roteador principal de Internet. </p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl0903070000">
<title><content-text>Teste do capítulo</content-text></title>
<topic type="" id="tl0903070100">
<title><content-text>Teste do capítulo</content-text></title>
<page type="FullScreen" id="tl0903070101">
<content-media type="ChapterQuiz" id="cm1620276688"><title><content-text></content-text></title><media ref="tl0903000000/tl0903070000/tl0903070100/tl0903070101/cm1620276688/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl0903000000/tl0903070000/tl0903070100/tl0903070101/cm1620276688/icontext.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
</chapter>
