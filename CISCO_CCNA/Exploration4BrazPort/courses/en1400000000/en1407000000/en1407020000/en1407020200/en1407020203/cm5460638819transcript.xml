<transcript lastedited="12.03.08 12:12:39">
<title><content-text><![CDATA[7.2.2 - What Is NAT?]]></content-text></title>
<brief><content-text><![CDATA[The animation depicts how NAT Overloading (sometimes called Port Address Translation or PAT) works and how the next available port is selected.<br><br>NAT Process:<br>The diagram shows two PC's connected to router R2, which is connected to the Internet cloud. Two servers are connected to the ISP cloud.<br><br>Inside Network:<br>PC1 IP address: 192.168.10.10<br>PC2 IP address: 192.168.10.11<br>Both PC1 and PC2 are connected to a FastEthernet interface on router R2.<br><br>Outside Network:<br>Server1 IP address: 209.165.201.1<br>Server2 IP address: 209.165.202.129<br>Both Server1 and Server2 are connected to a serial interface on router R2.<br><br>As the animation progresses:<br>Step 1. PC1 sends a packet to router R2 with source address 192.168.10.10 and source port 1555. The destination is Server1 with address 209.165.201.1 and port 80.<br><br>Step 2. PC2 sends a packet to router R2 with source address 192.168.10.11 and source port 1331. The destination is Server2 with address 209.165.202.129 and port 80.<br><br>Step 3. The PC1 packet is received by R2, which translates the PC1 inside local IP address 192.168.10.10 to an inside global IP address 209.165.200.226 and port number 1555.<br><br>Step 4. The PC2 packet is received by R2, which translates the PC2 inside local IP address 192.168.10.11 to the same inside global IP address 209.165.200.226 but with port number 1331.<br><br>Step 5. Router R2 creates NAT Overload table entries as follows:<br><br>NAT Table entries for PC1:<br>Inside Local IP Address: 192.168.10.10:1555<br>Inside Global IP Address: 209.165.200.226:1555<br>Outside Global IP Address: 209.165.201.1:80<br>Outside Local IP Address: 209.165.201.1:80<br><br>NAT Table entries for PC2:<br>Inside Local IP Address: 192.168.10.11:1331<br>Inside Global IP Address: 209.165.200.226:1331<br>Outside Global IP Address: 209.165.202.129:80<br>Outside Local IP Address: 209.165.202.129:80<br><br>Step 6. The packets from PC1 and PC2 reach the destination servers.<br><br>Next Available Port:<br>The diagram shows three PC's connected to router R2, which is connected to the Internet cloud. <br><br>Inside Network:<br>PC1 IP address: 192.168.10.10<br>PC2 IP address: 192.168.10.11<br>PC3 IP address: 192.168.10.12<br>PC1, PC2, and PC3 are connected to a FastEthernet interface on router R2.<br><br>Outside Network:<br>Router R2 Serial interface<br><br>As the animation progresses:<br>Step 1. PC2 sends a packet to router R2 with source address 192.168.10.11 and source port 1444.<br><br>Step 2. The PC2 packet is received by R2, which translates the PC2 inside local IP address 192.168.10.11 using port 1444 to an inside global IP address 209.165.200.226 using port 1444. Note that when the address is translated or changed, the source port number of 1444 does not change.<br><br>Step 3. PC3 sends a packet to router R2 with source address 192.168.10.12 and source port 1444.<br><br>Step 4. The PC3 packet is received by R2, which translates the PC2 inside local IP address 192.168.10.11 to an inside global IP address 209.165.200.226 but uses the next available port number 1445, because port 1444 was already in use by the PC2 translation.<br><br>Router R1 creates NAT Overload table entries as follows: <br><br>NAT Table entries for PC2:<br>Inside Local IP Address: 192.168.10.11:1444<br>Inside Global IP Address: 209.165.200.226:1444<br><br>NAT Table entries for PC3:<br>Inside Local IP Address: 192.168.10.12:1444<br>Inside Global IP Address: 209.165.200.226:1445]]></content-text></brief>
<full><content-text><![CDATA[FULL - NOT FOR PRODUCTION]]></content-text></full>
</transcript>
