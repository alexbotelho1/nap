<transcript lastedited="12.03.08 12:12:36">
<title><content-text><![CDATA[7.1.6 - DHCP Relay]]></content-text></title>
<brief><content-text><![CDATA[The diagram depicts using DHCP relay to solve a DHCP problem: a client cannot obtain its IP configuration because the DHCP server is on another network segment and separated by a router.<br><br>Network Topology:<br>Two LAN's, 192.168.10.0/24 and 192.168.11.0/24, are connected by router R1. PC1 in LAN 1 is connected to switch S1, which is connected to R1 interface FA0/0. PC2 in LAN 2 is connected to switch S2, which is connected to R1 interface FA0/1. A DHCP server is also connected to switch S2.<br><br>PC1 IP address: DHCP client - no IP address initially<br>Switch S1 IP address: 192.168.10.2/24<br>Router R1 FA0/0 IP address: 192.168.10.1/24<br><br>PC2 IP address: 192.168.11.10/24<br>Switch S2 IP address: 192.168.11.2/24<br>Router R1 FA0/1 IP address: 192.168.11.1/24<br>DHCP Server IP address: 192.168.11.1/24:<br><br>DHCP problem:<br>Client PC1 is attempting to acquire an IP address by broadcasting a DHCP request to locate a DHCP. Router R1 is not configured as a DHCP server. The DHCP server is connected to switch S2 on another network segment. A text bubble for R1 says: "Sorry, I can't forward any broadcasts outside of your network subnet."<br><br>Host problem:<br>A command window shows PC1 attempting to renew its IP address from the DHCP server. First the i p config/release command is used. The IP address is released. The current address is now 0.0.0.0, and the subnet mask is 0.0.0.0. Next, the i p config/renew command is issued. This causes PC1 to broadcast a DHCP DISCOVER message. However, PC1 is unable to contact a DHCP server, and an error message is displayed indicating this.<br><br>Relay Config:<br>Router R1 is configured as a DHCP relay agent. It accepts broadcast requests for the DHCP service and then forwards them as a unicast to the DHCP server at IP address 192.168.11.5.<br><br>Configuration Commands:<br>R1(config)#interface FA0/0<br>R1(config-i f)#i p helper-address 192.168.11.5<br>R1(config-i f)#end<br><br>Host Renew:<br>A command window shows PC1 attempting to renew its IP address from the DHCP server. First, the i p config/release command is used. The IP address is released. The current address is now 0.0.0.0, and the subnet mask is 0.0.0.0. Next, the i p config/renew command is issued. The display shows that PC1 is now able to acquire IP address 192.168.10.11/24 from the DHCP server, with a default gateway of 192.168.10.1.<br>]]></content-text></brief>
<full><content-text><![CDATA[FULL - NOT FOR PRODUCTION]]></content-text></full>
</transcript>
