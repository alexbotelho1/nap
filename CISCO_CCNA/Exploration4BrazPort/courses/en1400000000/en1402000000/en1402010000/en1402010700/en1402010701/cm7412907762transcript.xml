<transcript lastedited="11.17.08 11:11:59">
<title><content-text><![CDATA[2.1.7  - Troubleshooting a Serial Interface]]></content-text></title>
<brief><content-text><![CDATA[The diagram depicts interface status and Cisco I O S commands used in troubleshooting a serial interface. Included is a table of status line values, the possible condition they can indicate, and suggested solutions. The output of the show controller command is also provided. <br><br>Possible States:<br>The show interfaces serial 0/0/0 command returns one of five possible states in the interface status line. In the terminal window output for this command, the following lines are highlighted:<br>- Serial 0/0/0 is up, line protocol is up.<br>- Encapsulation HDLC.<br><br>Interface status conditions:<br><br>A. Status Line: Serial x is up, line protocol is up.<br>Possible Condition: This is the proper status line condition.<br>Solution: No action is required.<br><br>B. Status Line: Serial x is down, line protocol is down (D T E mode).<br>Possible Condition:<br>- The router is not sensing a CD signal, which means that the CD is not active.<br>- A WAN carrier service provider problem has occurred, which means that the line is down or is not connected to the CSU/DSU.<br>- Cabling is faulty or incorrect.<br>- A hardware failure has occurred (CSU/DSU).<br>Solution:<br>1. Check the L E D's on the CSU/DSU to see whether the CD is active, or insert a breakout box on the line to check for the CD signal.<br>2. Verify that the proper cable and interface are used by looking at the hardware installation documentation.<br>3. Insert a breakout box and check all control leads.<br>4. Contact the leased-line or other carrier service to see whether there is a problem.<br>5. Swap faulty parts.<br>6. If faulty router hardware is suspected, change the serial line to another port. If the connection comes up, the previously connected interface has a problem.<br><br>C. Status Line: Serial x is up, line protocol is down (D T E mode).<br>Possible Condition: <br>- A local or remote router is misconfigured.<br>- Keepalives are not being sent by the remote router.<br>- A leased-line or other carrier service problem has occurred, which means a noisy line or misconfigured or failed switch.<br>- A timing problem has occurred on the cable, which means serial clock transmit external (SCTE) is not set on the CSU/DSU. <br>- SCTE is designed to compensate for clock phase shift on long cables. When the DCE device uses SCTE instead of its internal clock to sample data from the D T E, it is better able to sample the data without error even if there is a phase shift in the cable. <br>- A local or remote CSU/DSU has failed.<br>- Router hardware, which could be either local or remote, has failed.<br>Solution:<br>1. Put the modem, CSU, or DSU in local loopback mode and use the show interfaces serial command to determine whether the line protocol comes up. If the line protocol comes up, a WAN carrier service provider problem or a failed remote router is the likely problem.<br>2. If the problem appears to be on the remote end, repeat Step 1 on the remote modem, CSU, or DSU.<br>3. Verify all cabling. Make certain that the cable is attached to the correct interface, the correct CSU/DSU, and the correct WAN carrier service provider network termination point. Use the show controllers exec command to determine which cable is attached to which interface.<br>4. Enable the debug serial interface exec command.<br>5. If the line protocol does not come up in local loopback mode, and if the output of the debug serial interface exec command shows that the keepalive counter is not incrementing, a router hardware problem is likely. Swap the router interface hardware.<br>6. If the line protocol comes up and the keepalive counter increments, the problem is not in the local router.<br>7. If faulty router hardware is suspected, change the serial line to an unused port. If the connection comes up, the previously connected interface has a problem.<br><br>D. Status Line: Serial x is up, line protocol is down (DCE mode).<br>Possible Condition:<br>- The clockrate interface configuration command is missing.<br>- The D T E device does not support or is not set up for SCTE mode (terminal timing).<br>- The remote CSU or DSU has failed.<br>Solution:<br>1. Add the clockrate interface configuration command on the serial interface.<br>Syntax: clockrate bps<br>Syntax Description: bps - Desired clock rate in bits per second:<br>1200, 2400, 4800, 9600, 19200, 38400, 56000, 64000, 72000, 125000, 148000, 250000, 500000, 800000, 1000000, 1300000, 2000000, 4000000, or 8000000.<br>2. If the problem appears to be on the remote end, repeat Step 1 on the remote modem, CSU, or DSU.<br>3. Verify that the correct cable is being used.<br>4. If the line protocol is still down, there is a possible hardware failure or cabling problem. Insert a breakout box and observe leads.<br>5. Replace faulty parts as necessary.<br><br>E. Status Line: Serial x is up, line protocol is up (looped).<br>Possible Condition: A loop exists in the circuit. The sequence number in the keepalive packet changes to a random number when a loop is initially detected. If the same random number is returned over the link, a loop exists.<br>Solution: <br>1. Use the show running-config privileged exec command to look for any loopback interface configuration command entries.<br>2. If there is a loopback interface configuration command entry, use the no loopback interface configuration command to remove the loop.<br>3. If there is no loopback interface configuration command, examine the CSU/DSU to determine whether they are configured in manual loopback mode. If they are, disable manual loopback.<br>4. After disabling loopback mode on the CSU/DSU, reset the CSU/DSU and inspect the line status. If the line protocol comes up, no other action is needed.<br>5. If upon inspection, the CSU or DSU cannot be manually set, contact the leased-line or other carrier service for line troubleshooting assistance.<br><br>F. Status Line: Serial x is up, line protocol is down (disabled).<br>Possible Condition:<br>- A high error rate has occurred due to a WAN service provider problem.<br>- A CSU or DSU hardware problem has occurred.<br>- Router hardware (interface) is bad.<br>Solution:<br>1. Troubleshoot the line with a serial analyzer and breakout box. Look for toggling CTS and DSR signals.<br>2. Loop CSU/DSU (D T E loop). If the problem continues, it is likely that there is a hardware problem. If the problem does not continue, it is likely that there is a WAN service provider problem.<br>3. Swap out bad hardware as required (CSU, DSU, switch, local, or remote router).<br><br>G. Status Line: Serial x is administratively down, line protocol is down.<br>Possible Condition:<br>- The router configuration includes the shutdown interface configuration command.<br>- A duplicate IP address exists.<br>Solution:<br>1. Check the router configuration for the shutdown command.<br>2. Use the no shutdown interface configuration command to remove the shutdown command.<br>3. Verify that there are no identical IP addresses using the show running-config privileged exec command or the show interfaces exec command.<br>4. If there are duplicate addresses, resolve the conflict by changing one of the IP addresses.<br><br>Controllers:<br>The show controllers serial 0/0/0 command can be used to verify the serial interface cable type, for example, V.35 and mode (D T E or DCE) in which the serial interface is operating. In the terminal window output for this command, the following line is highlighted:<br>- DCE V.35 <br>]]></content-text></brief>
<full><content-text><![CDATA[FULL - NOT FOR PRODUCTION]]></content-text></full>
</transcript>
