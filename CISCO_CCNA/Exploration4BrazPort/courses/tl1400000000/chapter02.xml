<chapter type="" id="tl1402000000">
<title><content-text>PPP</content-text></title>
<section type="ChapterIntroduction" id="tl1402000000">
<title><content-text>Introdução do capítulo</content-text></title>
<topic type="" id="tl1402000100">
<title><content-text>Introdução do capítulo</content-text></title>
<page type="OneColumn" id="tl1402000101">
<content-media type="StaticGraphic" id="cm4296201038">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402000000/tl1402000100/tl1402000101/cm4296201038.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402000000/tl1402000100/tl1402000101/cm4296201038text.xml"/></content-media>
<content-text><p>Este capítulo inicia a exploração das tecnologias WAN, apresentando a comunicação ponto-a-ponto e o (<content-link target="{28A5E808-4F4D-4C8B-B57C-CAA5BEA7A1EF}" type="glossary">PPP</content-link>). </p> <p>Um dos tipos mais comuns de conexão WAN é a ponto-a-ponto. As conexões ponto-a-ponto são utilizadas em redes locais com WANs de operadora e na conexão de segmentos de rede local dentro de uma rede empresarial. Uma conexão ponto-a-ponto entre rede local e WAN também é conhecida como uma conexão serial ou conexão de linha alugada, porque as linhas são alugadas de uma operadora (normalmente uma companhia telefônica) e de uso dedicado ao uso pela empresa locadora das linhas. As empresas pagam por uma conexão contínua entre dois locais remotos, e a linha permanece sempre ativa e disponível. Compreender como funcionam os links de comunicação ponto-a-ponto para fornecer acesso a uma WAN é importante para que se obtenha uma compreensão geral de como funcionam as WANs. </p> <p>O Protocolo ponto a ponto (PPP, Point-to-Point Protocol) fornece conexões de rede local para WAN com vários protocolos que lidam com <content-link target="{9008538D-A177-4909-9433-6A2C8AF6863E}" type="glossary">TCP/IP</content-link>, Intercâmbio de pacotes de redes interconectadas (<content-link target="{6738D592-D485-4B76-ABA9-804BF641F8DD}" type="glossary">IPX</content-link>, Internetwork Packet Exchange) e <content-link target="{BF30ADD2-9C40-4A1F-A5EA-7692E4DD7536}" type="glossary">AppleTalk</content-link> simultaneamente. Ele pode ser usado em linhas de <content-link target="{D748E72E-2EA8-41BF-A1CD-B728FCC98F3F}" type="glossary">par trançado</content-link>, de fibra óptica e na transmissão via satélite. O PPP fornece transporte em links ATM, Frame Relay, ISDN e ópticos. Em redes modernas, a segurança é uma grande preocupação. O PPP permite autenticar conexões usando o Protocolo de autenticação de senha (<content-link target="{EEFA4D9C-ADD6-4DC4-8CFC-36F1623BD38E}" type="glossary">PAP</content-link>, Password Authentication Protocol ) ou o mais eficiente Protocolo avançado de autenticação de reconhecimento (<content-link target="{7336B9B6-272D-422E-8F47-996FB192450C}" type="glossary">CHAP</content-link>, Challenge Handshake Authentication Protocol). Eles serão apresentados na quarta seção. </p> <p>Neste capítulo, você aprenderá os principais conceitos da comunicação serial e como configurar e solucionar problemas de uma conexão serial PPP em um roteador Cisco. </p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1402010000">
<title><content-text>Links ponto-a-ponto seriais</content-text></title>
<topic type="" id="tl1402010100">
<title><content-text>Apresentando a comunicação serial</content-text></title>
<page type="OneColumn" id="tl1402010101">
<content-media type="AnimationPartialScreen" id="cm399064158">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010100/tl1402010101/cm399064158.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010100/tl1402010101/cm399064158text.xml"/></content-media>
<content-text><p><b>Como funciona a comunicação serial?</b></p> <p>Você sabe que a maioria dos PCs têm portas seriais e paralelas. Você também sabe que a eletricidade só pode se mover em uma velocidade. Uma forma de acelerar o deslocamento de bits em um fio é compactar os dados para que menos bits sejam necessários e, assim, exigir menos tempo no fio ou transmitir os bits simultaneamente. Os computadores usam um número relativamente pequeno de conexões paralelas entre componentes internos, mas usam um <content-link target="{FE920326-4C2B-4990-9077-355E9578A37B}" type="glossary">barramento</content-link> serial para converter sinais em grande parte das comunicações externas.</p> <p>Comparemos as comunicações serial e paralela.</p> <p><b>Clique no botão Serial e paralela para ver a animação.</b></p> <p><ul><li>Com uma conexão serial, as informações são enviadas pelo fio, um bit de dados por vez. O conector serial de 9 pinos na maioria dos PCs usa dois fios, um em cada sentido, para a comunicação de dados, além de fios adicionais para controlar o fluxo de informações. Em qualquer sentido, os dados continuam passando por um único fio. </li><li>Uma conexão paralela envia os bits por mais fios simultaneamente. No caso da porta paralela de 25 pinos do seu PC, há oito fios que transportam dados para transportar 8 bits simultaneamente. Como há oito fios para transportar os dados, o link paralelo, em teoria, transfere dados oito vezes mais rapidamente do que uma conexão serial. Dessa forma, com base nessa teoria, uma conexão paralelo envia um byte no momento em que uma conexão serial envia um bit. </li></ul></p> <p>Essa explicação suscita algumas questões. O que significa, em teoria, mais rápido? Se o paralelo for mais rápido que a serial, ele será mais apropriado à conexão com uma WAN? Na verdade, esses links seriais costumam ser ajustados em uma velocidade consideravelmente maior que os links paralelos, e eles conseguem uma taxa de dados maior, por conta de dois fatores que afetam a comunicação paralela: diferença de clock e <content-link target="{C1247259-7EE3-4AC8-A1A1-FED8EB49E252}" type="glossary">interferência</content-link> de linha cruzada. </p> <p><b>Clique no botão Diferença de clock na figura.</b></p> <p>Em uma conexão paralela, é errado supor que os 8 bits que saem do remetente juntos cheguem ao destinatário juntos. Na verdade, alguns dos bits chegam lá mais tarde que outros. Isso é conhecido como diferença de clock. Uma diferença de clock excedente não é comum. A extremidade receptora deve sincronizar-se com o transmissor e aguardar a chegada de todos os bits. Os processos de leitura, gravação, travamento, espera pelo sinal do clock e transmissão dos 8 bits agregam tempo à transmissão. Em uma comunicação paralela, a trava é um sistema de armazenamento de dados utilizado para guardar informações em sistemas lógicos seqüenciais. Quanto mais fios você utilizar e quanto mais longe chegar a conexão, mais problemas haverá, além da presença do atraso. A necessidade de clocking coloca a <content-link target="{AD17FB43-BF42-44A9-88CD-F3F97CAFA4AD}" type="glossary">transmissão paralela</content-link> bem abaixo da expectativas teóricas. </p> <p>E isto não ocorre com links seriais, porque a maioria deles não precisa de clocking. As conexões seriais exigem menos fios e cabos. Elas ocupam menos espaço e podem ser mais bem isoladas da interferência entre fios e cabos. </p> <p><b>Clique no botão Interferência na figura.</b></p> <p>Os fios paralelos são agrupados fisicamente em um cabo paralelo, e os sinais podem ficar uns sobre os outros. A possibilidade de linha cruzada nos fios exige mais processamento, especialmente em freqüências mais altas. Os barramentos seriais em computadores e  roteadores, compensam a linha cruzada antes da transmissão dos bits. Como os cabos seriais têm menos fios, há menos linha cruzada, e os dispositivos de rede transmitem uma comunicação serial em freqüências mais altas, mais eficientemente. </p> <p>Na maior parte dos casos, a implementação da comunicação serial é consideravelmente mais barata. A comunicação serial usa menos fios, cabos mais baratos e menos pinos conectores.</p></content-text>
</page>
<page type="OneColumn" id="tl1402010102">
<content-media type="StaticGraphic" id="cm7279958131">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010100/tl1402010102/cm7279958131.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010100/tl1402010102/cm7279958131text.xml"/></content-media>
<content-text><p><b>Padrões de comunicação serial</b></p> <p>Todas as comunicações de longa distância e a maioria das redes de computadores usa conexões seriais, porque o custo do cabo e as dificuldades de sincronização tornam as conexões paralelas impraticáveis. A vantagem mais significativa é uma fiação mais simples. Além disso, os cabos seriais podem ser mais longos que os cabos paralelos, porque há muito menos interação (linha cruzada) entre os <content-link target="{A4B395B5-DFC8-4005-910F-1C7CC6AABA91}" type="glossary">condutores</content-link> no cabo. Neste capítulo, restringiremos nossa consideração quanto à comunicação serial à conexão de redes locais com WANs.</p> <p>A figura é uma representação simples de uma comunicação serial. Os dados são encapsulados pelo protocolo de comunicação utilizado pelo roteador de envio. O quadro encapsulado é enviado por um <content-link target="{577D52F7-C91C-4EFD-9058-D84E387D11A4}" type="glossary">meio físico</content-link> para a WAN. Há várias formas de atravessar a WAN, mas o roteador de recepção usa o mesmo protocolo de comunicação para desencapsular o quadro quando ele chega.</p> <p>Há muitos padrões de comunicação serial diferentes, cada um usando um método de sinalização diferente. Existem três padrões de comunicação serial importantes que afetam as conexões entre rede local e WAN:</p> <p><ul><li><b>RS-232</b> – grande parte das portas seriais em computadores pessoais é compatível com os padrões RS-232C ou <content-link target="{7B9448F5-5886-4332-88D2-FA2FA9DCAD4A}" type="glossary">RS-422</content-link> e RS-423. São usados conectores de 9 e de 25 pinos. Uma porta serial é uma interface de finalidade geral que pode ser usada por praticamente qualquer tipo de dispositivo, inclusive modems, mouses e impressoras. Muitos dispositivos de rede utilizam conectores RJ-45 que também são compatíveis com o padrão RS-232. A figura mostra um exemplo de um conector RS-232. </li><li><b>V.35</b> – normalmente utilizado na comunicação entre modem e multiplexador, este padrão ITU para alta velocidade e troca de dados síncrona, integra a largura de banda de vários circuitos telefônicos. Nos EUA, V.35 é o padrão de interface utilizado pela maioria dos roteadores e DSUs que se conectam a operadoras de T1. Os cabos V.35 são conjuntos seriais de alta velocidade projetados para suportar taxas de dados maiores e conectividade entre DTEs e DCEs em linhas digitais. Há mais sobre DTEs e DCEs posteriormente nesta seção.</li><li><b>HSSI</b> – Uma High-Speed Serial Interface (HSSI) suporta taxas de transmissão de até 52 Mb/s. Os engenheiros usam HSSI para conectar roteadores em redes locais a WANs em linhas de alta velocidade, como linhas T3. Eles também usam HSSI para fornecer conectividade de alta velocidade entre redes locais, usando <content-link target="{46FCF3BE-3E64-417D-9EE5-12E458850691}" type="glossary">Token Ring</content-link> ou Ethernet. HSSI é uma interface DTE/DCE desenvolvida pela Cisco Systems e pela T3plus Networking para atender à necessidade da comunicação de alta velocidade em links de WAN.</li></ul></p> <p><b>Clique no botão RS-232 na figura.</b></p> <p>Além, de métodos de sinalização diferentes, cada um desses padrões usa tipos diferentes de cabos e conectores. Cada padrão desempenha uma função diferente em uma topologia entre rede local e WAN. Embora este curso não examine os detalhes dos esquemas de pinagem V.35 e HSSI, uma rápida observação do conector RS-232 de 9 pinos usado para conectar um PC a um modem ajuda a ilustrar o conceito. Um tópico posterior observa os cabos V.35 e HSSI.</p> <p><ul><li>Pino 1 – Detecção de operadora de dados (DCD, Data Carrier Detect) indica que a operadora dos dados de transmissão está ativada. </li><li>Pino 2 – o pino de recepção (RXD) transporta dados do dispositivo serial para o computador.</li><li>Pino 3 – o pino de transmissão (TxD) transporta dados do computador para o dispositivo serial.</li><li>Pino 4 – Terminal de dados pronto (<content-link target="{AA9A37F0-5604-452C-A347-F92C7371F95D}" type="glossary">DTR</content-link>, Data Terminal Ready ) indica para o modem que o computador está pronto para transmissão.</li><li>Pino 5 – terra.</li><li>Pino 6 – Conjunto de dados pronto (<content-link target="{323FBF54-E3A6-4651-93A0-5F7B6121D73C}" type="glossary">DSR</content-link>, Data Set Ready) é semelhante a DTR. Ele indica que o Dataset está ativado.</li><li>Pino 7 – o pino RTS precisa de folga para enviar dados a um modem.</li><li>Pino 8 – o dispositivo serial utiliza o pino Clear to Send (<content-link target="{DEECCD2D-9672-4E68-A1AB-C6BB3431E343}" type="glossary">CTS</content-link>) para confirmar o sinal RTS do computador. Na maioria das situações, RTS e CTS estão sempre ativos em toda a sessão de comunicação.</li><li>Pino 9 – um modem de resposta automática utiliza o Ring Indicator (RI) para sinalizar o recebimento de um sinal de toque telefônico.</li></ul></p> <p>Os pinos DCD e RI só estão disponíveis em conexões com um modem. Essas duas linhas são utilizadas raramente porque grande parte dos modems transmite informações de status para um PC quando um sinal de operadora é detectado (quando uma conexão é estabelecida com outro modem) ou quando o modem recebe um sinal de toque da linha telefônica.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402010200">
<title><content-text>TDM</content-text></title>
<page type="OneColumn" id="tl1402010201">
<content-media type="StaticGraphic" id="cm2428824174">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010200/tl1402010201/cm2428824174.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010200/tl1402010201/cm2428824174text.xml"/></content-media>
<content-text><p><b>Multiplexação por divisão de tempo </b></p> <p>A Bell Laboratories inventou a multiplexação por divisão de tempo (<content-link target="{7ACAE0D9-0BE0-4B25-8341-1173A373DC83}" type="glossary">TDM</content-link>, time division multiplexing) para maximizar a quantidade de tráfego de voz transmitido por um meio. Antes da multiplexação, cada chamada telefônica precisava de um link físico próprio. Essa era uma solução cara e não escalável. TDM divide a largura de banda de um único link em canais separados ou slots de tempo. TDM transmite dois ou mais canais pelo mesmo link, alocando um intervalo diferente (slot de tempo) para a transmissão de cada canal. Na verdade, os canais revezam a utilização do link. </p> <p>TDM é um conceito da camada física. Ele não tem nada a ver com o futuro das informações multiplexadas no canal de saída do comando. TDM é independente do protocolo de Camada 2 que possa ser utilizado pelos canais de input.</p> <p>TDM pode ser explicada por uma analogia com o tráfego de uma rodovia. Para transportar o tráfego de quatro estradas para outra cidade, você pode enviar todo ele em uma só pista caso as estradas que se ligam à ela estejam igualmente em boas condições e o tráfego esteja sincronizado. Dessa forma, se cada uma das quatro estradas colocar um carro na rodovia principal a cada quatro segundos, ela receberá um carro a cada segundo. Desde que a velocidade de todos os carros esteja sincronizada, não haverá colisão. No destino, acontece o inverso, e os carros saem da rodovia e entram nas estradas locais pelo mesmo mecanismo síncrono.</p> <p>Este é o princípio utilizado na TDM síncrona durante o envio de dados por um link. A TDM aumenta a capacidade do <content-link target="{1E8228B9-185D-4DFF-933D-F43F8CA7D0F8}" type="glossary">link de transmissão</content-link>, dividindo o tempo em intervalos menores para que o link transporte os bits de várias origens de input, o que aumenta efetivamente o número de bits transmitidos por segundo. Com TDM, o transmissor e o receptor sabem exatamente o sinal enviado. </p> <p>Em nosso exemplo, um multiplexador (MUX) no transmissor aceita três sinais distintos. O MUX divide todo sinal em segmentos. O MUX coloca cada segmento em um único canal, inserindo cada segmento em um slot de tempo. </p> <p>Um MUX na extremidade de recepção reagrupa o fluxo TDM em três <content-link target="{06B803B4-B6AA-496A-BB94-F0E207493D85}" type="glossary">fluxos de dados</content-link> distintos com base exclusivamente no timing de chegada de cada bit. Uma técnica chamada entrelaçamento de bits controla o número e a seqüência dos bits de cada transmissão específica para que eles possam ser reagrupados de maneira rápida e eficiente em sua forma original durante o recebimento. O entrelaçamento de bits realiza as mesmas funções, mas como há oito bits em cada byte, o processo precisa de um slot de tempo maior.</p></content-text>
</page>
<page type="OneColumn" id="tl1402010202">
<content-media type="StaticGraphic" id="cm7368365086">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010200/tl1402010202/cm7368365086.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010200/tl1402010202/cm7368365086text.xml"/></content-media>
<content-text><p><b>Multiplexação estatística por divisão de tempo</b></p> <p>Em outra analogia, compare TDM com um trem de 32 vagões. Cada vagão é de uma empresa de frete diferente, e diariamente o trem sai com os 32 vagões em carreira. Se uma das empresas tiver carga a ser enviada, o vagão será carregado. Se a empresa não tiver nada para enviar, o vagão permanecerá vazio, mas continuará no trem. Enviar contêineres vazios não é muito eficiente. A TDM apresenta essa deficiência quando o tráfego é intermitente, porque o slot de tempo continua alocado, mesmo quando o canal não tem nenhum dado a ser transmitido. </p> <p>A Multiplexação estatística por divisão de tempo (<content-link target="{59B181AD-43C8-4BA3-A4F8-2F600C653627}" type="glossary">STDM</content-link>, Statistical time-division multiplexing) foi desenvolvida para superar essa deficiência. A STDM utiliza um slot de tempo variável, o que permite aos canais competir por qualquer espaço livre. Ele emprega uma memória de <content-link target="{644A1A6D-2155-4D87-BA98-27FAE094D70A}" type="glossary">buffer</content-link> que armazena temporariamente os dados durante períodos de pico do tráfego. A STDM não desperdiça tempo de linha de alta velocidade com canais inativos que utilizam esse esquema. A STDM exige que cada transmissão transporte informações de identificação (um identificador de canal).</p></content-text>
</page>
<page type="OneColumn" id="tl1402010203">
<content-media type="StaticGraphic" id="cm8793810519">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010200/tl1402010203/cm8793810519.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010200/tl1402010203/cm8793810519text.xml"/></content-media>
<content-text><p><b>Exemplos de TDM – ISDN e SONET</b></p> <p>Um exemplo de uma tecnologia que utiliza a TDM síncrona é a ISDN. A ISDN basic rate (BRI) tem três canais que consistem em dois canais B de 64 kb/s (B1 e B2) e um canal D de 16 kb/s. A TDM tem nove slots de tempo, repetidos na seqüência mostrada na figura.</p> <p>Em uma escala maior, o setor de telecomunicação utiliza o padrão <content-link target="{B4A5B7D1-A36E-4945-BE9E-B0249F749417}" type="glossary">SONET</content-link> ou SDH no transporte óptico dos dados TDM. O SONET, utilizado na América do Norte, e o SDH, utilizado nos demais lugares, são dois padrões muito semelhantes que especificam parâmetros de interface, taxas, formatos de quadros, métodos de multiplexação e gerenciamento de TDM síncrono por fibra. </p> <p><b>Clique no botão SONET na figura.</b></p> <p>A figura exibe um exemplo de TDM estatística. SONET/SDH usa n fluxos de bits, multiplexa e modula o sinal de maneira óptica, envia utilizando um dispositivo emissor de luz em fibra com uma taxa de bits igual a (taxa de bits recebidos) x n. Dessa forma, o tráfego recebido no multiplexador SONET de quatro locais a 2,5 Gb/s sai como um único fluxo a 4 x 2,5 Gb/s ou 10 Gb/s. Esse princípio está ilustrado na figura, que mostra um aumento na taxa de bits de quatro vezes o slot de tempo. </p> <p><b>Clique no botão DS0 na figura.</b></p> <p>A unidade original utilizada em chamadas telefônicas de multiplexação é de 64 kb/s, o que representa uma chamada telefônica. Isso é conhecido como <content-link target="{1C4BECBB-CC3F-4D4A-8D12-ABE82F2098BD}" type="glossary">DS-0 ou DS0</content-link> (nível de sinal digital igual a zero). Na América do Norte, 24 unidades DS0 são multiplexadas utilizando-se a TDM em um sinal da taxa de bits maior com uma velocidade agregada de 1,544 Mb/s para a transmissão em linhas T1. Fora da América do Norte, 32 unidades DS0 são multiplexadas para a transmissão E1 a 2,048 Mb/s. </p> <p>A hierarquia em nível de sinal para chamadas telefônicas de multiplexação é mostrada na tabela. Como adendo, embora seja comum a referência a uma transmissão a 1,544 Mb/s como T1, é mais correto se referir a ela como DS1. </p> <p><b>Clique no botão Hierarquia de operadora-T na figura.</b></p> <p>A operadora T se refere ao grupo de DS0s. Por exemplo, um T1 = 24 DS0s, um T1C = 48 DS0s (ou 2 T1s) e assim por diante. A figura mostra uma hierarquia de infra-estrutura de operadora T. A hierarquia de operadora E é semelhante.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402010300">
<title><content-text>Ponto de demarcação</content-text></title>
<page type="OneColumn" id="tl1402010301">
<content-media type="StaticGraphic" id="cm6635815420">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010300/tl1402010301/cm6635815420.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010300/tl1402010301/cm6635815420text.xml"/></content-media>
<content-text><p><b>Ponto de demarcação</b></p> <p>Antes da desregulamentação na América do Norte e nos demais países, as companhias telefônicas eram proprietárias do loop local, inclusive da fiação e do equipamento local dos clientes. A desregulamentação forçou as companhias telefônicas a desmembrar sua infra-estrutura de loop local para permitir que outros fornecedores cedessem equipamentos e serviços. Isso levou a uma necessidade de delinear a parte da rede de propriedade da companhia telefônica e a parte de propriedade do cliente. Esse ponto de delineação é o de demarcação, ou demarc. A demarcação indica o ponto em que a sua rede mantém interface com a rede de propriedade de outra organização. Na terminologia telefônica, essa é a interface entre o equipamento local do cliente (CPE) e o equipamento da operadora do serviço de rede. A demarcação é o ponto da rede em que cessa a responsabilidade da operadora. </p> <p>O exemplo apresenta um cenário ISDN. Nos Estados Unidos, uma operadora fornece o loop local no equipamento do cliente, e o cliente fornece o equipamento ativo, como a unidade de serviço do canal/dados (CSU/DSU) em que se encerra o loop local. Esse encerramento costuma ocorrer em um armário de telecomunicação, sendo o cliente o responsável por manter, trocar ou reparar o equipamento. Em outros países, a unidade de terminação de rede (NTU) é fornecida e gerenciada pela operadora. Isso permite à operadora gerenciar ativamente e solucionar problemas do loop local com o ponto de demarcação após a NTU. O cliente conecta um dispositivo CPE, como um roteador ou <content-link target="{2CF9E1FA-3344-4239-844A-514B25775D9E}" type="glossary">dispositivo de acesso Frame Relay (FRAD)</content-link>, à NTU utilizando uma interface serial V.35 ou RS-232. </p></content-text>
</page>
</topic>
<topic type="" id="tl1402010400">
<title><content-text>DTE e DCE</content-text></title>
<page type="OneColumn" id="tl1402010401">
<content-media type="StaticGraphic" id="cm3491557300">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010400/tl1402010401/cm3491557300.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010400/tl1402010401/cm3491557300text.xml"/></content-media>
<content-text><p><b>DTE-DCE</b></p> <p>Do ponto de vista da conexão com a WAN, uma conexão serial tem um dispositivo DTE em uma extremidade da conexão e um dispositivo DCE na outra. A conexão entre os dois dispositivos DCE é a rede de transmissão da operadora WAN. Neste caso:</p> <p><ul><li>O CPE, que costuma ser um roteador, é o DTE. O DTE também pode ser um terminal, computador, impressora ou aparelho de fax, caso eles sejam conectados diretamente à rede da operadora. </li><li>O DCE, normalmente um modem ou CSU/DSU, é o dispositivo utilizado para converter os dados do usuário do DTE em uma forma aceitável para o link de transmissão da operadora WAN. Esse sinal é recebido no DCE remoto, que decodifica o sinal novamente em uma seqüência de bits. Em seguida, o DCE remoto sinaliza essa seqüência para o DTE remoto.</li></ul></p> <p>A Associação das indústrias de eletrônica (EIA, Electronics Industry Association ) e o International Telecommunication Union Telecommunications Standardization Sector (ITU-T) têm participado ativamente do desenvolvimento de padrões que permitem a comunicação entre os DTEs e os DCEs. A EIA se refere ao DCE como equipamento de comunicação de dados, e o ITU-T se refere ao DCE como equipamento terminal de circuito.</p></content-text>
</page>
<page type="OneColumn" id="tl1402010402">
<content-media type="InteractiveGraphicHotspots" id="cm9594906411">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010400/tl1402010402/cm9594906411.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010400/tl1402010402/cm9594906411text.xml"/></content-media>
<content-text><p><b>Padrões de cabo</b></p> <p>Originalmente, o conceito de DCEs e DTEs se baseava em dois tipos de equipamento: terminal que gerava ou recebia dados e de comunicação, que apenas retransmitia dados. No desenvolvimento do padrão RS-232, havia razões pelas quais os conectores RS-232 de 25 pinos nesses dois tipos de equipamento precisavam de fiações diferentes. Essas razões não são mais significativas, mas ainda temos dois tipos diferentes de cabos: um para conectar um DTE a um DCE e outro para conectar dois DTEs diretamente.</p> <p>A interface DTE/DCE de um determinado padrão define as seguintes especificações:</p> <p><ul><li>Mecânica/física – número de pinos e tipo de conector </li><li>elétrica – define níveis de tensão para 0 e 1 </li><li>Funcional – especifica as funções desempenhadas, atribuindo-se significados a cada uma das linhas de sinalização na interface </li><li>Procedimento – especifica a seqüência de eventos para transmitir dados </li></ul></p> <p> </p> <p><b>Clique no botão Modem nulo na figura.</b></p> <p>O padrão RS-232 original só definia a conexão de DTEs com DCEs, que eram modems. No entanto, se você quiser conectar dois DTEs, como dois computadores ou dois roteadores no laboratório, um cabo especial chamado modem nulo eliminará a necessidade de um DCE. Em outras palavras, os dois dispositivos podem ser conectados sem um modem. Um modem nulo é um método de comunicação para conectar diretamente dois DTEs, como um computador, terminal ou impressora, utilizando-se um cabo serial RS-232. Com uma conexão de <content-link target="{57413ED8-0E8F-4C15-9529-F56B04FCD287}" type="glossary">modem nulo</content-link>, as linhas de transmissão (Tx) e de recepção (Rx) em links cruzados são mostradas na figura. Os dispositivos Cisco suportam padrões EIA/TIA-232, EIA/TIA-449, V.35, X.21 e EIA/TIA-530. </p> <p><b>Clique no botão DB-60 na figura.</b></p> <p>O cabo da conexão DTE com DCE é um cabo de transição serial blindado. A extremidade de roteador do cabo de transição serial blindado pode ser um conector DB-60, conectado à porta DB-60 em uma placa de interface WAN serial. A outra extremidade do cabo de transição serial está disponível com um conector apropriado para o padrão a ser utilizado. O provedor WAN ou a CSU/DSU normalmente indica esse tipo de cabo. </p> <p><b>Clique no botão Smart Serial na figura.</b></p> <p>Para suportar densidades de porta maiores em um form factor, a Cisco apresentou um cabo Smart Serial. A extremidade da interface do roteador do cabo Smart Serial é um conector de 26 pinos muito mais compacto do que o conector DB-60.</p> <p><b>Clique no botão Roteador-a-roteador na figura.</b></p> <p>Ao utilizar um modem nulo, lembre-se de que a conexão síncrona exige um sinal de clock. Um dispositivo externo pode gerar o sinal, ou um dos DTEs pode gerar o sinal de clock. Quando um DTE e um DCE forem conectados, a porta serial em um roteador será a extremidade DTE da conexão por padrão, e o sinal de clock será normalmente fornecido por uma CSU/DSU ou um dispositivo DCE. No entanto, ao utilizar um cabo de modem nulo em uma conexão roteador-a-roteador, uma das interfaces seriais deve ser configurada como a extremidade DCE para fornecer o sinal de clock à conexão.</p></content-text>
</page>
<page type="OneColumn" id="tl1402010403">
<content-media type="StaticGraphic" id="cm3240910835">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010400/tl1402010403/cm3240910835.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010400/tl1402010403/cm3240910835text.xml"/></content-media>
<content-text><p><b>Conversão de serial em paralelo</b></p> <p>Os termos DTE e DCE estão relacionados quanto à parte de uma rede observada. RS-232C é o padrão recomendado (RS) que descreve a interface física e o protocolo para comunicação de dados seriais com velocidade relativamente baixa entre computadores e dispositivos relacionados. A EIA definiu originalmente o RS-232C para dispositivos de teleimpressora. O DTE é a interface RS-232C utilizada por um computador para trocar dados com um modem ou outro dispositivo serial. O DCE é a interface RS-232C utilizada por um modem ou outro dispositivo serial na troca de dados com o computador.</p> <p>Por exemplo, o seu PC normalmente utiliza uma interface RS-232C para comunicar e trocar dados com dispositivos seriais conectados, como um modem. O seu PC também tem um chip Receptor/transmissor assíncrono universal (<content-link target="{00FF0CBF-9DFC-4414-9BFC-B902107C90DC}" type="glossary">UART</content-link>, Universal Asynchronous Receiver/Transmitter) na placa-mãe. Como os dados no seu PC fluem pelos circuitos paralelos, o chip UART converte os grupos de bits paralelos em um fluxo serial de bits. Para funcionar mais rapidamente, um chip UART tem buffers para que os dados provenientes do barramento do sistema sejam armazenados em cache durante o processamento dos dados que saem pela porta serial. O UART é o <content-link target="{8EAAF808-B989-4615-A523-9949FF318FC8}" type="glossary">agente</content-link> DTE do seu PC e se comunica com o modem ou outro dispositivo serial, que, de acordo com o padrão RS-232C, tem uma interface complementar chamada de interface DCE.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402010500">
<title><content-text>Encapsulamento HDLC</content-text></title>
<page type="OneColumn" id="tl1402010501">
<content-media type="AnimationPartialScreen" id="cm3883504059">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010500/tl1402010501/cm3883504059.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010500/tl1402010501/cm3883504059text.xml"/></content-media>
<content-text><p><b>Protocolos de encapsulamento WAN</b></p> <p>Em cada conexão WAN, os dados são encapsulados em quadros antes de cruzar o link de WAN. Para assegurar que o protocolo correto seja utilizado, você precisa configurar o tipo de encapsulamento da Camada 2 apropriado. A opção do protocolo depende da tecnologia WAN e do equipamento de comunicação. Os protocolos WAN mais comuns e onde eles são utilizados são mostrados na figura, além de breves descrições:</p> <p><ul><li><b>HDLC</b> – o tipo de encapsulamento padrão em conexões ponto-a-ponto, links dedicados e conexões de circuito comutado quando o link utilizado dois dispositivos Cisco. HDLC agora é a base para PPP síncrono utilizado por muitos servidores para se conectar a uma WAN, mais normalmente a Internet.</li><li><b>PPP</b> – fornece conexões roteador-a-roteador e host-a-rede em circuitos síncronos e assíncronos. O PPP funciona com vários protocolos da camada de rede, como IP e IPX. O PPP também tem mecanismos de segurança internos, como PAP e CHAP. Grande parte deste capítulo aborda o PPP.</li><li><b>Protocolo de internet de linha serial (<content-link target="{396B5ED8-3276-405B-8B88-1030FABB58C5}" type="glossary">SLIP</content-link>, Serial Line Internet Protocol)</b> – um protocolo padrão para conexões seriais ponto-a-ponto que utiliza TCP/IP. O SLIP foi amplamente desbancado por PPP.</li><li><b>X.25/Procedimento de acesso ao link, balanceado (<content-link target="{34CF6682-CD38-4758-905D-BC08B4E932DA}" type="glossary">LAPB</content-link>, Link Access Procedure, Balanced)</b> – o padrão ITU-T que define como a conexão entre um DTE e um DCE é mantida para acesso ao terminal remoto e uma comunicação do computador em redes de dados públicas. X.25 especifica LAPB, um protocolo DLL (camada de enlace). X.25 é um antecessor do Frame Relay.</li><li><b>Frame Relay</b> – protocolo DLL, padrão, comutado, que lida com vários circuitos virtuais. Frame Relay é um protocolo da geração seguinte à do X.25. Frame Relay elimina alguns dos processos mais demorados (como correção de erro e controle de fluxo) empregados no X.25. O próximo capítulo se destina ao Frame Relay.</li><li><b>ATM</b> – o padrão internacional de <content-link target="{2BCDB9BB-655C-458E-998A-EB5FC7FCAB5A}" type="glossary">retransmissão de célula</content-link> no qual os dispositivos enviam vários tipos de serviço (como voz, vídeo ou dados) em células de tamanho fixo (53 bytes). As células de tamanho fixo permitem que o processamento ocorra no hardware, o que reduz atrasos de trânsito. O ATM usufrui <content-link target="{D885D76E-BE9A-4ED9-8CE7-78A4888521E9}" type="glossary">meio</content-link> de transmissão de alta velocidade, como <content-link target="{E60B4EDE-EDBB-480D-A5F7-ED207789661A}" type="glossary">E3</content-link>, SONET e T3.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1402010502">
<content-media type="StaticGraphic" id="cm2822448042">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010500/tl1402010502/cm2822448042.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010500/tl1402010502/cm2822448042text.xml"/></content-media>
<content-text><p><b>Encapsulamento HDLC</b></p> <p>HDLC é um <content-link target="{359C3636-39D7-49E2-912E-E5DC4997A52D}" type="glossary">protocolo orientado para bit</content-link> da camada de enlace síncrono desenvolvido pela Organização internacional para padronização (<content-link target="{93DFA1AC-FE40-4F93-90D9-2233202155D3}" type="glossary">ISO</content-link>, International Organization for Standardization). O padrão atual do HDLC é ISO 13239. O HDLC foi desenvolvido a partir do padrão Controle de enlace de dados síncrono (<content-link target="{153584C9-6941-49B6-B2D5-C65CD245EB6C}" type="glossary">SDLC</content-link>, Synchronous Data Link Control) proposto nos anos 70. O HDLC fornece serviços orientados à conexão e sem conexão.</p> <p>O HDLC utiliza <content-link target="{B19E3D56-0ABD-4543-B7C1-E692C1004CB6}" type="glossary">transmissão serial</content-link> síncrona para fornecer uma comunicação sem erros entre dois pontos. O HDLC define uma estrutura de quadros da Camada 2 que permite o controle de fluxo e o controle de erros por meio da utilização de confirmações. Cada quadro tem o mesmo formato, independentemente do quadro ser de dados ou de controle.</p> <p>Quando quiser transmitir quadros por links síncronos ou assíncronos, você deverá se lembrar de que esses links não têm nenhum mecanismo para marcar o início ou o término dos quadros. O HDLC utiliza um delimitador de quadros, ou flag, para marcar o início e o término de cada quadro.</p> <p>A Cisco desenvolveu uma extensão para o protocolo HDLC a fim de resolver a impossibilidade de fornecer suporte a vários protocolos. Embora o Cisco HDLC (também conhecido como cHDLC) seja próprio, a Cisco permitiu sua implementação por muitos outros fornecedores de equipamentos. Os quadros Cisco HDLC contêm um campo para identificar o protocolo de rede encapsulado. A figura compara o HDLC com o Cisco HDLC.</p> <p><b>Clique no botão Tipos de quadro HDLC na figura.</b></p> <p>O HDLC define três tipos de quadros, cada um com um formato de campo de controle diferente. As seguintes descrições resumem os campos ilustrados na figura.</p>  <p><b>Flag</b> – o campo de flag inicia e encerra a verificação de erros. O quadro sempre começa e termina com um campo de flag de 8 bits. O de bits é 01111110. Como existe uma probabilidade de que esse padrão ocorra nos dados reais, como o sistema HDLC de envio sempre insere um bit 0 após cada cinco 1s no campo de dados, na prática, a seqüência do flag só pode ocorrer no encerramento do quadro. O sistema de recepção remove os bits inseridos. Quando os quadros são transmitidos de maneira consecutiva, o flag final do primeiro quadro é utilizado como o flag inicial do próximo quadro. </p> <p><b>Endereço</b> – o campo de endereço contém o endereço HDLC da estação secundária. Esse endereço pode ser um específico, um de grupos ou um <content-link target="{56F65F51-CCE7-4B9B-A139-74729EFD649B}" type="glossary">endereço de broadcast</content-link>. Um endereço primário é uma origem ou um destino de comunicação, que elimina a necessidade de incluir o endereço do primário. </p> <p><b>Controle</b> – o campo de controle utiliza três formatos diferentes, dependendo do tipo de quadro HDLC utilizado: </p> <p><ul><li><b>Quadro de informações (I):</b> os quadros I transportam informações de camada superior e algumas informações de controle. Esse quadro envia e recebe <content-link target="{BD96A90F-5261-4D4D-836C-146032461C8D}" type="glossary">números de sequência</content-link>, e o bit poll final (P/F) executa o controle de fluxo e de erro. O número de seqüência de envio consulta o número do quadro a ser enviado em seguida. O número de seqüência de recebimento fornece o número do quadro a ser recebido em seguida. O remetente e o receptor mantêm números de seqüência de envio e de recebimento. Uma <content-link target="{716891A2-1271-40A4-9B03-E03CB6E1E14B}" type="glossary">estação primária</content-link> utiliza o bit P/F para informar à secundária se exige ou não uma resposta imediata. Uma estação secundária utiliza o bit P/F para informar à primária se o quadro atual é o último em sua resposta atual. </li><li><b>Quadro de supervisor (S)</b><b>:</b> os quadros S fornecem informações de controle. Um quadro S pode solicitar e suspender a transmissão, o relatório de status e a confirmação de recebimento dos quadros I. Os quadros S não têm um campo de informações. </li><li><b>Quadro sem número (U):</b> os quadros U suportam finalidades de suporte, não estando em seqüência. Um quadro U pode ser utilizado para inicializar secundários. Dependendo da função do quadro U, seu campo de controle tem 1 ou 2 bytes. Alguns quadros U não têm um campo de informações.</li></ul></p> <p><b>Protocolo</b> – (utilizado apenas no Cisco HDLC) esse campo especifica o tipo de protocolo encapsulado dentro do quadro (por exemplo, 0x0800 para IP). </p> <p><b>Dados</b> – o campo de dados contém uma unidade de informações sobre o caminho (PIU) ou informações de identificação de troca (<content-link target="{4C7BD740-AC1F-48BF-99C4-2CB817933DD5}" type="glossary">XID</content-link>). </p> <p><b>Seqüência de verificação de quadros (FCS)</b> – o FCS precede o delimitador de flag final, sendo normalmente um lembrete de cálculo da verificação de redundância cíclica (CRC). O cálculo de CRC é refeito no receptor. Se o resultado for diferente do valor no quadro original, haverá a pressuposição de um erro.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402010600">
<title><content-text>Configurando o encapsulamento HDLC</content-text></title>
<page type="OneColumn" id="tl1402010601">
<content-media type="StaticGraphic" id="cm2122144097">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010600/tl1402010601/cm2122144097.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010600/tl1402010601/cm2122144097text.xml"/></content-media>
<content-text><p><b>Configurando o encapsulamento HDLC</b></p> <p>Cisco HDLC é o método de encapsulamento padrão utilizado por dispositivos Cisco em linhas seriais síncronas. </p> <p>Você utiliza o Cisco HDLC como um protocolo ponto-a-ponto em linhas alugadas entre dois dispositivos Cisco. Se você estiver se conectando a um dispositivo que não seja Cisco, utilize PPP síncrono.</p> <p>Se o método de encapsulamento padrão tiver sido alterado, utilize o comando <span class="cmd"><b>encapsulation hdlc</b></span> no modo privilegiado para reabilitar o HDLC. </p> <p>Há duas etapas para habilitar o encapsulamento HDLC:</p> <p><b>Etapa 1.</b> Entrar no modo de configuração da interface serial.</p> <p><b>Etapa 2.</b> Digitar o comando <span class="cmd"><b>encapsulation hdlc</b></span> para especificar o protocolo de encapsulamento na interface.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402010700">
<title><content-text>Identificação e solução de problemas de uma interface serial</content-text></title>
<page type="OneColumn" id="tl1402010701">
<content-media type="StaticGraphic" id="cm7412907762">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010700/tl1402010701/cm7412907762.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010700/tl1402010701/cm7412907762text.xml"/></content-media>
<content-text><p>A saída do comando <span class="cmd"><b>show interfaces serial</b></span> exibe informações específicas para interfaces seriais. Quando o HDLC é configurado, o "HDLC de encapsulamento" deve se refletir na saída do comando, conforme realçado na figura.</p> <p><b>Clique no botão Estados possíveis na figura.</b></p> <p>O comando <span class="cmd"><b>show interface serial</b></span> retorna um dos cinco estados possíveis. Você pode identificar qualquer um dos cinco estados de problema possíveis na linha de status da interface:</p> <p><b>Clique no botão Status na figura.</b></p> <p><ul><li>Serial x is down, line protocol is down </li><li>Serial x is up, line protocol is down </li><li>Serial x is up, line protocol is up (looped) </li><li>Serial x is up, line protocol is down (disabled) </li><li>Serial x is administratively down, line protocol is down </li></ul></p> <p> </p> <p><b>Clique no botão Controladores na figura.</b></p> <p>O comando <span class="cmd"><b>show controllers</b></span> é outra ferramenta de diagnóstico importante durante a solução de problemas de linhas seriais. A saída do comando indica o estado dos canais de interface e se um cabo está conectado à interface. Na figura, a interface serial 0/0 tem um cabo DCE V.35 conectado. A sintaxe de comando varia de acordo com a plataforma. Os roteadores da série <content-link target="{CA96DC33-6021-49EF-A034-B38F7F6B1560}" type="glossary">Cisco 7000</content-link> utilizam uma placa controladora cBus para a conexão de links seriais. Com esses roteadores, utilize o comando <span class="cmd"><b>show controllers cbus</b></span>. </p> <p>Se a saída do comando da interface elétrica for mostrada como <b>UNKNOWN</b>, e não <b>V.35</b>, <b>EIA/TIA-449</b> ou algum outro tipo de interface elétrica, o possível problema será um cabo conectado incorretamente. Também é possível que haja um problema com a fiação interna da placa. Se a interface elétrica for desconhecida, a tela correspondente do comando <span class="cmd"><b>show interfaces serial &lt;x></b></span> mostrará que a interface e o protocolo de linha estão desativados.</p></content-text>
</page>
<page type="OneColumn" id="tl1402010702">
<content-media type="ActivityPKA" id="cm7228416946">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010700/tl1402010702/cm7228416946/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402010000/tl1402010700/tl1402010702/cm7228416946/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você irá praticar a solução de problemas em interfaces seriais. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_1_7.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
<page type="FullScreen" id="tl1402010703">
<content-media type="ActivityCustom" id="cm8132699887">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402010000/tl1402010700/tl1402010703/cm8132699887.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402010000/tl1402010700/tl1402010703/cm8132699887text.xml"/></content-media>
<content-text><p><b>Memória flash complexa: identificando componentes e conceitos de tecnologia WAN</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1402020000">
<title><content-text>Conceitos de PPP</content-text></title>
<topic type="" id="tl1402020100">
<title><content-text>Apresentando o PPP</content-text></title>
<page type="OneColumn" id="tl1402020101">
<content-media type="StaticGraphic" id="cm5484199683">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020100/tl1402020101/cm5484199683.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020100/tl1402020101/cm5484199683text.xml"/></content-media>
<content-text><p><b>O que é PPP?</b></p> <p>Lembre-se de que o HDLC é o método de encapsulamento serial padrão quando você conecta dois roteadores Cisco. Com um tipo de campo de protocolo adicionado, a versão Cisco do HDLC é própria. Por isso, o Cisco HDLC só pode funcionar com outros dispositivos Cisco. No entanto, ao precisar se conectar a um roteador que não seja Cisco, você deve utilizar o encapsulamento PPP.</p> <p>O encapsulamento PPP foi projetado cuidadosamente para manter a compatibilidade com o hardware de suporte mais utilizado. O PPP encapsula quadros de dados para transmissão em links físicos da Camada 2. O PPP estabelece uma conexão direta utilizando cabos seriais, linhas telefônicas, linhas de tronco, telefones celulares, links de rádio especiais ou links de fibra óptica. Há muitas vantagens em utilizar PPP, inclusive o fato de não ser propriedade de ninguém. Além disso, ele inclui muitos recursos não disponíveis no HDLC:</p> <p><ul><li> O recurso de gerenciamento de qualidade do link monitora a qualidade do link. Se forem detectados muitos erros, o PPP desativará o link. </li><li> O PPP suporta a autenticação PAP e <content-link target="{7336B9B6-272D-422E-8F47-996FB192450C}" type="glossary">CHAP</content-link>. Este recurso será explicado e praticado em uma seção posterior.</li></ul></p> <p>PPP contém três componentes principais: </p> <p><ul><li> O protocolo HDLC para encapsulamento de <content-link target="{6B63E762-4EAB-40DF-82CC-357D94002510}" type="glossary">datagramas</content-link> em links ponto-a-ponto. </li><li> Protocolo de controle do link extensível (<content-link target="{81D73872-FA4C-4E28-8E33-C0A72EDA9353}" type="glossary">LCP</content-link>, Link Control Protocol) para estabelecer, configurar e testar a conexão do link de dados. </li><li> Família de Protocolos de controle de rede (<content-link target="{9BB3F04A-3B62-4AA7-9D2A-0403B61F858F}" type="glossary">NCP</content-link>, Network Control Protocol) para estabelecer e configurar protocolos da camada de rede diferentes. O PPP permite a utilização simultânea de vários protocolos da camada de rede. Alguns dos NCPs mais comuns são o Protocolo de controle de protocolo da internet, Protocolo de controle Appletalk, Protocolo de controle <content-link target="{021AFBA5-A50E-4FDD-A8F4-848FE72930F2}" type="glossary">Novell IPX</content-link>, Protocolo de controle Cisco Systems, Protocolo de controle <content-link target="{E658B098-D9E9-488A-BA8D-401E405C5F1C}" type="glossary">SNA</content-link> e Protocolo de controle de compressão.</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1402020200">
<title><content-text>Arquitetura de camadas PPP</content-text></title>
<page type="OneColumn" id="tl1402020201">
<content-media type="StaticGraphic" id="cm2744087913">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020200/tl1402020201/cm2744087913.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020200/tl1402020201/cm2744087913text.xml"/></content-media>
<content-text><p><b>Arquitetura PPP</b></p> <p>Uma arquitetura de camadas é um modelo lógico, design ou plano que auxilia na comunicação entre camadas de interconexão. A figura mapeia a arquitetura de camadas do PPP em relação ao modelo Open System Interconnection (OSI). PPP e OSI têm a mesma camada física, mas PPP distribui as funções de LCP e NCP de maneira diferente. </p> <p>Na camada física, você pode configurar o PPP em várias interfaces, incluindo:</p> <p><ul><li>Serial assíncrona </li><li>Serial síncrona </li><li>HSSI</li><li>ISDN </li></ul></p> <p>O PPP funciona em qualquer interface DTE/DCE (RS-232-C, RS-422, RS-423 ou V.35). O único requisito absoluto imposto pelo PPP é um circuito bidirecional, dedicado ou comutado, capaz de funcionar em modos seriais de bits assíncronos ou síncronos, transparentes para quadros de camada de enlace PPP. O PPP não impõe nenhuma restrição quanto à taxa de transmissão que não seja a imposta pela interface DTE/DCE em particular sendo utilizada. </p> <p>Grande parte do trabalho feito pelo PPP acontece nas camadas de enlace e de rede pelo LCP e pelos NCPs. O LCP configura a conexão PPP e seus parâmetros, os NCPs lidam com configurações de protocolo da camada superior e o LCP encerra a conexão PPP.</p></content-text>
</page>
<page type="OneColumn" id="tl1402020202">
<content-media type="StaticGraphic" id="cm9671494820">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020200/tl1402020202/cm9671494820.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020200/tl1402020202/cm9671494820text.xml"/></content-media>
<content-text><p><b>Arquitetura PPP – camada Link Control Protocol</b></p> <p>O LCP é a parte funcional real do PPP. O LCP fica acima da camada física e tem uma função de estabelecer, configurar e testar a conexão de enlace. O LCP estabelece o link ponto-a-ponto. O LCP também negocia e configura opções de controle no vínculo WAN, que são tratadas pelo NCPs. </p> <p>O LCP fornece a configuração automática das interfaces em cada extremidade, incluindo:</p> <p><ul><li>Lidar com limites variáveis de tamanho de pacote </li><li>Detectar erros mais comuns de configuração incorreta </li><li>Encerrar o link </li><li>Determinar quando um link está funcionando corretamente ou quando há falha </li></ul></p> <p>O PPP também utiliza o LCP para determinar automaticamente os formatos de encapsulamento (autenticação, compressão, detecção de erros) assim que o link é estabelecido. </p></content-text>
</page>
<page type="OneColumn" id="tl1402020203">
<content-media type="StaticGraphic" id="cm8969742790">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020200/tl1402020203/cm8969742790.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020200/tl1402020203/cm8969742790text.xml"/></content-media>
<content-text><p><b>Arquitetura PPP – Camada de protocolo de controle de rede</b></p> <p>Os links ponto-a-ponto tendem a piorar muitos problemas com a família atual de protocolos de rede. Por exemplo, a atribuição e o gerenciamento de <content-link target="{78086AFB-D7A5-484C-8EBF-75E58648F035}" type="glossary">endereços IP</content-link>, que são problemáticos até mesmo em ambientes de rede local, são especialmente difíceis em links ponto-a-ponto de circuito comutado (como servidores de modem dialup). O PPP resolve esses problemas que utilizam NCPs. </p> <p>O PPP permite a vários protocolos da camada de rede funcionar no mesmo link de comunicação. Para todos os protocolo da camada de rede utilizados, o PPP utiliza um NCP em separado. Por exemplo, IP utiliza o Protocolo de controle IP (IPCP, IP Control Protocol), e o IPX utiliza o Protocolo de controle Novell IPX (IPXCP, IPX Control Protocol). </p> <p><b>Clique no botão Camada de rede na figura.</b></p> <p>Os NCPs incluem campos funcionais que contêm códigos padronizados (os números de campo do protocolo PPP mostrados na figura) para indicar o protocolo da camada de rede encapsulado pelo PPP. Cada NCP gerencia as necessidades específicas exigidas por seus respectivos protocolos da camada de rede. Os vários componentes NCP encapsulam e negociam opções para vários protocolos da camada de rede. A utilização de NCPs para configurar os vários protocolos da camada de rede será explicada e praticada posteriormente neste capítulo.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402020300">
<title><content-text>Estrutura de quadros de PPP</content-text></title>
<page type="OneColumn" id="tl1402020301">
<content-media type="InteractiveGraphicRollovers" id="cm6837344563">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020300/tl1402020301/cm6837344563.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020300/tl1402020301/cm6837344563text.xml"/></content-media>
<content-text><p><b>Estrutura de quadros de PPP</b></p> <p>Um quadro PPP tem seis campos conforme mostrados na figura. </p> <p><b>Passe o seu mouse sobre cada campo </b>para obter uma explicação do que cada um contém. </p> <p>O LCP pode negociar modificações na estrutura do quadro PPP padrão.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402020400">
<title><content-text>Estabelecendo uma sessão PPP</content-text></title>
<page type="OneColumn" id="tl1402020401">
<content-media type="StaticGraphic" id="cm3797591187">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020400/tl1402020401/cm3797591187.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020400/tl1402020401/cm3797591187text.xml"/></content-media>
<content-text><p><b>Estabelecendo uma sessão PPP</b></p> <p>A figura mostra as três fases do estabelecimento de uma sessão PPP:</p> <p><ul><li><b>Fase 1: estabelecimento do link e negociação da configuração</b> – antes do PPP trocar diagramas da camada de rede (por exemplo, IP), o LCP deve abrir primeiro a conexão e negociar as opções de configuração. Essa fase é concluída quando o roteador de recebimento envia um quadro de confirmação da configuração de volta para o roteador que inicia a conexão. </li><li><b>Fase 2: determinação da qualidade do link (opcional)</b> – o LCP testa o link para determinar se a qualidade do link é suficiente para carregar protocolos da camada de rede. O LCP pode atrasar a transmissão das informações do protocolo da camada de rede até a conclusão dessa fase. </li><li><b>Fase 3: negociação da configuração do protocolo da camada de rede</b> – depois que o LCP conclui a fase de determinação da qualidade do link, o NCP apropriado pode configurar separadamente os protocolos da camada de rede, carregá-los e desativá-los a qualquer momento. Se o LCP fechar o link, ele informará os protocolos da camada de rede para que eles possam executar a ação apropriada.</li></ul></p> <p>O link continua configurado para comunicação até que os quadros LCP ou NCP explícitos fechem o link ou até que ocorra algum evento externo (por exemplo, um temporizador de inatividade expira ou um usuário intervém). O LCP pode encerrar o link a qualquer momento. Isso costuma ser feito quando um dos roteadores solicita o encerramento, mas pode acontecer por conta de um evento físico, como a perda de uma operadora ou a expiração de um temporizador de período inativo.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402020500">
<title><content-text>Estabelecendo um link com LCP</content-text></title>
<page type="OneColumn" id="tl1402020501">
<content-media type="StaticGraphic" id="cm4888373144">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020500/tl1402020501/cm4888373144.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020500/tl1402020501/cm4888373144text.xml"/></content-media>
<content-text><p><b>Funcionamento LCP</b></p> <p>O funcionamento LCP inclui provisões para o estabelecimento, a manutenção e o encerramento do link. O funcionamento LCP utiliza três classes de quadros LCP para realizar o trabalho de cada uma das fases LCP:</p> <p><ul><li>Quadros de estabelecimento de link estabelecem e configuram um link (Configure-Request, Configure-<content-link target="{BB93E3A1-CA39-4162-B5CE-958B2EA76B8E}" type="glossary">Ack</content-link>, Configure-<content-link target="{A429AA18-0BE5-4ACC-9BA4-93D5D4E00678}" type="glossary">Nak</content-link> e Configure-Reject)</li><li>Quadros de manutenção de link gerenciam e depuram um link (Code-Reject, Protocol-Reject, Echo-Request, Echo-Reply e Discard-Request)</li><li>Quadros de encerramento de link encerram um link (Terminate-Request e Terminate-Ack)</li></ul></p> <p>A primeira fase do funcionamento LCP é o estabelecimento do link. Essa fase deve ser concluída com êxito, antes de troca de qualquer pacote da camada de rede. Durante o estabelecimento do link, o LCP abre a conexão e negocia os parâmetros da configuração. </p> <p><b>Clique no botão Negociação de link na figura.</b></p> <p>O processo de estabelecimento do link começa com o dispositivo iniciador enviando um quadro Configure-Request para o destinatário. O quadro Configure-Request inclui um número variável de opções de configuração necessárias à configuração no link. Em outras palavras, o iniciador enviou uma "lista de desejos" para o destinatário.</p> <p>A lista de desejos do iniciador inclui opções para como ele deseja que o link seja criado, inclusive protocolo ou parâmetros de autenticação. O destinatário processa a lista de desejos e, se aceitável, responde com uma <content-link target="{256CF550-F074-48E5-8103-B69B5027EE37}" type="glossary">mensagem</content-link> Configure-Ack. Depois de receber a mensagem Configure-Ack, o processo passa ao estágio de autenticação.</p> <p>Se as opções não forem aceitáveis ou não forem reconhecidas, o destinatário enviará um Configure-Nak ou Configure-Reject. Se uma Configure-Ack for recebida, o funcionamento do link será passado ao NCP. Se uma mensagem Configure-Nak ou Configure-Reject for enviada para o solicitante, o link não será estabelecido. Se houver falha na negociação, o iniciador precisará reiniciar o processo com novas opções.</p> <p>Durante a manutenção do link, o LCP pode utilizar mensagens para fornecer comentários e testar o link.</p> <p><ul><li>Code-Reject e Protocol-Reject – esses tipos de quadro fornecem comentários quando um dispositivo recebe um quadro inválido devido a um código LCP não reconhecido (tipo de quadro LCP) ou um identificador de protocolo inválido. Por exemplo, se um pacote que não pode ser interpretado for recebido no mesmo nível, o pacote Code-Reject será enviado em resposta.</li><li>Echo-Request, Echo-Reply e Discard-Request – esses quadros podem ser utilizados para testar o link.</li></ul></p> <p>Depois da transferência de dados na camada de rede, o LCP encerra o link. Na figura, observe que o NCP só finaliza a camada de rede e o link NCP. O link continua aberto até que o LCP seja encerrado. Se o LCP encerrar o link antes do NCP, a <content-link target="{C6ADF545-2A49-405F-9EBC-367F87845567}" type="glossary">sessão</content-link> NCP também será encerrada. </p> <p>O PPP pode encerrar o link a qualquer momento. Isso pode acontecer por conta da perda da operadora, da falha na autenticação, da falha na qualidade do link, da expiração de um temporizador de período inativo ou do fechamento administrativo do link. O LCP fecha o link, trocando pacotes Terminate. O dispositivo que inicia o desligamento envia uma mensagem Terminate-Request. O outro dispositivo responde com um Terminate-Ack. Uma solicitação de encerramento indica que o dispositivo de envio precisa fechar o link. Quando o link for fechado, o PPP informará os protocolos da camada de rede para que eles possam executar a ação apropriada.</p></content-text>
</page>
<page type="OneColumn" id="tl1402020502">
<content-media type="StaticGraphic" id="cm6171866278">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020500/tl1402020502/cm6171866278.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020500/tl1402020502/cm6171866278text.xml"/></content-media>
<content-text><p><b>Pacote LCP</b></p> <p>A figura mostra os campos de um pacote LCP. </p> <p><b>Passe o mouse sobre cada campo e leia a descrição.</b></p> <p>Cada pacote LCP é uma mensagem LCP única que consiste em um campo de código LCP que identifica o tipo de pacote LCP, um campo identificador para que as solicitações e as respostas sejam correspondentes e um campo de tamanho que indica o tamanho do pacote LCP e os dados específicos do tipo.</p>  <p><b>Clique no botão Códigos LCP na figura.</b></p> <p>Cada pacote LCP tem uma função específica na troca de informações sobre a configuração que depende do tipo de pacote. O campo de código do pacote LCP identifica o tipo de pacote de acordo com a tabela.</p></content-text>
</page>
<page type="OneColumn" id="tl1402020503">
<content-media type="StaticGraphic" id="cm8211707662">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020500/tl1402020503/cm8211707662.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020500/tl1402020503/cm8211707662text.xml"/></content-media>
<content-text><p><b>Opções de configuração PPP</b></p> <p>O PPP pode ser configurado para suportar várias funções, inclusive:</p> <p><ul><li>Autenticação que utiliza PAP ou CHAP</li><li>Compressão que utiliza Stacker ou Predictor</li><li>Vários links que integram dois ou mais canais para aumentar a largura de banda WAN</li></ul></p> <p>Essas opções serão abordadas com mais detalhes na próxima seção.</p> <p><b>Clique no botão Campo de opção LCP na figura.</b></p> <p>Para negociar a utilização dessas opções PPP, os quadros de estabelecimento do link LCP contêm informações de opção no campo de dados do quadro LCP. Se uma opção de configuração não for incluída em um quadro LCP, o valor padrão dessa opção de configuração será assumido. </p> <p>Essa fase é concluída quando um quadro de confirmação da configuração foi enviado e recebido.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402020600">
<title><content-text>Explicação do NCP</content-text></title>
<page type="OneColumn" id="tl1402020601">
<content-media type="StaticGraphic" id="cm9384133837">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020600/tl1402020601/cm9384133837.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020600/tl1402020601/cm9384133837text.xml"/></content-media>
<content-text><p><b>Processo NCP</b></p> <p>Depois que o link for iniciado, o LCP passará o controle para o NCP apropriado. Embora inicialmente projetado para <content-link target="{090CF049-5D60-499A-9BA8-F3A027DF9277}" type="glossary">datagramas IP</content-link>, o PPP pode transportar dados de muitos tipos de protocolos da camada de rede, utilizando uma abordagem modular em sua implementação. Ele também pode transportar dois ou mais protocolos da Camada 3 simultaneamente. O modelo modular permite ao LCP configurar o link e apresentar os detalhes de um protocolo de rede a um NCP específico. Cada protocolo de rede tem um NCP correspondente. Cada NCP tem uma RFC correspondente. Há NCPs para IP, IPX, AppleTalk e muitos outros. NCPs utilizam o mesmo formato de pacote dos LCPs.</p> <p>Depois que o LCP configurou e autenticou o link básico, o NCP apropriado será requisitado para concluir a configuração específica do protocolo da camada de rede utilizado. Quando o NCP configurar o protocolo da camada de rede com êxito, o protocolo de rede estará no estado aberto no link TCP estabelecido. Nesse momento, o PPP pode transportar os pacotes do protocolo da camada de rede correspondentes. </p> <p><b>Exemplo de IPCP</b></p> <p>Como um exemplo de como funciona a camada NCP, IP, que é o protocolo da Camada 3 mais comum, é utilizado. Depois que LCP estabelece o link, os roteadores trocam mensagens IPCP, negociando opções específicas do protocolo. O IPCP é responsável por configurar, habilitar e desabilitar os módulos IP em ambas as extremidades do link. </p> <p>O IPCP negocia duas opções:</p> <p><ul><li>Compressão – permite aos dispositivos negociar um <content-link target="{5811B475-9F2B-4629-8D35-61A4F8AA3170}" type="glossary">algoritmo</content-link> para comprimir os cabeçalhos <content-link target="{E42D1636-1D84-4A93-BBE0-86690A95F996}" type="glossary">TCP</content-link> e IP e economizar largura de banda. A compressão de cabeçalho TCP/IP Van Jacobson reduz o tamanho dos cabeçalhos TCP/IP para menos de 3 bytes. Essa pode ser uma melhoria significativa em linhas seriais lentas, especialmente no tráfego interativo. </li><li>Endereço IP – permite ao dispositivo de início especificar um endereço IP para utilizar IP de roteamento no link PPP ou solicitar um endereço IPP para o destinatário. Os links de rede dialup utilizam mais a opção de endereço IP.</li></ul></p> <p>Quando o processo NCP estiver concluído, o link entrará no estado aberto e o LCP reassumirá. O tráfego de link consiste em todas as combinações possíveis de pacotes de protocolos LCP, NCP e da camada de rede. Dessa forma, a figura mostra como as mensagens LCP podem ser utilizadas por um dispositivo para gerenciar ou depurar o link.</p></content-text>
</page>
<page type="FullScreen" id="tl1402020602">
<content-media type="ActivityCustom" id="cm2901841945">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402020000/tl1402020600/tl1402020602/cm2901841945.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402020000/tl1402020600/tl1402020602/cm2901841945text.xml"/></content-media>
<content-text><p><b>Memória flash complexa: identificando conceitos e processos PPP</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1402030000">
<title><content-text>Configurando PPP</content-text></title>
<topic type="" id="tl1402030100">
<title><content-text>Opções de configuração PPP</content-text></title>
<page type="OneColumn" id="tl1402030101">
<content-media type="StaticGraphic" id="cm1217003835">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030100/tl1402030101/cm1217003835.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030100/tl1402030101/cm1217003835text.xml"/></content-media>
<content-text><p><b>Opções de configuração PPP</b></p> <p>Na seção anterior, você foi apresentado a opções LCP que podem ser configuradas para atender a requisitos de conexão WAN específicos. PPP pode incluir as seguintes opções de LCP:</p> <p><ul><li><b>Autenticação</b> – os roteadores de mesmo nível trocam mensagens de autenticação. As duas opções de autenticação são o Protocolo de autenticação de senha (PAP, Password Authentication Protocol) e o Protocolo avançado de autenticação de reconhecimento (CHAP, Challenge Handshake Authentication Protocol). A autenticação será explicada na próxima seção. </li><li><b>Compressão</b> – aumenta a <content-link target="{DC84F902-AFD2-4621-8012-2FE4CAAD976C}" type="glossary">produtividade</content-link> efetiva em conexões PPP, reduzindo a quantidade de dados no quadro que devem percorrer o link. O protocolo descompacta o quadro em seu destino. Os dois protocolos de compressão disponíveis em roteadores Cisco são Stacker e Predictor. </li><li><b>Detecção de erros</b> – identifica condições de falha. As opções Qualidade e Magic Number ajudam a assegurar um enlace de dados confiável, sem loops. O campo Magic Number ajuda a detectar links que estejam em uma condição de loopback. Até que a opção de configuração do magic number seja negociada com êxito, este deve ser transmitido como zero. Os números mágicos (magic numbers) são gerados aleatoriamente ao final de cada conexão.</li><li><b>Vários links</b> – o Cisco <content-link target="{468A278C-61F7-494B-957A-9BA937E56E97}" type="glossary">IOS</content-link> Release 11.1 e posteriores suportam PPP de vários links. Essa alternativa fornece <content-link target="{6486955C-ABEA-42FA-8513-891B95FCF479}" type="glossary">balanceamento de carga</content-link> nas interfaces de roteador utilizadas pelo PPP. O PPP multilink (também conhecido como MP, MPPP, MLP ou multilink) fornece um método para espalhar o tráfego em vários links de WAN físicos ao mesmo tempo em que fornece a <content-link target="{C607DA8B-9DF0-419C-9C91-3B6BBC978DC5}" type="glossary">fragmentação</content-link> e a <content-link target="{66E0F8EE-E07F-4E55-ADA0-60FA9FB295E7}" type="glossary">remontagem</content-link> de pacotes, o seqüenciamento apropriado, a interoperabilidade com vários fornecedores e o balanceamento de carga no tráfego de entrada e de saída. O multilink PPP não é abordado neste curso.</li><li><b>Retorno PPP</b> – para aperfeiçoar a segurança, o Cisco IOS Release 11.1 e posteriores oferecem PPP callback. Com essa opção LCP, um roteador Cisco pode funcionar como um cliente ou um servidor de retorno. O cliente faz a chamada inicial, solicita que o servidor a retorne e encerra sua chamada inicial. O roteador de retorno responde a chamada inicial e faz a chamada de retorno para o cliente com base em suas instruções de configuração. O comando é <span class="cmd"><b>ppp callback</b> [<b>accept</b> | <b>request</b>]</span>.</li></ul></p> <p>Quando as opções são configuradas, um valor de campo correspondente é inserido no campo de opção LCP.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402030200">
<title><content-text>Comandos de configuração PPP</content-text></title>
<page type="OneColumn" id="tl1402030201">
<content-media type="StaticGraphic" id="cm1294560279">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030200/tl1402030201/cm1294560279.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030200/tl1402030201/cm1294560279text.xml"/></content-media>
<content-text><p><b>Comandos de configuração PPP</b></p> <p>Antes de você efetivamente configurar o PPP em uma interface serial, observaremos os comandos e suas sintaxes  conforme mostrado na figura. Esta série de exemplos mostra como configurar o PPP e algumas das opções. </p> <p><b>Exemplo 1: habilitando o PPP em uma interface</b></p> <p>Para definir o PPP como o método de encapsulamento utilizado por uma interface serial ou ISDN, utilize o comando de configuração da interface <span class="cmd"><b>encapsulation ppp</b></span>. </p> <p>O seguinte exemplo habilita o encapsulamento PPP na interface serial 0/0/0: </p> <p><span class="cmd">R3#<b>configure terminal</b> </span></p> <p><span class="cmd">R3(config)#<b>interface serial 0/0/0</b> </span></p> <p><span class="cmd">R3(config-if)#<b>encapsulation ppp</b> </span></p> <p>O comando <span class="cmd"><b>encapsulation ppp</b></span> não tem nenhum argumento, mas você deve primeiro configurar o roteador com um <content-link target="{1266F2E0-C8B0-4A7F-A079-F7D77F0AF291}" type="glossary">protocolo de roteamento</content-link> IP para utilizar o encapsulamento PPP. Você deve se lembrar de que, se não configurar o PPP em um roteador Cisco, o encapsulamento padrão das interfaces seriais é HDLC. </p> <p><b>Exemplo 2: compressão</b></p> <p>Você pode configurar a compressão de software ponto-a-ponto em interfaces seriais depois de habilitar o encapsulamento PPP. Como essa opção requisita um processo de compressão de software, ela pode afetar o desempenho do sistema. Se o tráfego já consistir em arquivos compactados (.zip, .tar ou .mpeg, por exemple), não utilize essa opção. A figura mostra a sintaxe do comando <span class="cmd"><b>compress</b></span>. </p> <p>Para configurar a compressão em PPP, digite os seguintes comandos: </p> <p><span class="cmd">R3(config)#<b>interface serial 0/0/0</b> </span></p> <p><span class="cmd">R3(config-if)#<b>encapsulation ppp</b> </span></p> <p><span class="cmd">R3(config-if)#<b>compress</b> [<b>predictor</b> | <b>stac</b>] </span></p> <p><b>Exemplo 3: monitoramento de qualidade do link</b></p> <p>Lembre-se da nossa discussão das fases LCP e de que ele fornece uma fase de determinação da qualidade do link opcional. Nessa fase, o LCP testa o link para determinar se sua qualidade é suficiente para utilizar protocolos da Camada 3. O comando <span class="cmd"><b>ppp quality </b><i>percentual</i></span> assegura que o link atende ao requisito de qualidade determinado por você; do contrário, o link é fechado.</p> <p>Os percentuais são calculados nos sentidos de entrada e de saída. A qualidade de saída é calculada comparando-se o número total de pacotes e bytes enviados com o número total de pacotes e bytes recebidos pelo nó de destino. A qualidade de entrada é calculada comparando-se o número total de pacotes e bytes recebidos com o número total de pacotes e bytes enviados pelo nó de destino. </p> <p>Se o percentual de qualidade do link não for mantido, o link será considerado de má qualidade, sendo desativado. O Link Quality Monitoring (LQM) implementa um retardo para que o link não fique sendo ativado e desativado.</p> <p>Essa configuração de exemplo monitora os dados ignorados no link e evita o loop de quadros:</p> <p><span class="cmd">R3(config)#<b>interface serial 0/0/0</b></span></p> <p><span class="cmd">R3(config-if)#<b>encapsulation ppp</b></span></p> <p><span class="cmd">R3(config-if)#<b>ppp quality 80</b></span></p> <p>Utilize o comando <span class="cmd"><b>no ppp quality</b></span> para desabilitar LQM.</p> <p><b>Exemplo 4: balanceamento de carga nos links</b></p> <p>O PPP multilink (também conhecido como MP, MPPP, MLP ou Multilink) fornece um método para espalhar o tráfego em vários links de WAN físicos ao mesmo tempo em que fornece a fragmentação e a remontagem de pacotes, o seqüenciamento apropriado, a interoperabilidade com vários fornecedores e o balanceamento de carga no tráfego de entrada e de saída. </p> <p>O MPPP permite que os pacotes sejam fragmentados e envia esses fragmentos simultaneamente em vários links ponto-a-ponto para o mesmo endereço remoto. Os vários links físicos surgem em resposta a um limite de carga definido pelo usuário. O MPPP pode medir a carga quanto ao tráfego de entrada ou de saída, mas não quanto à carga combinada de ambos os tráfegos.</p> <p>Os seguintes comandos realizam o balanceamento de carga em vários links:</p> <p><span class="cmd">Router(config)#<b>interface serial 0/0/0</b> </span></p> <p><span class="cmd">Router(config-if)#<b>encapsulation ppp</b> </span></p> <p><span class="cmd">Router(config-if)#<b>ppp multilink</b></span></p> <p>O comando <span class="cmd"><b>multilink</b></span> não tem nenhum argumento. Para desabilitar vários links PPP, utilize o comando <span class="cmd"><b>no ppp multilink</b></span>. </p></content-text>
</page>
</topic>
<topic type="" id="tl1402030300">
<title><content-text>Verificando uma config. de encapsulamento PPP serial</content-text></title>
<page type="OneColumn" id="tl1402030301">
<content-media type="StaticGraphic" id="cm1155221605">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030300/tl1402030301/cm1155221605.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030300/tl1402030301/cm1155221605text.xml"/></content-media>
<content-text><p><b>Verificando uma configuração de encapsulamento PPP</b></p> <p>Utilize o comando <span class="cmd"><b>show interfaces serial</b></span> para verificar a configuração apropriada do encapsulamento HDLC ou PPP. A saída do comando na figura mostra uma configuração PPP. </p> <p>Quando você configura o HDLC, a saída do comando <span class="cmd"><b>show interfaces serial</b></span> deve mostrar "encapsulation HDLC". Ao configurar o PPP, você pode verificar seus estados LCP e NCP. </p> <p><b>Clique no botão Comandos na figura.</b></p> <p>A figura resume comandos utilizados durante a verificação do PPP. </p></content-text>
</page>
</topic>
<topic type="" id="tl1402030400">
<title><content-text>Identificação e solução de problemas do encapsulamento PPP</content-text></title>
<page type="OneColumn" id="tl1402030401">
<content-media type="StaticGraphic" id="cm7806545332">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030400/tl1402030401/cm7806545332.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030400/tl1402030401/cm7806545332text.xml"/></content-media>
<content-text><p><b>Identificando e solucionando problemas da configuração de encapsulamento serial</b></p> <p>Agora você sabe que o comando <span class="cmd"><b>debug</b></span> é utilizado para solucionar problemas, sendo acessado no modo <content-link target="{A7FAF74F-3D5A-4E16-91A8-7A340D79B558}" type="glossary">exec</content-link> privilegiado da interface da linha de comando. Debug exibe informações sobre várias operações do roteador e o tráfego relacionado gerado ou recebido pelo roteador, bem como qualquer mensagem de erro. Essa é uma ferramenta muito útil e informativa, mas você deve sempre se lembrar de que o Cisco IOS trata a depuração como uma tarefa de alta prioridade. Isso pode consumir um volume significativo de recursos, e o roteador é forçado a processar a comutação dos pacotes depurados . Debug não deve ser utilizado como uma ferramenta de monitoramento – ele foi projetado para ser utilizado por um curto período para solução de problemas. Ao solucionar problemas de uma conexão serial, você utiliza a mesma abordagem utilizada em outras tarefas de configuração.</p> <p>Utilize o comando <span class="cmd"><b>debug ppp</b></span> para exibir informações sobre o funcionamento do PPP. A figura mostra a sintaxe do comando. A forma <span class="cmd"><b>no</b></span> desse comando desabilita a saída do comando de depuração. </p></content-text>
</page>
<page type="OneColumn" id="tl1402030402">
<content-media type="StaticGraphic" id="cm1467192467">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030400/tl1402030402/cm1467192467.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030400/tl1402030402/cm1467192467text.xml"/></content-media>
<content-text><p><b>Saída do comando </b><span class="cmd"><b>debug ppp packet</b></span></p> <p>Um bom comando a ser utilizado durante a solução de problemas do encapsulamento de interface serial é o comando <span class="cmd"><b>debug ppp packet</b></span>. O exemplo na figura é a saída do comando <span class="cmd"><b>debug ppp packet</b></span> conforme visto no lado Link Quality Monitor (LQM) da conexão. Esse exemplo mostra trocas de pacotes segundo o funcionamento do PPP normal. Essa é apenas uma lista parcial, mas suficiente para aprontá-lo para o laboratório prático. </p> <p>Observe cada linha na saída do comando e compare-a com o significado do campo. Utilize o seguinte para orientar sua análise da saída do comando.</p> <p><ul><li>PPP – saída do comando de depuração PPP. </li><li>Serial2 – número de interface associado a essas informações de depuração. </li><li>(o), O – o pacote detectado é um pacote de saída do comando. </li><li>(i), I – o pacote detectado é um pacote de input. </li><li>lcp_slqr() – nome de procedimento; LQM em execução, envio de um Link Quality Report (LQR). </li><li>lcp_rlqr() – nome de procedimento; LQM em execução, recebimento de um LQR. </li><li>input (C021) – roteador recebeu um pacote do tipo de pacote especificado (em <content-link target="{65FDCD2C-4FE9-4ABE-93B9-4C5649541C14}" type="glossary">hexadecimal</content-link>). Um valor de C025 indica o pacote do tipo LQM. </li><li>state = OPEN – estado PPP; o estado normal é OPEN. </li><li>magic = D21B4 – Número mágico do nó indicado; quando não há uma saída do comando indicada, esse é o Número mágico do nó em que a depuração é habilitada. O Número mágico real depende da detecção do pacote conforme a indicação I ou O. </li><li>datagramsize = 52 – tamanho do pacote incluindo cabeçalho. </li><li>code = ECHOREQ(9) – identifica o tipo de pacote recebido nas formas da cadeia de caracteres e hexadecimal. </li><li>len = 48 – tamanho do pacote sem cabeçalho. </li><li>id = 3 – número da ID por formato de pacote Link Control Protocol (LCP). </li><li>pkt type 0xC025 – tipo de pacote em hexadecimal; os tipos de pacote comuns são C025 para LQM e C021 para LCP. </li><li>LCP ECHOREQ (9) – solicitação de eco; valor entre parênteses é a representação hexadecimal do tipo LCP. </li><li>LCP ECHOREP (A) – resposta de eco; valor entre parênteses é a representação hexadecimal do tipo LCP. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1402030403">
<content-media type="StaticGraphic" id="cm3812719146">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030400/tl1402030403/cm3812719146.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030400/tl1402030403/cm3812719146text.xml"/></content-media>
<content-text><p><b>Saída do comando </b><span class="cmd"><b>debug ppp negotiation</b></span></p> <p>A figura mostra a saída do comando <span class="cmd"><b>debug ppp negotiation</b></span> em uma negociação normal, na qual ambos os lados aceitam parâmetros NCP. Nesse caso, o tipo de protocolo IP é proposto e confirmado. Usando a saída do comando uma ou duas linhas por vez:</p> <p>As duas primeiras linhas indicam que o roteador está tentando carregar o LCP e usarão as opções de negociação indicadas (Protocolo de qualidade e Número mágico). Os campos de valor são os valores das próprias opções. Há conversão de C025/3E8 em Quality Protocol LQM. 3E8 é o período de relatório (em centésimos de segundo). 3D56CAC é o valor do Número mágico do roteador. </p> <p><span class="cmd">ppp: sending CONFREQ, type = 4 (CI_QUALITYTYPE), value = C025/3E8</span></p> <p><span class="cmd">ppp: sending CONFREQ, type = 5 (CI_MAGICNUMBER), value = 3D56CAC</span></p> <p>As próximas duas linhas indicam que o outro lado negociou as opções 4 e 5 e que ele solicitou e confirmou ambas. Se a extremidade de resposta não suportar as opções, o nó de resposta enviará um CONFREJ. Se a extremidade de resposta não aceitar o valor da opção, ela enviará um CONFNAK com o campo de valor modificado. </p> <p><span class="cmd">ppp: received config for type = 4 (QUALITYTYPE) acked</span></p> <p><span class="cmd">ppp: received config for type = 5 (MAGICNUMBER) value = 3D567F8 acked (ok)</span></p> <p>As próximas três linhas indicam que o roteador recebeu um CONFACK do lado de resposta e exibem os valores de opção aceitos. Utilize o campo rcvd id para verificar se CONFREQ e CONFACK têm o mesmo campo id. </p> <p><span class="cmd">PPP Serial2: state = ACKSENT fsm_rconfack(C021): rcvd id 5</span></p> <p><span class="cmd">ppp: config ACK received, type = 4 (CI_QUALITYTYPE), value = C025</span></p> <p><span class="cmd">ppp: config ACK received, type = 5 (CI_MAGICNUMBER), value = 3D56CAC</span></p> <p>A próxima linha indica que o roteador tem roteamento IP habilitado nessa interface e que o IPCP NCP foi negociado com êxito.</p> <span class="cmd"><p>ppp: ipcp_reqci: returning CONFACK</p></span> <span class="cmd"><p>(ok)</p></span></content-text>
</page>
<page type="OneColumn" id="tl1402030404">
<content-media type="StaticGraphic" id="cm9142766122">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030400/tl1402030404/cm9142766122.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402030000/tl1402030400/tl1402030404/cm9142766122text.xml"/></content-media>
<content-text><p><b>Saída do comando </b><span class="cmd"><b>debug ppp error</b></span></p> <p>Você pode utilizar o comando <span class="cmd"><b>debug ppp error</b></span> para exibir os erros de protocolo e as estatísticas de erro associadas à negociação e ao funcionamento da conexão PPP. Essas mensagens podem ser exibidas quando a opção Protocolo de qualidade está habilitada em uma interface com o PPP já em execução. A figura mostra um exemplo.</p> <p>Observe cada linha na saída do comando e compare-a com o significado do campo. Utilize o seguinte para orientar sua análise da saída do comando.</p> <p><ul><li>PPP<b> – </b>saída do comando de depuração PPP. </li><li>Serial3(i)<b> – </b>número de interface associada a essas informações de depuração; indica que esse é um pacote de input. </li><li>rlqr receive failure<b> – </b>o destinatário não aceita a solicitação para negociar a opção Protocolo de qualidade. </li><li>myrcvdiffp = 159<b> – </b>número de pacotes recebidos durante o período especificado. </li><li>peerxmitdiffp = 41091<b> – </b>número de pacotes enviados pelo nó remoto nesse período. </li><li>myrcvdiffo = 2183<b> – </b>número de octetos recebidos nesse período. </li><li>peerxmitdiffo = 1714439<b> – </b>número de octetos enviados pelo nó remoto nesse período. </li><li>threshold = 25<b> – </b>percentual de erro máximo aceitável nessa interface. Você calcula esse percentual utilizando o valor limite inserido no comando de configuração da interface <span class="cmd"><b>ppp quality </b><i>percentage</i></span>. Um valor de 100 menos o número é o percentual de erro máximo. Nesse caso, foi inserido um número 75. Isso significa que o roteador local deve manter um percentual sem erros mínimo de 75 por cento ou o link PPP ser fechado. </li><li>OutLQRs = 1<b> – </b>número de seqüência LQR enviado no momento do roteador local. </li><li>LastOutLQRs = 1<b> – </b>último número de seqüência que o lado do nó remoto foi visto no nó local. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1402030405">
<content-media type="ActivityPKA" id="cm1436808920">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402030000/tl1402030400/tl1402030405/cm1436808920/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402030000/tl1402030400/tl1402030405/cm1436808920/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você praticará a alteração do encapsulamento em interfaces seriais. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_3_4.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1402040000">
<title><content-text>Configurando PPP com autenticação</content-text></title>
<topic type="" id="tl1402040100">
<title><content-text>Protocolos de autenticação PPP</content-text></title>
<page type="OneColumn" id="tl1402040101">
<content-media type="StaticGraphic" id="cm3319742818">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040100/tl1402040101/cm3319742818.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040100/tl1402040101/cm3319742818text.xml"/></content-media>
<content-text><p><b>Protocolo de autenticação PAP</b></p> <p>O PPP define um LCP extensível que permite a negociação de um protocolo de autenticação para autenticar seu túnel antes de permitir os protocolos da camada de rede transmitirem pelo link. A <content-link target="{93603A68-0EA7-4F5D-95CB-1492EF70676B}" type="glossary">RFC</content-link> 1334 define dois protocolos para autenticação, conforme mostrado na figura. </p> <p>PAP é um processo bidirecional muito básico. Não há nenhuma criptografia; o nome de usuário e a senha são enviados em texto simples. Se isso for aceito, a conexão será permitida. CHAP é mais seguro que PAP. Ele envolve uma troca tridirecional de um segredo compartilhado. O processo será descrito posteriormente nesta seção. </p> <p>A fase de autenticação de uma sessão PPP é opcional. Se for utilizado, você poderá autenticar o túnel depois que o LCP estabelecer o link e escolher o protocolo de autenticação. Se ele for utilizado, a autenticação ocorrerá antes da configuração do protocolo da camada de rede. </p> <p>As opções de autenticação exigem que o lado da chamada do link insira informações de autenticação. Isso ajuda a assegurar que o usuário tenha a permissão do administrador de rede para fazer a chamada. Os roteadores de mesmo nível trocam mensagens de autenticação. </p></content-text>
</page>
</topic>
<topic type="" id="tl1402040200">
<title><content-text>Protocolo de autenticação de senha (PAP)</content-text></title>
<page type="OneColumn" id="tl1402040201">
<content-media type="InteractiveGraphicHotspots" id="cm1574771413">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040200/tl1402040201/cm1574771413.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040200/tl1402040201/cm1574771413text.xml"/></content-media>
<content-text><p>Um dos muitos recursos do PPP é que ele realiza a autenticação da Camada 2, além das demais camadas de autenticação, criptografia, controle de acesso e procedimentos de segurança geral.</p> <p><b>Iniciando PAP</b></p> <p>O PAP fornece um único método para um nó remoto a fim de estabelecer sua identidade utilizando um handshake bidirecional. PAP não é interativo. Quando o comando <span class="cmd"><b>ppp authentication pap</b></span> é utilizado, o nome de usuário e a senha são enviados como um pacote de dados LCP, em vez do servidor enviar um prompt de login e aguardar uma resposta. A figura mostra que o PPP conclui a fase de estabelecimento do link, o nó remoto envia repetidamente um par nome de usuário/senha pelo link até que o nó de envio confirme ou encerre a conexão.</p> <p><b>Clique no botão Concluindo PAP na figura.</b></p> <p>No nó de recebimento, o nome de usuário/senha é verificado por um servidor de autenticação que permite ou nega a conexão. Uma mensagem de aceitação ou de rejeição retorna ao solicitante.</p> <p>PAP não é um protocolo de autenticação forte. Utilizando PAP, você envia senhas pelo link em texto sem formatação, não havendo nenhuma proteção contra reprodução ou ataques de tentativa e erro repetidos. O nó remoto está no controle da freqüência e do timing das tentativas de login.</p> <p>No entanto, há momentos em que a utilização do PAP pode se justificar. Por exemplo, apesar de suas deficiências, o PAP pode ser utilizado nos seguintes ambientes:</p> <p><ul><li>Uma grande base instalada de aplicativos clientes não compatíveis com CHAP</li><li>Incompatibilidades entre implementações de fornecedores diferentes do CHAP</li><li>Situações em que uma senha em texto simples deve ser disponibilizada para simular um login no host remoto</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1402040300">
<title><content-text>Protocolo avançado de autenticação de reconhecimento (CHAP)</content-text></title>
<page type="OneColumn" id="tl1402040301">
<content-media type="InteractiveGraphicHotspots" id="cm7024760921">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040300/tl1402040301/cm7024760921.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040300/tl1402040301/cm7024760921text.xml"/></content-media>
<content-text><p><b>Protocolo avançado de autenticação de reconhecimento (CHAP)</b></p> <p>Depois que a autenticação é estabelecida com PAP, ela basicamente pára de funcionar. Isso deixa a rede vulnerável a ataques. Diferentemente do PAP, que só autentica uma vez, o CHAP realiza desafios periódicos para verificar se o nó remoto ainda tem um valor de senha válido. </p> <p>Depois que a fase de estabelecimento do link PPP é concluída, o roteador local envia uma mensagem de desafio para o nó remoto. </p> <p><b>Clique no botão Respondendo CHAP na figura.</b></p> <p>O nó remoto responde com um valor calculado utilizando uma função de hash unidirecional, que normalmente é Message Digest 5 (<content-link target="{0525C058-FD1E-4372-9E02-5E084A6F8A47}" type="glossary">MD5</content-link>) com base na senha e na mensagem de desafio. </p> <p><b>Clique no botão Concluindo CHAP na figura.</b></p> <p>O roteador local verifica a resposta em relação ao seu próprio cálculo do valor de hash esperado. Se os valores forem correspondentes, o nó inicial confirmará a autenticação. Do contrário, ele encerra a conexão imediatamente.</p> <p>O CHAP fornece proteção contra ataque de reprodução, utilizando um valor de desafio variável exclusivo e imprevisível. Como o desafio é exclusivo e aleatório, o valor de hash resultante também é exclusivo e aleatório. A utilização de desafios repetidos limita o tempo de exposição a qualquer ataque. O roteador local ou um servidor de autenticação de terceiros está no controle da freqüência e do timing dos desafios.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402040400">
<title><content-text>Encapsulamento PPP e processo de autenticação</content-text></title>
<page type="OneColumn" id="tl1402040401">
<content-media type="StaticGraphic" id="cm4246226456">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040400/tl1402040401/cm4246226456.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040400/tl1402040401/cm4246226456text.xml"/></content-media>
<content-text><p><b>Encapsulamento PPP e processo de autenticação</b></p> <p>Você pode utilizar um fluxograma para ajudar a compreender o processo de autenticação PPP durante a configuração do PPP. O fluxograma fornece um exemplo visual das decisões lógicas tomadas pelo PPP. </p> <p>Por exemplo, se uma solicitação PPP de entrada não exigir nenhuma autenticação, o PPP avançará ao próximo nível. Se uma solicitação PPP de entrada exigir autenticação, ela poderá ser autenticada utilizando-se o banco de dados local ou um servidor de segurança. Conforme ilustrado no fluxograma, a autenticação bem-sucedida avança ao próximo nível, enquanto uma falha na autenticação irá desconectar e descartar a solicitação PPP de entrada.</p> <p><b>Clique no botão Exemplo de CHAP e clique no botão de execução </b>para obter um exemplo animado.</p> <p>Siga as etapas conforme a animação avança. O roteador R1 deseja estabelecer uma conexão PPP CHAP autenticada com o roteador R2.</p> <p><b>Etapa 1.</b> R1 negocia inicialmente a conexão de link utilizando LCP com o roteador R2 e os dois sistemas concordam em utilizar a autenticação CHAP durante a negociação PPP LCP. </p> <p><b>Etapa 2.</b> O roteador R2 gera uma ID e um número aleatório, além de enviá-lo mais seu nome de usuário como um pacote de desafio CHAP para R1. </p> <p><b>Etapa 3.</b> R1 irá utilizar o nome de usuário do desafiante (R2) e compará-lo com seu banco de dados local para localizar a senha associada. Dessa forma, R1 irá gerar um número de hash MD5 exclusivo utilizando o nome de usuário de R2, a ID, o número aleatório e a senha secreta compartilhada. </p> <p><b>Etapa 4.</b> Em seguida, o roteador R1 envia a ID de desafio, o valor de hash e seu nome de usuário (R1) para R2.</p> <p><b>Etapa 5.</b> R2 gera seu próprio valor de hash utilizando a ID, a senha secreta compartilhada e o número aleatório enviados originalmente para R1. </p> <p><b>Etapa 6.</b> R2 compara seu valor de hash com o valor de hash enviado por R1. Se os valores forem os mesmos, R2 enviará um link estabelecendo resposta com R1.</p> <p>Se houver falha na autenticação, um pacote de falhas CHAP será criado a partir dos seguintes componentes:</p> <p><ul><li>04 = tipo de mensagem de falha CHAP</li><li>id = copiada do pacote de respostas</li><li>"Authentication failure" ou alguma mensagem de texto assim, que deve ser uma explicação legível pelo usuário</li></ul></p> <p>Observe que a senha secreta compartilhada deve ser idêntica em R1 e R2.</p> <p> </p></content-text>
</page>
</topic>
<topic type="" id="tl1402040500">
<title><content-text>Configurando PPP com autenticação</content-text></title>
<page type="OneColumn" id="tl1402040501">
<content-media type="StaticGraphic" id="cm1489521075">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040500/tl1402040501/cm1489521075.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040500/tl1402040501/cm1489521075text.xml"/></content-media>
<content-text><p><b>O comando </b><span class="cmd"><b>ppp authentication</b></span></p> <p>Para especificar a ordem na qual os protocolos CHAP ou PAP são solicitados na interface, utilize o comando de configuração da interface <span class="cmd"><b>ppp authentication</b></span>, conforme mostrado na figura. Utilize a forma <span class="cmd"><b>no</b></span> do comando para desabilitar essa autenticação. </p> <p>Depois que você habilitar a autenticação CHAP ou PAP, ou ambas, o roteador local exigirá ao dispositivo remoto provar sua identidade antes de permitir o fluxo do tráfego de dados. Isso é feito da seguinte forma:</p> <p><ul><li>A autenticação PAP exige que o dispositivo remoto envie um nome e uma senha a serem verificados em comparação com uma entrada correspondente no banco de dados de nome de usuário local ou no banco de dados <content-link target="{5AA06912-471A-453C-934A-3E5B4E13F4FF}" type="glossary">TACACS</content-link>/<content-link target="{9F0773FC-830F-462E-BB21-31E546472956}" type="glossary">TACACS+</content-link> remoto. </li><li>A autenticação CHAP envia um desafio para o dispositivo remoto. O dispositivo remoto deve criptografar o valor de desafio com uma senha secreta e retornar o valor criptografado e seu nome para o roteador local em uma mensagem de resposta. O roteador local utiliza o nome do dispositivo remoto para procurar o segredo apropriado no nome de usuário local ou no banco de dados TACACS/TACACS+. Ele utiliza o segredo pesquisado para criptografar o desafio original e verificar se os valores criptografados correspondem.</li></ul></p> <p><b>Nota:</b> AAA/TACACS é um servidor dedicado utilizado para autenticar usuários. AAA significa "autenticação, autorização e auditoria". Os clientes TACACS enviam uma consulta a um servidor de autenticação TACACS. O servidor pode autenticar o usuário, autorizar o que o usuário pode fazer e controlar o que ele fez.</p> <p>Você pode habilitar PAP ou CHAP ou ambos. Se ambos os métodos forem habilitados, o primeiro método especificado será solicitado durante a negociação do link. Se o túnel sugerir a utilização do segundo método ou apenas recusar o primeiro, o segundo será testado. Alguns dispositivos remotos suportam apenas CHAP e outros, apenas PAP. A ordem na qual você especifica os métodos se baseia nas suas preocupações sobre a possibilidade do dispositivo remoto negociar corretamente o método apropriado, bem como na sua preocupação sobre a segurança da linha de dados. Os nomes de usuário e senhas PAP são enviados como cadeias de caracteres em texto sem formatação, podendo ser interceptados e reutilizados. O CHAP eliminou a maioria das falhas de segurança conhecidas. </p></content-text>
</page>
<page type="OneColumn" id="tl1402040502">
<content-media type="InteractiveGraphicHotspots" id="cm5015788953">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040500/tl1402040502/cm5015788953.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040500/tl1402040502/cm5015788953text.xml"/></content-media>
<content-text><p><b>Configurando a autenticação PPP</b></p> <p>O procedimento descrito no gráfico descreve como configurar o encapsulamento PPP e os protocolos de autenticação PAP/CHAP. A configuração correta é essencial, porque PAP e CHAP utilizam esses parâmetros na autenticação. </p> <p><b>Clique no botão Exemplo de PAP na figura.</b></p> <p>A figura é um exemplo de uma configuração de autenticação PAP bidirecional. Como ambos os roteadores autenticam e são autenticados, os comandos de autenticação PAP são espelhados. O nome de usuário e a senha PAP enviados pelo roteador devem corresponder aos especificados com o comando <span class="cmd"><b>username </b><i>name</i><b> password </b><i>password</i></span> do outro roteador.</p> <p>O PAP fornece um único método para um nó remoto a fim de estabelecer sua identidade utilizando um handshake bidirecional. Isso só é feito no estabelecimento do link inicial. O nome de host em um roteador deve corresponder ao nome de usuário configurado pelo outro roteador. As senhas não precisam ser correspondentes. </p> <p><b>Clique no botão Exemplo de CHAP na figura.</b></p> <p>CHAP verifica periodicamente a identidade do nó remoto utilizando um handshake triplo. O nome de host em um roteador deve corresponder ao nome de usuário configurado pelo outro roteador. As senhas também devem ser correspondentes. Isso ocorre no estabelecimento do link inicial, podendo ser repetido a qualquer momento após esse estabelecimento. A figura é um exemplo de uma configuração CHAP.</p></content-text>
</page>
</topic>
<topic type="" id="tl1402040600">
<title><content-text>Identificação e solução de problemas de uma configuração PPP com autenticação</content-text></title>
<page type="OneColumn" id="tl1402040601">
<content-media type="StaticGraphic" id="cm4473338048">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040600/tl1402040601/cm4473338048.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402040000/tl1402040600/tl1402040601/cm4473338048text.xml"/></content-media>
<content-text><p><b>Identificação e solução de problemas de uma configuração PPP com autenticação</b></p> <p>Autenticação é um recurso que precisa ser implementado corretamente, ou a segurança da sua conexão serial pode ficar comprometida. Sempre verifique a sua configuração com o comando <span class="cmd"><b>show interfaces serial</b></span>, da mesma forma que você fez sem autenticação.</p> <p>Jamais suponha que a configuração da sua autenticação esteja funcionando sem testá-la. A depuração permite confirmar a sua configuração e corrigir todas as deficiências. O comando para depurar a autenticação PPP é <span class="cmd"><b>debug ppp authentication</b></span>.</p> <p>A figura mostra uma saída do comando de exemplo do comando <span class="cmd"><b>debug ppp authentication</b></span>. Esta é uma interpretação da saída do comando:</p> <p>A linha 1 informa que o roteador não consegue se autenticar na interface Serial0 porque o túnel não enviou um nome.</p> <p>A linha 2 informa que o roteador não pôde validar a resposta CHAP porque USERNAME 'pioneer' não foi encontrado. </p> <p>A linha 3 informa que não foi encontrada nenhuma senha para 'pioneer'. Outras respostas possíveis nessa linha, talvez não tenha recebido nenhum nome para autenticar, nome desconhecido, nenhum segredo para o nome indicado, uma resposta MD5 foi recebida ou haja falha na comparação com MD5. </p> <p>Na última linha, o código = 4 significa que houve uma falha. Outros valores de código são os seguintes:</p> <p><ul><li>1 = Desafio </li><li>2 = Resposta </li><li>3 = Êxito </li><li>4 = Falha</li></ul></p> <p>id = 3 é o número da ID por formato de pacote LCP. </p> <p>len = 48 é o tamanho do pacote sem o cabeçalho.</p></content-text>
</page>
<page type="OneColumn" id="tl1402040602">
<content-media type="ActivityPKA" id="cm8140473355">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402040000/tl1402040600/tl1402040602/cm8140473355/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402040000/tl1402040600/tl1402040602/cm8140473355/icontext.xml"/></content-media>
<content-text><p>O encapsulamento PPP permite dois tipos diferentes de autenticação: PAP (Protocolo de autenticação de senha) e CHAP (Protocolo avançado de autenticação de reconhecimento). PAP utiliza uma senha em texto simples, e CHAP invoca um hash unidirecional que fornece mais segurança que PAP. Nesta atividade, você irá configurar PAP e CHAP e analisar a configuração de roteamento OSPF. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_4_6.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1402050000">
<title><content-text>Laboratórios do capítulo</content-text></title>
<topic type="" id="tl1402050100">
<title><content-text>Configuração PPP básica</content-text></title>
<page type="OneColumn" id="tl1402050101">
<content-media type="ActivityLab" id="cm7537016739">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402050000/tl1402050100/tl1402050101/cm7537016739/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402050000/tl1402050100/tl1402050101/cm7537016739/icontext.xml"/></content-media>
<content-text><p>Neste laboratório, você irá aprender a configurar o encapsulamento PPP em links seriais usando a rede mostrada no diagrama de topologia. Você também aprenderá a restaurar links seriais aos seus encapsulamentos de HDLC padrão. Preste atenção especial na saída do roteador quando você divide intencionalmente o encapsulamento PPP. Isso o ajudará no laboratório de solução de problemas associado a este capítulo. Por fim, você irá configurar as autenticações PPP PAP e PPP CHAP. </p></content-text>
</page>
<page type="OneColumn" id="tl1402050102">
<content-media type="ActivityPKA" id="cm3049384449">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402050000/tl1402050100/tl1402050102/cm3049384449/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402050000/tl1402050100/tl1402050102/cm3049384449/icontext.xml"/></content-media>
<content-text><p>Esta atividade é uma variação do Laboratório 2.5.1. O Packet Tracer pode não suportar todas as tarefas especificadas no laboratório prático. Esta atividade não deve ser considerada equivalente à conclusão do laboratório prático. O Packet Tracer não substitui um experimento em laboratório prático com equipamento real.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_5_1.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do rastreador de pacote para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1402050200">
<title><content-text>Configuração avançada PPP</content-text></title>
<page type="OneColumn" id="tl1402050201">
<content-media type="ActivityLab" id="cm9321074059">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402050000/tl1402050200/tl1402050201/cm9321074059/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402050000/tl1402050200/tl1402050201/cm9321074059/icontext.xml"/></content-media>
<content-text><p>Neste laboratório, você irá aprender a configurar o encapsulamento PPP em links seriais usando a rede mostrada no diagrama de topologia. Você também configurará a autenticação PPP CHAP. Se você precisar de assistência, consulte o laboratório de configuração PPP básico, mas tente fazer isso por conta própria. </p></content-text>
</page>
<page type="OneColumn" id="tl1402050202">
<content-media type="ActivityPKA" id="cm8783953096">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402050000/tl1402050200/tl1402050202/cm8783953096/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402050000/tl1402050200/tl1402050202/cm8783953096/icontext.xml"/></content-media>
<content-text><p>Esta atividade é uma variação do Laboratório 2.5.2. O Packet Tracer pode não suportar todas as tarefas especificadas no laboratório prático. Esta atividade não deve ser considerada equivalente à conclusão do laboratório prático. O Packet Tracer não substitui um experimento em laboratório prático com equipamento real.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_5_2.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do rastreador de pacote para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1402050300">
<title><content-text>Identificação e solução de problemas de configuração PPP</content-text></title>
<page type="OneColumn" id="tl1402050301">
<content-media type="ActivityLab" id="cm5971226497">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402050000/tl1402050300/tl1402050301/cm5971226497/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402050000/tl1402050300/tl1402050301/cm5971226497/icontext.xml"/></content-media>
<content-text><p>Os roteadores da sua empresa foram configurados por um engenheiro de rede sem experiência. Vários erros na configuração resultaram em problemas de conectividade. Seu chefe lhe pediu para solucionar problemas, corrigir os erros de configuração e documentar seu trabalho. Com seus conhecimentos de PPP e métodos de teste padrão, identifique e corrija os erros. Certifique-se de que todos os links seriais usem autenticação PPP CHAP e de que todas as redes sejam alcançáveis.</p></content-text>
</page>
<page type="OneColumn" id="tl1402050302">
<content-media type="ActivityPKA" id="cm3350883555">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402050000/tl1402050300/tl1402050302/cm3350883555/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402050000/tl1402050300/tl1402050302/cm3350883555/icontext.xml"/></content-media>
<content-text><p>Esta atividade é uma variação do Laboratório 2.5.3. O Packet Tracer pode não suportar todas as tarefas especificadas no laboratório prático. Esta atividade não deve ser considerada equivalente à conclusão do laboratório prático. O Packet Tracer não substitui um experimento em laboratório prático com equipamento real.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_5_3.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do rastreador de pacote para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1402060000">
<title><content-text>Resumo do capítulo</content-text></title>
<topic type="" id="tl1402060100">
<title><content-text>Resumo do capítulo</content-text></title>
<page type="OneColumn" id="tl1402060101">
<content-media type="ChapterSummary" id="cm7070076963">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402060000/tl1402060100/tl1402060101/cm7070076963.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402060000/tl1402060100/tl1402060101/cm7070076963text.xml"/></content-media>
<content-text><p>Ao concluir este capítulo, você pode descrever em termos práticos e conceituais por que a comunicação ponto-a-ponto serial é utilizada para conectar a sua rede local à WAN da sua operadora, e não utilizar a conexão paralela que pode parecer muito mais rápida. Você pode explicar como a multiplexação permite uma comunicação eficiente e maximiza a quantidade de dados que podem ser transmitidos por um link de comunicação. Você aprendeu as funções dos componentes e dos protocolos principais da comunicação serial, além de configurar uma interface serial com encapsulamento HDLC em um roteador Cisco.</p>  <p>Isso proporcionou uma ampla base para um PPP, inclusive seus recursos, componentes e arquiteturas. Você pode explicar como uma sessão PPP é estabelecida utilizando as funções do LCP e dos NCPs. Você aprendeu a sintaxe dos comandos de configuração e a utilização de várias opções obrigatórias para configurar uma conexão PPP, bem como utilizar PAP ou CHAP para assegurar uma conexão segura. As etapas obrigatórias para verificação e solução de problemas foram descritas. Agora você está pronto para confirmar o seu conhecimento no laboratório no qual irá configurar o seu roteador para utilizar o PPP na conexão com uma WAN.</p></content-text>
</page>
<page type="FullScreen" id="tl1402060102">
<content-media type="StaticGraphic" id="cm8931875725">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402060000/tl1402060100/tl1402060102/cm8931875725.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1402000000/tl1402060000/tl1402060100/tl1402060102/cm8931875725text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl1402060103">
<content-media type="ActivityPKA" id="cm4576182195">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402060000/tl1402060100/tl1402060103/cm4576182195/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1402000000/tl1402060000/tl1402060100/tl1402060103/cm4576182195/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você irá projetar um esquema de endereçamento, configurar o roteamento e as VLANs, além de configurar o PPP com CHAP. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_2_6_1.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1402070000">
<title><content-text>Teste do capítulo</content-text></title>
<topic type="" id="tl1402070100">
<title><content-text>Teste do capítulo</content-text></title>
<page type="FullScreen" id="tl1402070101">
<content-media type="ChapterQuiz" id="cm4648493454">	<title><content-text></content-text></title>	<media ref="tl1402000000/tl1402070000/tl1402070100/tl1402070101/cm4648493454/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1402000000/tl1402070000/tl1402070100/tl1402070101/cm4648493454/icontext.xml"/></content-media>
<content-text><p><b>Teste do capítulo</b></p></content-text>
</page>
</topic>
</section>
</chapter>
