<chapter type="" id="tl1404000000">
<title><content-text>Segurança de rede</content-text></title>
<section type="ChapterIntroduction" id="tl1404000000">
<title><content-text>Introdução do capítulo</content-text></title>
<topic type="" id="tl1404000100">
<title><content-text>Introdução do capítulo</content-text></title>
<page type="OneColumn" id="tl1404000101">
<content-media type="StaticGraphic" id="cm8213708816">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404000000/tl1404000100/tl1404000101/cm8213708816.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404000000/tl1404000100/tl1404000101/cm8213708816text.xml"/></content-media>
<content-text><p>A segurança foi colocada à frente do <content-link target="{87A658F6-A903-42E4-A602-6FD161885153}" type="glossary">gerenciamento de rede</content-link> e da implementação. O desafio geral da segurança é encontrar um equilíbrio entre dois requisitos importantes: a necessidade de abrir redes para dar suporte a cada vez mais oportunidades de negócios e a necessidade de proteger informações privadas, pessoais e comerciais estratégicas. </p>  <p>A aplicação de uma política de segurança efetiva é o passo mais importante que uma organização pode dar para proteger sua rede. Ela fornece diretrizes sobre as atividades a serem realizadas e os recursos utilizados para proteger a rede de uma organização. </p>  <p>A segurança da Camada 2 não é abordada neste capítulo. Para obter informações sobre as medidas de segurança da Camada 2, consulte o curso CCNA Exploration: Comutação de rede local e rede sem fio.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1404010000">
<title><content-text>Introdução à segurança de rede</content-text></title>
<topic type="" id="tl1404010100">
<title><content-text>Por que a segurança de rede é importante?</content-text></title>
<page type="OneColumn" id="tl1404010101">
<content-media type="StaticGraphic" id="cm3390400684">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010100/tl1404010101/cm3390400684.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010100/tl1404010101/cm3390400684text.xml"/></content-media>
<content-text><p><b>Por que a segurança de rede é importante?</b></p> <p>As redes de computadores cresceram em tamanho e importância muito rapidamente. Se a segurança da rede for comprometida, talvez haja consequências sérias, como a perda de privacidade, o roubo de informações e até mesmo a responsabilização legal. Para tornar a situação ainda mais desafiadora, os tipos de ameaças em potencial à segurança de rede estão sempre evoluindo.</p> <p>Na medida em que o comércio eletrônico e os aplicativos da Internet continuam crescendo, encontrar o equilíbrio entre o isolamento e a abertura é essencial. Além disso, o crescimento do comércio móvel e das redes sem fio exige que as soluções em segurança sejam totalmente integradas, mais transparentes e flexíveis.</p> <p>Neste capítulo, você fará um tour por todo o mundo da segurança de rede. Você obterá informações sobre tipos diferentes de ameaças, sobre o desenvolvimento de políticas de segurança organizacionais, as técnicas de atenuação e as ferramentas do software IOS Cisco para ajudar na proteção de redes. O capítulo termina com uma análise do gerenciamento de imagens do software IOS Cisco. Embora aparentemente esse não seja um problema de segurança, as imagens e as configurações do software IOS Cisco podem ser excluídas. Dispositivos comprometidos dessa forma oferecem riscos à segurança. </p></content-text>
</page>
<page type="OneColumn" id="tl1404010102">
<content-media type="AnimationPartialScreen" id="cm6190139418">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010100/tl1404010102/cm6190139418.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010100/tl1404010102/cm6190139418text.xml"/></content-media>
<content-text><p><b>A crescente ameaça à segurança</b></p> <p>Com o passar dos anos, as ferramentas e os métodos de ataque à rede evoluíram. Conforme mostrado na figura, em 1985 um atacante precisava contar com computador, programação e conhecimento de rede sofisticados para utilizar ferramentas rudimentares e ataques básicos. Com o passar do tempo, os métodos e as ferramentas dos atacantesatacantes melhoraram, e eles já não precisavam do mesmo nível sofisticado de conhecimento. Isso reduziu efetivamente os requisitos iniciais para os atacantes. Pessoas que antes não participariam de crimes digitais agora podem fazer isso.</p> <p>Como os tipos de ameaças, ataques e explorações evoluíram, vários termos foram criados para descrever os indivíduos envolvidos. Alguns dos termos mais comuns são os seguintes:</p> <p><ul><li><b>White hat</b>– um indivíduo que procura vulnerabilidades em sistemas ou redes e, em seguida, informa essas vulnerabilidade aos proprietários do sistema para que que elas possam ser corrigidas. Eles são totalmente contrários à violação de sistemas de computadores. Um white hat normalmente se concentra na proteção de sistemas de TI, enquanto um black hat (o oposto) gostaria de invadi-los.</li><li><b>Hacker</b> – termo geral historicamente utilizado para descrever um especialista em programação de computador. Mais recentemente, esse termo passou a ser mais utilizado de modo negativo para descrever um indivíduo que tenta obter acesso não autorizado a recursos de rede com má intenção. </li><li><b>Black hat</b> – outro termo para indivíduos que utilizam seu conhecimento de sistemas de computadores para invadir sistemas ou redes para os quais não têm autorização, normalmente tendo em vista ganhos pessoais ou financeiros. Cracker é um exemplo de black hat.</li><li><b>Cracker</b> – termo mais preciso para descrever alguém que tenta obter acesso não autorizado a recursos de rede com má intenção. </li><li><b>Phreaker</b> – indivíduo que manipula a rede telefônica para que ela execute uma função não permitida. Uma meta comum do phreaking é invadir a rede telefônica, normalmente por meio de um telefone público, fazer chamadas de longa distância gratuitamente. </li><li><b>Spammer</b> – indivíduo que envia grandes quantidades de mensagens de email não solicitadas. Os spammers normalmente utilizam vírus para assumir o controle de computadores domésticos e os utilizam para enviar mensagens em massa. </li><li><b>Phisher</b> – utiliza email ou outros meios para levar outras pessoas a fornecer informações confidenciais, como números de cartão de crédito ou senhas. Um phisher se mascara como uma parte confiável que teria uma necessidade legítima pelas informações confidenciais. </li></ul></p> <p><b>Pense como um atacante</b></p> <p>A meta do atacanteatacante é comprometer uma rede-alvo ou um <content-link target="{274C0C4C-530F-4053-B262-7AA8FB6EAB3F}" type="glossary">aplicativo</content-link> em execução em uma rede. Muitos atacantes utilizam esse processo em sete etapas para obter informações e realizar um ataque.</p> <p><b>Etapa 1.</b> Executar a análise de presença (reconhecimento). A página Web de uma empresa pode levar a informações, como os endereços IP de servidores. Com eles, um atacante pode criar uma imagem do perfil de segurança ou do "mapa" da empresa.</p> <p><b>Etapa 2.</b> Enumerar informações. Um atacante pode expandir o mapa, monitorando o tráfego da rede com um sniffer de pacotes, como o Wireshark, que acaba localizando informações como os números de versão dos servidores FTP e dos servidores de email. Uma referência cruzada com bancos de dados de vulnerabilidades expõe os aplicativos da empresa a explorações em potencial.</p> <p><b>Etapa 3.</b> Manipular usuários para obter acesso. Às vezes, os funcionários escolhem senhas que são facilmente descobertas. Em outros casos, os funcionários podem ser induzidos por atacantes talentosos a fornecer informações confidenciais relacionadas ao acesso.</p> <p><b>Etapa 4.</b> Escalonar privilégios. Depois de obter acesso básico, os atacantes utilizam suas habilidades para aumentar seus privilégios de rede.</p> <p><b>Etapa 5.</b> Obter senhas e segredos adicionais. Com maiores privilégios de acesso, os atacantes utilizam seus talentos para obter acesso a informações confidenciais, mais bem guardadas.</p> <p><b>Etapa 6.</b> Instalar backdoors. Os backdoors proporcionam ao atacante uma forma de entrar no sistema sem ser detectado. O backdoor mais comum é uma porta de escuta TCP ou <content-link target="{05BF28E6-1E74-45FE-8916-607BCB06AF12}" type="glossary">UDP</content-link> aberta.</p> <p><b>Etapa 7.</b> Otimizar o sistema comprometido. Depois que um sistema é comprometido, um atacante o utiliza para preparar ataques a outros hosts na rede.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010103">
<content-media type="StaticGraphic" id="cm3749710852">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010100/tl1404010103/cm3749710852.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010100/tl1404010103/cm3749710852text.xml"/></content-media>
<content-text><p><b>Tipos de crimes digitais</b></p> <p>Como as medidas de segurança melhoraram com o passar dos anos, a frequência de alguns dos tipos mais comuns de ataques diminuiu, embora novos tenham surgido. A concepção de soluções em segurança de rede começa com uma avaliação do escopo completo do crime digital. Estas são as ações mais comuns de crimes digitais relatados que têm implicações na segurança de rede:</p> <p><ul><li>Violação interna ao acesso da rede</li><li>Vírus</li><li>Roubo de dispositivo móvel</li><li>Phishing no qual uma organização é representada de maneira fraudulenta como o remetente</li><li>Uso indevido de mensagens instantâneas</li><li>Negação de serviço</li><li>Acesso não autorizado a informações</li><li><content-link target="{06A6182B-0D73-49BE-A095-BD8DC56B0101}" type="glossary">Bots</content-link> dentro da organização</li><li>Roubo de dados do cliente ou do funcionário</li><li>Violação da rede sem fio</li><li>Invasão ao sistema</li><li>Fraude financeira</li><li>Detecção de senha</li><li>Key logging</li><li>Desfiguração de site</li><li>Uso indevido de um aplicativo público da Web</li><li>Roubo de informações proprietárias</li><li>Exploração do servidor <content-link target="{D04B4192-6987-4644-99F0-C56ACDC19641}" type="glossary">DNS</content-link> de uma organização</li><li>Fraude em telecomunicação</li><li>Sabotagem</li></ul></p> <p><b>Nota:</b> em determinados países, algumas dessas atividades talvez não sejam crime, mas, ainda assim, constituem um problema. </p></content-text>
</page>
<page type="OneColumn" id="tl1404010104">
<content-media type="AnimationPartialScreen" id="cm4956572386">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010100/tl1404010104/cm4956572386.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010100/tl1404010104/cm4956572386text.xml"/></content-media>
<content-text><p><b>Redes abertas x fechadas</b></p> <p>O desafio geral da segurança para administradores de rede é equilibrar duas necessidades importantes: manter redes abertas para dar suporte a cada vez mais requisitos de negócios e proteger informações privadas, pessoais e comerciais estratégicas.</p> <p>Os modelos de segurança de rede seguem uma escala progressiva da permissão a qualquer serviço, a menos que ele seja expressamente negado, até a negação, por padrão, de serviços, a menos que eles sejam considerados necessários. No caso da rede aberta, os riscos à segurança são evidentes. No caso da rede fechada, as regras para o que é permitido são definidas na forma de uma política por um indivíduo ou grupo na organização. </p> <p>Uma alteração feita na política de acesso pode ser tão simples quanto pedir a um administrador de rede que habilite um serviço. Dependendo da empresa, para que o administrador tenha permissão para habilitar o serviço, uma alteração pode exigir uma emenda à política de segurança corporativa. Por exemplo, uma política de segurança pode desaprovar o uso dos serviços de mensagens instantâneas (IM), mas a demanda por parte dos funcionários pode levar a empresa a alterar a política.</p> <p>Uma alternativa extrema para o gerenciamento da segurança é fechar totalmente uma rede ao mundo externo. Uma rede fechada só fornece conectividade a partes e sites reconhecidamente confiáveis. Uma rede fechada não permite uma conexão a redes públicas. Como não há nenhuma conectividade externa, as redes projetadas dessa forma são consideradas protegidas de ataques externos. No entanto, ainda existem ameaças internas. Uma rede fechada faz pouco para impedir ataques de dentro da empresa.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010105">
<content-media type="AnimationPartialScreen" id="cm9060323180">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010100/tl1404010105/cm9060323180.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010100/tl1404010105/cm9060323180text.xml"/></content-media>
<content-text><p><b>Desenvolvendo uma política de segurança</b></p> <p>O primeiro passo que qualquer organização deve dar para proteger seus dados e ela própria de uma responsabilização é desenvolver uma política de segurança. Política é um conjunto de princípios que orientam processos de tomada de decisões e permitem aos líderes de uma organização delegar autoridade com confiança. A RFC2196 afirma que "política de segurança é uma declaração formal das regras que as pessoas que recebem acesso à tecnologia e aos ativos de informações de uma organização devem seguir". Uma política de segurança pode ser tão simples quanto uma política de uso aceitável resumida para recursos de rede, ou pode ter várias centenas de páginas e detalhar todos os elementos de conectividade e as políticas associadas.</p> <p>Uma política de segurança atinge estas metas:</p> <p><ul><li>Informa usuários, equipe e gerentes de seus requisitos obrigatórios para proteger a tecnologia e os ativos de informações</li><li>Especifica os mecanismos por meio dos quais esses requisitos podem ser atendidos</li><li>Fornece uma linha de base para adquirir, configurar e auditar sistemas de computadores e redes em conformidade com a política </li></ul></p> <p>A organização de uma política de segurança poderá ser um desafio, se realizada sem orientação. Por isso, a Organização Internacional para Padronização (ISO) e a Comissão de eletrotécnica internacional (<content-link target="{A4BB164A-BFD0-49A2-AA02-C4DC06D20E18}" type="glossary">IEC</content-link>) publicaram um documento padrão sobre a segurança chamado ISO/IEC 27002. Esse documento se refere especificamente à tecnologia da informação e descreve um código de conduta para o gerenciamento de segurança das informações. </p> <p>O ISO/IEC 27002 deve ser uma base comum e uma diretriz prática para o desenvolvimento de padrões de segurança organizacionais e de práticas efetivas para o gerenciamento da segurança. O documento consiste em 12 seções:</p> <p><ul><li>Avaliação de risco </li><li>Política de segurança </li><li>Organização da segurança das informações </li><li>Gerenciamento de ativos </li><li>Segurança de recursos humanos </li><li>Segurança física e ambiental </li><li>Gerenciamento da comunicação e das operações </li><li>Controle de acesso </li><li>Aquisição, desenvolvimento e manutenção dos sistemas de informações </li><li>Gerenciamento de incidentes de segurança das informações </li><li>Gerenciamento da continuidade dos negócios </li><li>Conformidade</li></ul></p> <p>Este capítulo aborda a seção da política de segurança. Para obter mais informações sobre todas as seções, visite <content-link target="http://en.wikipedia.org/wiki/ISO/IEC_27002" type="external">http://en.wikipedia.org/wiki/ISO/IEC_27002</content-link>. O desenvolvimento do documento da política de segurança de rede é abordado nos tópicos 4.1.5 "O ciclo de segurança de rede" e 4.1.6 "A política de segurança da empresa".</p></content-text>
</page>
</topic>
<topic type="" id="tl1404010200">
<title><content-text>Ameaças comuns à segurança</content-text></title>
<page type="OneColumn" id="tl1404010201">
<content-media type="StaticGraphic" id="cm6491472568">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010200/tl1404010201/cm6491472568.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010200/tl1404010201/cm6491472568text.xml"/></content-media>
<content-text><p><b>Vulnerabilidades</b></p> <p>Durante a abordagem da segurança de rede, três fatores comuns são vulnerabilidade, ameaça e ataque. </p> <p>Vulnerabilidade é o nível de fragilidade inerente a todas as redes e dispositivos. Isso inclui roteadores, switches, desktops, servidores e até mesmo dispositivos de segurança. </p> <p>Ameaças são as pessoas interessadas e qualificadas para usufruir de todas as fraquezas relacionadas à segurança. Esses indivíduos devem continuar procurando novas proezas e vulnerabilidades. </p> <p>As ameaças utilizam várias ferramentas, scripts e programas para iniciar ataques contra redes e dispositivos de rede. Normalmente, os dispositivos de rede sob ataque são as extremidades, como servidores e desktops.</p> <p>Há três vulnerabilidades principais: </p> <p><ul><li>Vulnerabilidades tecnológicas </li><li>Falhas na configuração </li><li>Falhas na política de segurança</li></ul></p> <p><b>Clique no botão Tecnologia na figura. </b></p> <p>O computador e as tecnologias de rede têm vulnerabilidades intrínsecas na segurança. Entre elas estão o protocolo TCP/IP, o sistema operacional e as vulnerabilidades no equipamento de rede. </p> <p><b>Clique no botão Configuração na figura. </b></p> <p>Os administradores ou os engenheiros de rede precisam saber quais são as falhas na configuração e configurar corretamente os dispositivos de computação e de rede para compensá-las. </p> <p><b>Clique no botão Política na figura. </b></p> <p>Haverá riscos à segurança de rede se os usuários não seguirem a política de segurança. Algumas falhas comuns na política de segurança e como essas falhas são exploradas estão listadas na figura. </p></content-text>
</page>
<page type="OneColumn" id="tl1404010202">
<content-media type="InteractiveGraphicHotspots" id="cm7616940132">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010200/tl1404010202/cm7616940132.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010200/tl1404010202/cm7616940132text.xml"/></content-media>
<content-text><p><b>Ameaças à infraestrutura física</b></p> <p>Ao pensar em segurança de rede, ou mesmo em segurança de computador, você talvez imagine atacantes explorando vulnerabilidades do software. Uma classe de ameaça menos conhecida, mas não menos importante, é a segurança física dos dispositivos. Um atacante poderá negar o uso dos recursos de rede se esses recursos puderem ser comprometidos fisicamente.</p> <p>As quatro classes de ameaças físicas são:</p> <p><ul><li><b>Ameaças ao hardware</b> – dano físico em servidores, roteadores, switches, instalação de cabeamento e estações de trabalho</li><li><b>Ameaças ao ambiente</b> – temperaturas extremas (muito quente ou muito frio) ou umidade extrema (muito molhado ou muito seco)</li><li><b>Ameaças elétricas</b> – <content-link target="{1D78CB24-6F7B-4B39-BDBD-08BC3C00A2E1}" type="glossary">picos</content-link> de tensão, tensão de alimentação insuficiente (quedas de energia), energia não condicionada (ruído) e perda de energia total</li><li><b>Ameaças à manutenção</b> – mau processamento dos principais componentes elétricos (<content-link target="{DADDEF15-492D-473A-9AC9-483914680BF2}" type="glossary">descarga eletrostática</content-link>), falta de peças críticas sobressalentes,cabeamento ruim e sem rotulação</li></ul></p> <p>Alguns desses problemas devem ser resolvidos com uma política organizacional. Alguns deles estão sujeitos a uma boa liderança e ao bom gerenciamento na organização. As consequências da falta de sorte poderão se dar em uma rede, se a segurança física não estiver suficientemente preparada. </p> <p>Aqui estão algumas formas de atenuar ameaças físicas: </p> <p><ul><li>Atenuação da ameaça ao hardware </li><li>Atenuação da ameaça ao ambiente </li><li>Atenuação da ameaça elétrica</li><li>Atenuação da ameaça mecânica </li></ul></p> <p><b>Clique no botão Hardware na figura. </b></p> <p><b>Atenuação da ameaça ao hardware</b> </p> <p>Tranque o wiring closet e só permita o acesso para o pessoal autorizado. Impeça o acesso por qualquer placa móvel no teto, no chão, pela janela, pela tubulação ou ponto de entrada que não seja o ponto de acesso protegido. Use o controle de acesso eletrônico e registre todas as tentativas de entrada. Monitore as instalações com câmeras de segurança. </p> <p><b>Clique no botão Ambiental na figura. </b></p> <p><b>Atenuação da ameaça ao ambiente </b></p> <p>Crie um ambiente de operação apropriado por meio do controle de temperatura, de umidade, do fluxo de ar, de alarmes remotos do ambiente, além da gravação e da monitoração. </p> <p><b>Clique no botão Elétrico na figura. </b></p> <p><b>Atenuação da ameaça elétrica </b></p> <p>Limite os problemas elétricos de alimentação, instalando sistemas de no-break e geradores, seguindo um plano de manutenção preventiva, instalando fontes de alimentação redundantes e utilizando alarmes remotos e monitoração. </p> <p><b>Clique no botão Manutenção na figura.</b></p> <p><b>Atenuação da ameaça de manutenção</b></p> <p>Atenuação da ameaça de manutenção – use cabos limpos, rotule os cabos e os componentes essenciais, use procedimentos para descarga eletrostática, guarde peças sobressalentes essenciais e controle o acesso a portas de <content-link target="{6DF71362-6554-48E2-A9C3-399BF3BEE1FF}" type="glossary">console</content-link>.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010203">
<content-media type="InteractiveGraphicHotspots" id="cm2657534423">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010200/tl1404010203/cm2657534423.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010200/tl1404010203/cm2657534423text.xml"/></content-media>
<content-text><p><b>Ameaças a redes</b></p> <p>No início deste capítulo, foram listados os crimes digitais mais comuns com implicações na segurança de rede. Esses crimes podem ser agrupados em quatro classes principais de ameaças a redes:</p> <p><b>Ameaças não estruturadas </b></p> <p>As ameaças não estruturadas consistem, em sua maioria, em indivíduos inexperientes utilizando ferramentas facilmente disponíveis para hackers, como scripts de shell e crackers de senha. Mesmo ameaças não estruturadas executadas apenas com a intenção de testar as habilidades de um atacante podem causar sérios danos a uma rede. Por exemplo, se o site de uma empresa for hackeado, a reputação dessa empresa poderá ser abalada. Mesmo que o site seja separado das informações privadas que ficam protegidas por um firewall, o público não tomará conhecimento disso. O que o público vê é que o site talvez não seja um ambiente seguro para se fazer negócios. </p> <p><b>Ameaças estruturadas</b> </p> <p>As ameaças estruturadas vêm de indivíduos ou grupos muito motivados e tecnicamente competentes. Essas pessoas conhecem as vulnerabilidade do sistema e utilizam técnicas sofisticadas de hackers para invadir negócios sem que haja suspeitas. Elas invadem os computadores de empresas e governos para cometer fraudes, destruir ou alterar registros, ou simplesmente bagunçar. Esses grupos normalmente estão envolvidos em grandes fraudes e casos de roubos informados a agências de repressão ao crime. Sua técnica é tão complexa e sofisticada que apenas investigadores especialmente treinados compreendem o que está acontecendo.</p> <p>Em 1995, Kevin Mitnick foi condenado por acessar computadores interestaduais nos Estados Unidos para fins criminais. Ele invadiu o banco de dados do Departamento de Trânsito da Califórnia, assumiu o controle dos hubs de comutação telefônicos de Nova York e da Califórnia e roubou números de cartões de crédito. Ele inspirou o filme "Jogos de Guerra" de 1983.</p> <p><b>Ameaças externas </b></p> <p>As ameaças externas podem decorrer de indivíduos ou organizações trabalhando fora de uma empresa sem acesso autorizado aos sistemas de computadores ou à rede. Eles fazem seu trabalho em uma rede principalmente pela Internet ou servidores de acesso dial-up. As ameaças externas podem variar em termos de gravidade, dependendo da experiência do atacante: amador (não estruturada) ou especialista (estruturada).</p> <p><b>Ameaças internas </b></p> <p>As ameaças internas ocorrem quando alguém tem acesso autorizado à rede com uma conta ou acesso físico. Assim como acontece com ameaças externas, a gravidade de uma ameaça interna depende da experiência do atacante.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010204">
<content-media type="StaticGraphic" id="cm6645924410">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010200/tl1404010204/cm6645924410.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010200/tl1404010204/cm6645924410text.xml"/></content-media>
<content-text><p><b>Engenharia social</b></p> <p>A invasão mais fácil não envolve nenhuma habilidade com computador. Se um intruso conseguir levar um membro de uma organização a fornecer informações importantes, como o local de arquivos ou senhas, o processo de invasão será muito mais facilitado. Esse tipo de ataque é chamado de engenharia social e atinge vulnerabilidades pessoais que podem ser detectadas por atacantes talentosos. Ela pode incluir sensibilizações ao ego de um funcionário ou pode ser uma pessoa disfarçada, ou com documento falsificado, que leva uma pessoa a fornecer informações confidenciais.</p> <p>O phishing é um tipo de ataque de engenharia social que envolve o uso do email ou de outros tipos de mensagens em uma tentativa de levar outras pessoas a fornecer informações confidenciais, como números de cartão de crédito ou senhas. O phisher se mascara como uma parte confiável aparentemente com uma necessidade legítima quanto às informações confidenciais. </p> <p>Normalmente, as fraudes de phishing envolvem o envio de spams que aparentam ser de instituições bancárias ou sites de leilões conhecidos. A figura mostra a réplica de um email assim. A empresa real utilizada como isca neste exemplo foi alterada. Estes emails contêm hiperlinks que aparentam ser legítimos, mas que, na verdade, levam os usuários a um site falso configurado pelo phisher para capturar suas informações. O site aparenta pertencer à parte falsificada no email. Quando o usuário insere as informações, elas são registradas para uso do phisher.</p> <p>Os ataques de phishing podem ser evitados instruindo-se usuários e implementando-se diretrizes para relatórios quando eles receberem emails suspeitos. Os administradores também podem bloquear o acesso a determinados sites e configurar filtros que bloqueiem emails suspeitos. </p></content-text>
</page>
</topic>
<topic type="" id="tl1404010300">
<title><content-text>Tipos de ataques a redes</content-text></title>
<page type="OneColumn" id="tl1404010301">
<content-media type="InteractiveGraphicHotspots" id="cm1101607083">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010300/tl1404010301/cm1101607083.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010300/tl1404010301/cm1101607083text.xml"/></content-media>
<content-text><p><b>Tipos de ataques a redes</b></p> <p>Há quatro classes principais de ataques.</p> <p><b>Reconhecimento</b></p> <p>Reconhecimento é a detecção não autorizada e o mapeamento de sistemas, serviços ou vulnerabilidade. Ele também é conhecido como coleta de informações e, na maioria dos casos, antecede outro tipo de ataque. O reconhecimento é semelhante a um ladrão que investiga a vizinhança em busca de casas vulneráveis à invasão, como uma residência desocupada, portas fáceis de abrir ou janelas abertas.</p> <p><b>Acesso</b></p> <p>Acesso ao sistema é a possibilidade de um intruso obter acesso a um dispositivo no qual ele não tem uma conta ou uma senha. A entrada ou o acesso a sistemas normalmente envolvem a execução de uma invasão, um script ou uma ferramenta que explore uma vulnerabilidade conhecida do sistema ou do aplicativo que está sendo atacado.</p> <p><b>Negação de serviços</b></p> <p>A negação de serviço (DOS) acontece quando um atacante desabilita ou danifica redes, sistemas ou serviços com a intenção de negar serviços a determinados usuários. Os ataques DoS envolvem a falha do sistema ou a redução de sua velocidade até o ponto em que fique inutilizável. Mas o DoS também pode ser tão simples quanto excluir ou danificar informações. Na maioria dos casos, a execução do ataque envolve a simples execução de uma invasão ou script. Por essas razões, os ataques DoS são os mais temidos.</p> <p><b>Worms, vírus e cavalos-de-Troia</b></p> <p>Um software malicioso pode ser inserido em um host para danificar ou corromper um sistema, se replicar, ou negar acesso a redes, sistemas ou serviços. Os nomes comuns desse tipo de software são worms, vírus e cavalos-de-Troia.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010302">
<content-media type="StaticGraphic" id="cm2459016624">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010300/tl1404010302/cm2459016624.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010300/tl1404010302/cm2459016624text.xml"/></content-media>
<content-text><p><b>Ataques de reconhecimento</b></p> <p> </p> <p>Os ataques de reconhecimento podem consistir em:</p> <p><ul><li>Consultas de informações de Internet</li><li>Varreduras de <content-link target="{0ED3143D-B57D-48E3-B044-B3672F186AC8}" type="glossary">ping</content-link></li><li>Verificações de porta</li><li>Sniffers de pacote</li></ul></p> <p>Os atacantes externos podem utilizar ferramentas da Internet, como os utilitários nslookup e whois, para determinar facilmente o espaço do endereço IP atribuído a uma determinada corporação ou entidade. Depois que o espaço do endereço IP é determinado, um atacante pode executar ping publicamente nos endereços IP disponíveis para identificar os endereços ativos. Para ajudar a automatizar essa etapa, um atacante pode utilizar uma ferramenta de varredura de ping, como fping ou gping, que executa ping sistematicamente em todos os endereços de rede em um determinado intervalo ou sub-rede. Isso é semelhante a consultar uma seção de uma agenda telefônica e ligar para todos os números para saber quem atenderá. </p> <p>Quando os endereços IP ativos são identificados, o intruso utiliza um scanner de porta para determinar quais serviços de rede ou portas estão ativos nos endereços IP ativos. Scanner de porta é um software, como Nmap ou Superscan, projetado para pesquisar portas abertas em um host de rede. O scanner de porta consulta as portas para determinar o tipo de aplicativo e a versão, bem como o tipo e a versão do sistema operacional (OS) em execução no host de destino. Com base nessas informações, o intruso pode determinar se existe uma vulnerabilidade que possa ser explorada. Conforme mostrado na figura, uma ferramenta de exploração de rede, como Nmap, pode ser utilizada para realizar a detecção de host, a verificação de porta e as detecções de versão e do OS. Muitas dessas ferramentas estão disponíveis e são fáceis de utilizar.</p> <p>Os atacantes internos podem tentar "interceptar" o tráfego da rede. </p> <p>Detecção de rede e detecção de pacotes são termos comuns para interceptação. As informações coletadas com a interceptação podem ser utilizadas para realizar outros ataques à rede.</p> <p>Dois usos comuns da interceptação são estes:</p> <p><ul><li><b>Coleta de informações</b> – os intrusos na rede conseguem identificar nomes de usuário, senhas ou informações transportadas em um pacote. </li><li><b>Roubo de informações</b> – o roubo pode ocorrer à medida que os dados são transmitidos pela rede interna ou externa. O intruso na rede também pode roubar dados de computadores em rede, obtendo acesso não autorizado. Entre os exemplos estão a invasão ou a interceptação em instituições financeiras e a obtenção de números de cartão de crédito. </li></ul></p> <p>Um exemplo de dados suscetíveis à interceptação é o <content-link target="{EAAB3788-F914-4994-861D-BCE100321A88}" type="glossary">SNMP</content-link> versão 1 das <content-link target="{D495A583-99B7-4B74-A6E8-3F4BD20500E7}" type="glossary">strings comunitárias</content-link>, enviadas em texto não criptografado. SNMP é um protocolo de gerenciamento que fornece um meio para que dispositivos de rede coletem informações sobre seu status e as enviem para um administrador. Um intruso pode interceptar consultas SNMP e coletar dados importantes sobre a configuração do equipamento de rede. Outro exemplo é a captura de nomes de usuário e senhas na medida em que eles atravessam uma rede.</p> <p>Um método comum para interceptar a comunicação é capturar o TCP/IP ou outros pacotes de protocolo e decodificar o conteúdo utilizando um <content-link target="{C459DF2F-5999-42BC-B07A-0C536FB7F601}" type="glossary">analisador de protocolo</content-link> ou utilitário semelhante. Um exemplo desse programa é o Wireshark, que você tem utilizado muito ao longo de todos os cursos do Exploration. Depois de serem capturados, os pacotes podem ser examinados em busca de informações vulneráveis.</p> <p>Três dos métodos mais efetivos para contra-atacar a interceptação são os seguintes:</p> <p><ul><li>Utilizar redes comutadas, e não hubs, para que o tráfego não seja encaminhado para todas as extremidades ou hosts de rede.</li><li>Utilizar uma criptografia que atenda às necessidades de segurança dos dados da organização sem que haja a imposição de uma carga excessiva sobre os recursos ou os usuários do sistema.</li><li>Implementar e aplicar uma diretiva de política que proíba a utilização de protocolos com suscetibilidades conhecidas à interceptação. Por exemplo, como o SNMP versão 3 pode criptografar community strings, uma empresa pode proibir a utilização do SNMP versão 1, mas permitir o SNMP versão 3.</li></ul></p> <p>A criptografia fornece proteção para dados suscetíveis a ataques de interceptação, crackers de senha ou manipulação. Praticamente toda empresa tem transações que poderiam ter consequências negativas se fossem exibidas por um interceptador. A criptografia assegura que, quando dados confidenciais passarem por um meio suscetível à interceptação, eles não poderão ser alterados ou observados. A <content-link target="{E4482451-0417-4A56-8BCD-1BF322A320FB}" type="glossary">descriptografia</content-link> é necessária quando os dados alcançam o host de destino. </p> <p>Um método de criptografia é chamado de criptografia apenas de payload. Este método criptografa a seção de payload (seção de dados) depois de um protocolo (<content-link target="{05BF28E6-1E74-45FE-8916-607BCB06AF12}" type="glossary">UDP</content-link>) ou cabeçalho TCP. Isso permite a roteadores e switches com IOS Cisco ler as informações da camada de rede e encaminhar o tráfego como qualquer outro pacote IP. A criptografia apenas de payload permite à comutação de fluxo e a todos os recursos da lista de acesso funcionar com o tráfego criptografado assim como funcionariam com o tráfego de texto sem formatação, o que preserva qualidade de serviço (<content-link target="{38449E29-EDA0-4A5D-AB6B-CB5C64124CDB}" type="glossary">QoS</content-link>) desejada para todos os dados.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010303">
<content-media type="StaticGraphic" id="cm4384281654">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010300/tl1404010303/cm4384281654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010300/tl1404010303/cm4384281654text.xml"/></content-media>
<content-text><p><b>Ataques de acesso</b></p> <p>Os ataques de acesso exploram vulnerabilidades conhecidas em serviços de autenticação, FTP e da Web para obter acesso a contas da Web, bancos de dados e outras informações confidenciais. </p> <p><b>Ataques de senha </b></p> <p>Os ataques de senha podem ser implementados utilizando-se um sniffer de pacotes para obter contas de usuário e senhas transmitidas como texto não criptografado. Os ataques de senha normalmente se referem a tentativas repetidas de login em um recurso compartilhado, como um servidor ou roteador, para identificar uma conta de usuário, senha ou ambos. Essas tentativas repetidas são chamadas de ataques de dicionário ou ataques de força bruta.</p> <p>Para realizar um ataque de dicionário, os atacantes podem utilizar ferramentas como L0phtCrack ou Cain. Esses programas tentam fazer o login repetidamente como um usuário utilizando palavras derivadas de um dicionário. Os ataques de dicionário normalmente são bem-sucedidos porque os usuários têm uma tendência de escolher senhas simples, que tenham palavras curtas, únicas ou que sejam variações simples fáceis de adivinhar, como adicionar o número 1 a uma palavra.</p> <p>Outro método de ataque de senha utiliza tabelas de arco-íris. Tabela de arco-íris é uma série de senhas pré-computadas criada compilando-se cadeias de possíveis senhas de texto sem formatação. Cada cadeia é desenvolvida começando-se por um "chute" escolhido aleatoriamente da senha de texto sem formatação e aplicando-se variações a ela sucessivamente. O software de ataque aplicará as senhas na tabela de arco-íris até determinar a senha. Para realizar um ataque de tabela de arco-íris, os atacantes podem utilizar uma ferramenta como L0phtCrack.</p> <p>Uma ferramenta de ataque de força bruta é mais sofisticada porque pesquisa exaustivamente utilizando combinações de conjuntos de caracteres para computar todas as possíveis palavras-chave formadas por esses caracteres. A desvantagem é que se precisa de mais tempo para realizar esse tipo de ataque. As ferramentas de ataque de força bruta se notabilizaram por determinar senhas simples em menos de um minuto. Senhas maiores, mais complexas, podem demorar dias ou semanas para serem determinadas.</p> <p>Os ataques de senha podem ser atenuados, instruindo-se os usuários a utilizar senhas complexas e especificando-se tamanhos mínimos de senha. Os ataques de força bruta podem ser atenuados, restringindo-se o número de tentativas de login malsucedidas. No entanto, um ataque de força bruta também pode ser realizado off-line. Por exemplo, se detectasse uma senha criptografada, interceptando ou acessando um arquivo de configuração, um atacante poderia tentar determinar a senha sem efetivamente estar conectado ao host.</p> <p><b>Exploração de confiança</b></p> <p>A meta de um ataque de exploração de confiança é comprometer um host confiável, utilizando-o para preparar ataques em outros hosts de uma rede. Se um host da rede de uma empresa for protegido por um firewall (host interno), mas puder ser acessado por um host confiável fora do firewall (host externo), o host interno poderá ser atacado por meio do host externo confiável.</p> <p>Os meios utilizados por atacantes para obter acesso ao host externo confiável, bem como os detalhes da exploração de confiança, não são abordados neste capítulo. Para obter informações sobre a exploração de confiança, consulte o curso Networking Academy Network Security. </p> <p>Os ataques baseados na exploração de confiança podem ser atenuados por meio de restrições rígidas quanto aos níveis de confiança em uma rede, por exemplo, VLANs privadas podem ser implantadas em segmentos de serviço público nos quais há vários servidores públicos disponíveis. Sistemas fora de um firewall jamais devem ser totalmente confiáveis por sistemas dentro de um firewall. Essa confiança deve ser limitada a protocolos específicos, devendo ser autenticada por algo que não seja um endereço IP, sempre que possível. </p> <p><b>Redirecionamento de porta </b></p> <p>Um ataque de redirecionamento de porta é um tipo de ataque de exploração de confiança que utiliza um host comprometido para transmitir tráfego por meio de um firewall que, do contrário, estaria bloqueado. </p> <p>Considere um firewall com três interfaces e um host em cada uma delas. O host externo pode alcançar o host no segmento de serviços públicos, mas não o host interno. Esse segmento acessível publicamente é normalmente chamado de zona desmilitarizada. O host no segmento de serviços públicos pode alcançar o host tanto externo quanto interno. Se pudessem comprometer o host do segmento de serviços públicos, os atacantes conseguiriam instalar um software para redirecionar o tráfego do host externo diretamente para o host interno. Embora nenhuma comunicação viole as regras implementadas no firewall, o host externo agora tem conectividade com o host interno por meio do processo de redirecionamento de porta no host de serviços públicos. Um exemplo de um utilitário que pode fornecer esse tipo de acesso é o netcat.</p> <p>O redirecionamento de porta pode ser atenuado principalmente por meio do uso de modelos confiáveis próprios, específicos da rede (conforme mencionado anteriormente). Quando um sistema está sob ataque, um sistema de detecção de invasão baseado em host pode ajudar a detectar um atacante e impedir a instalação desses utilitários em um host.</p> <p><b>Ataque de interceptação </b></p> <p>Um ataque de interceptação (MITM) é realizado por atacantes que conseguem se posicionar entre dois hosts legítimos. O atacante pode permitir a ocorrência das transações normais entre os hosts e só manipular periodicamente a conversa entre os dois.</p> <p>Há muitas formas com as quais um atacante consegue ficar entre dois hosts. Os detalhes desses métodos estão além do escopo deste curso, mas uma descrição resumida de um método popular, o <content-link target="{2DD75695-8E64-48D4-8726-7CEF12AB7F13}" type="glossary">proxy</content-link> transparente, ajuda a ilustrar a natureza dos ataques MITM.</p> <p>Em um ataque de proxy transparente, um atacante pode capturar uma vítima com um email de phishing ou desfigurando um site. Dessa forma, a <content-link target="{189C23EC-BAD7-4B8E-8056-8324AC2DB7DA}" type="glossary">URL</content-link> de um site legítimo recebe a URL adicional dos atacantes (antecedido). Por exemplo, http:www.legitimate.com se torna http:www.attacker.com/http://www.legitimate.com. </p>  <p>1. Quando uma vítima solicita uma página Web, o host da vítima faz a solicitação ao host do atacante. </p> <p>2. O host do atacante recebe a solicitação e busca a página real no site legítimo. </p> <p>3. O atacante pode alterar a página Web legítima e desfigurar qualquer dado desejado. </p> <p>4. O atacante encaminha a página solicitada à vítima. </p> <p>Outras classificações de ataques MITM são potencialmente ainda mais perigosas. Se conseguirem ficar em uma posição estratégica, os atacantes poderão roubar informações, sequestrar uma sessão em andamento para obter acesso a recursos de rede privada, realizar ataques DoS, danificar dados transmitidos ou introduzir novas informações em sessões de rede.</p> <p>A atenuação de ataques MITM de WAN é obtida utilizando-se túneis VPN, que permitem ao atacante ver apenas o texto criptografado, indecifrável. Os ataques MITM de rede local utilizam ferramentas como ettercap e envenenamento ARP. Grande parte da atenuação de ataques MITM de rede local normalmente pode ser feita configurando-se a segurança de porta nos switches de rede local.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010304">
<content-media type="StaticGraphic" id="cm3784196061">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010300/tl1404010304/cm3784196061.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010300/tl1404010304/cm3784196061text.xml"/></content-media>
<content-text><p><b>Ataques DoS</b></p> <p>Os ataques DoS são a forma mais conhecida de ataque e está entre os mais difíceis de eliminar. Mesmo na comunidade de atacantes, os ataques DoS são considerados triviais e ruins porque não exigem muito esforço para que sejam executados. Mas por conta da facilidade em sua implementação e dos danos potencialmente significativos, os ataques DoS merecem atenção especial dos administradores de segurança.</p> <p>Os ataques DoS assumem muitas formas. Eles acabam impedindo as pessoas autorizadas de utilizar um serviço, consumindo recursos do sistema. Estes são alguns exemplos das ameaças DoS mais comuns:</p> <p><b>Clique no botão Ping da morte na figura.</b></p> <p>O ataque de ping da morte ganhou popularidade ainda nos anos 90. Ele usufruía as vulnerabilidades nos sistemas operacionais mais antigos. Esse ataque modificava a porção IP de um cabeçalho do pacote de ping para indicar que havia mais dados no pacote do que existia efetivamente. Um ping normalmente tem 64 ou 84 bytes, enquanto um ping da morte pode ter até 65.536 bytes. Enviar um ping desse tamanho pode travar um computador alvo mais antigo. A maioria das redes não é mais suscetível a esse tipo de ataque.</p> <p><b>Clique no botão Envio SYN na figura.</b></p> <p>Um ataque de envio SYN explora o handshake tridirecional TCP. Isso envolve o envio de várias solicitações SYN (mais de 1.000) para um servidor de destino. O servidor responde com a resposta SYN-ACK habitual, mas o host mal-intencionado nunca responde com o ACK final para concluir o handshake. Isso trava o servidor até que ele acaba ficando sem recursos e não consegue responder a uma solicitação válida de host. </p> <p>Entre outros tipos de ataques DOS estão: </p> <p><ul><li><b>Bombardeamentos de email</b> – os programas enviam emails em massa para indivíduos, listas ou domínios, monopolizando os serviços de email. </li><li><b>Applets mal-intencionados</b> – esses ataques são programas Java, JavaScript ou ActiveX que causam a destruição ou o travamento dos recursos do computador.</li></ul></p> <p><b>Ataques DDoS</b></p> <p>Os ataques de negação de serviço distribuído (DDoS) foram projetados para saturar links de rede com dados ilegítimos. Esses dados podem sobrecarregar um link da Internet, o que causa o descarte de tráfego legítimo. O DDoS utiliza métodos de ataque semelhantes a ataques DoS padrão, mas funciona em uma escala muito maior. Normalmente, centenas ou milhares de pontos de ataque tentam sobrecarregar um destino. </p> <p><b>Clique no botão DDoS na figura.</b></p> <p>Normalmente, há três componentes em um ataque de DDoS.</p> <p><ul><li>Há um cliente que normalmente é a pessoa que inicia o ataque.</li><li>Gerenciador é um host comprometido no qual o programa atacante está em execução e cada gerenciador é capaz de controlar vários agentes</li><li>Agente é um host comprometido no qual o programa atacante está em execução, sendo o responsável pela geração de um fluxo de pacotes com destino à vítima desejada</li></ul></p> <p>Entre os exemplos de ataques DDoS estão os seguintes:</p> <p><ul><li>Ataque SMURF</li><li>Tribe flood network (TFN)</li><li>Stacheldraht</li><li>MyDoom</li></ul></p> <p><b>Clique no botão Ataque Smurf na figura.</b></p> <p>O ataque Smurf utiliza mensagens de ping transmitidas falsificadas para inundar um sistema desejado. Ele começa com um atacante enviando um grande número de solicitações de eco ICMP para o endereço de broadcast de rede utilizando endereços IP de origem falsificados válidos. Um roteador poderia executar a função de broadcast da Camadas 3 para a Camada 2, e a maioria dos hosts responderá, cada um, com uma resposta de eco ICMP, multiplicando o tráfego pelo número de hosts que respondem. Em uma rede de broadcast multiacesso, talvez haja centenas de máquinas respondendo a todos os pacotes de eco. </p> <p>Por exemplo, consideremos que a rede tenha 100 hosts e que o atacante tenha um link T1 de alto desempenho. O atacante envia um fluxo de 768 kb/s em solicitações de eco ICMP com um <content-link target="{FDD8B313-56F4-4B39-92E9-AEE0D7AEC896}" type="glossary">endereço de origem</content-link> falsificado da vítima para o endereço de broadcast de uma rede de destino (chamado de um site de reflexo). Esses pacotes de ping chegam ao site de reflexo na rede de broadcast de 100 hosts, e cada um deles pega e responde o pacote, o que cria 100 respostas de ping de saída. Um total de 76,8 megabits por segundo (<content-link target="{B8139BA1-D433-4D6B-98EA-F9AB9A1A2479}" type="glossary">Mb/s</content-link>) de largura de banda é utilizado de saída no site de reflexo depois que o tráfego é multiplicado. Em seguida, ele é enviado para a vítima ou para a origem falsificada dos pacotes de origem.</p> <p>A desativação do recurso de broadcast direcionado na infraestrutura de rede impede a rede de ser utilizada como um site de reflexo. O recurso de broadcast direcionado é desativado por padrão no software IOS Cisco desde a versão 12.0.</p> <p>Os ataques DoS e DDoS podem ser atenuados, implementando-se a antifalsificação especial e as <content-link target="{4F9FC98B-6567-428C-B6B4-69BD3C324614}" type="glossary">listas de controle de acesso </content-link> anti-DoS. Os ISPs também podem implementar taxa de tráfego, limitando a quantidade de tráfego não essencial que atravessa segmentos de rede. Um exemplo comum é limitar a quantidade de tráfego ICMP permitido em uma rede, porque esse tráfego só é utilizado para fins de diagnóstico.</p> <p>Os detalhes da operação desses ataques estão além do escopo deste curso. Para obter mais informações, consulte o curso Networking Academy Network Security.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010305">
<content-media type="StaticGraphic" id="cm9373680670">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010300/tl1404010305/cm9373680670.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010300/tl1404010305/cm9373680670text.xml"/></content-media>
<content-text><p><b>Ataques de código malicioso</b></p> <p>As principais vulnerabilidade para estações de trabalho de usuário final são worms, vírus e ataques de cavalo-de-Troia. </p> <p>Um worm executa código e instala cópias na memória do computador infectado, o que pode, por sua vez, infectar outros hosts. </p> <p>Vírus é um software malicioso anexado a outro programa com a finalidade de executar uma determinada função indesejável em uma estação de trabalho. </p> <p>Um cavalo-de-Troia é diferente de um worm ou vírus apenas porque todo o aplicativo foi escrito para ser semelhante a alguma coisa, quando, na verdade, é uma ferramenta de ataque.</p> <p><b>Worms </b></p> <p>A anatomia de um ataque de worm é a seguinte:</p> <p><ul><li><b>A vulnerabilidade de habilitação</b> – um worm se instala, explorando vulnerabilidades conhecidas em sistemas, como usuários finais ingênuos que abrem anexos de executáveis não verificados em emails.</li><li><b>Mecanismo de propagação</b> – depois de obter acesso a um host, um worm se copia para esse host e, em seguida, escolhe novos destinos. </li><li><b>Payload</b> – depois que um host é infectado por um worm, o atacante tem acesso ao host, normalmente como um usuário privilegiado. Os atacantes poderiam utilizar uma exploração local para escalonar seu nível de privilégio até administrador. </li></ul></p> <p>Normalmente, worms são programas autossuficientes que atacam um sistema e tentam explorar uma vulnerabilidade específica no destino. Assim que houver a exploração bem-sucedida da vulnerabilidade, o worm copia seu programa do host de ataque para o sistema recém-explorado para começar tudo novamente. Em janeiro de 2007, um worm infectou a conhecida comunidade MySpace. Usuários confiáveis habilitaram a propagação do worm, que começou a se replicar nos sites dos usuários com a desfiguração "w0rm.EricAndrew".</p> <p>A atenuação de ataques de worm exige diligência por parte da equipe administradora do sistema e de rede. A coordenação entre as equipes de administração do sistema, de engenharia da rede e das operações de segurança é essencial na resposta efetiva a um incidente de worm. Estas são as etapas recomendadas para a atenuação de ataques de worm:</p> <p><ul><li><b>Contenção</b> – contenha a difusão do worm na rede e dentro dela. Isole as partes não infectadas da rede.</li><li><b>Inoculação</b> – comece aplicando patches a todos os sistemas e, se possível, verificando se há sistemas vulneráveis.</li><li><b>Quarentena</b> – monitore todas as máquina infectadas dentro da rede. Desconecte, remova ou bloqueie máquinas infectadas na rede.</li><li><b>Tratamento</b> – Limpe e aplique um patch a todos os sistemas infectados. Alguns worms podem exigir reinstalações completas para limpar o sistema.</li></ul></p> <p><b>Vírus e cavalos-de-Troia </b></p> <p>Vírus é um software malicioso anexado a outro programa para executar uma determinada função indesejável em uma estação de trabalho. Um exemplo é um programa anexado ao command.com (o interpretador principal de sistemas Windows) e exclui determinados arquivos, além de infectar todas as outras versões de command.com que conseguir localizar.</p> <p>Um cavalo-de-Troia é diferente apenas porque todo o aplicativo foi escrito para ser semelhante a alguma coisa, quando, na verdade, é uma ferramenta de ataque. Um exemplo de um cavalo-de-Troia é um aplicativo que executa um simples jogo em uma estação de trabalho. Enquanto o usuário está ocupado com o jogo, o cavalo-de-Troia envia uma cópia para todos os endereços na agenda de endereços do usuário. Os outros usuários recebem o jogo e o executam, o que difunde o cavalo-de-Troia para os endereços em todas as agendas de endereços.</p> <p>Um vírus normalmente exige um mecanismo de entrega – um vetor – como um arquivo zip ou algum outro arquivo executável anexado a um email, para transportar o código do vírus de um sistema para outro. O principal elemento que distingue um worm de um vírus de computador é essa interação humana necessária à facilitação da difusão de um vírus.</p> <p>Esses tipos de aplicativos podem ser contidos por meio do uso efetivo de software antivírus no nível do usuário e, possivelmente, no nível da rede. Um software antivírus pode detectar a maioria dos vírus e muitos aplicativos de cavalo-de-Troia, além de impedir sua difusão na rede. Manter-se atualizado em relação aos desenvolvimento mais recentes quanto a esses tipos de ataques também pode levar a uma postura mais efetiva relacionada a esses ataques. Na medida em que novos vírus ou aplicativos de cavalo-de-Troia são liberados, as empresas precisam se manter atualizadas quanto às versões mais atuais do software antivírus.</p> <p>Sub7, ou subseven, é um cavalo-de-Troia comum que instala um programa backdoor em sistemas de usuários. Ele é conhecido tanto por ataques não estruturados quanto estruturados. Por ser uma ameaça não estruturada, atacantes inexperientes podem utilizar o programa de forma que os cursores do mouse desapareçam. Como uma ameaça estruturada, os crackers podem utilizá-lo para instalar keystroke loggers (programas que registram todas as teclas pressionadas pelo usuário) para capturar informações confidenciais.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404010400">
<title><content-text>Técnicas de atenuação gerais</content-text></title>
<page type="OneColumn" id="tl1404010401">
<content-media type="StaticGraphic" id="cm6797656359">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010400/tl1404010401/cm6797656359.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010400/tl1404010401/cm6797656359text.xml"/></content-media>
<content-text><p><b>Segurança baseada em host e em servidor</b></p> <p><b>Dispositivo fortalecido</b></p> <p>Quando um novo sistema operacional é instalado em um computador, as configurações de segurança são definidas de acordo com os valores padrão. Na maioria dos casos, esse nível de segurança é inadequado. Existem alguns passos simples que devem ser dados e que se aplicam à maioria dos sistemas operacionais:</p> <p><ul><li>Nomes de usuário e senhas padrão devem ser alterados imediatamente. </li><li>O acesso a recursos do sistema deve ser restrito apenas aos indivíduos com autorização para utilizá-los. </li><li>Qualquer serviço e aplicativo desnecessário deve ser desativado e desinstalado, quando possível.</li></ul></p> <p>A seção 4.2, "Protegendo roteadores Cisco", descreve um dispositivo fortalecido com mais detalhes.</p> <p>É essencial proteger hosts de rede, como PCs de estação de trabalho e servidores. Esses hosts precisam ser protegidos quando adicionados à rede, devendo ser atualizados com patches de segurança assim que essas atualizações forem disponibilizadas. Passos adicionais podem ser dados para proteger esses hosts. Antivírus, firewall e detecção de invasão são ferramentas importantes que podem ser utilizadas para proteger hosts de rede. Como muitos recursos de negócio podem estar em um único servidor de arquivos, é especialmente importante que os servidores sejam acessíveis e estejam disponíveis. </p> <p><b>Software antivírus </b></p> <p>Instale um software antivírus de host para se proteger de vírus conhecidos. Um software antivírus pode detectar a maioria dos vírus e muitos aplicativos de cavalo-de-Troia, além de impedir sua difusão na rede.</p> <p>O software antivírus faz isso de duas formas:</p> <p><ul><li>Ele verifica arquivos, comparando seu conteúdo com vírus conhecidos de um dicionário de vírus. As correspondências são sinalizadas de maneira definida pelo usuário final.</li><li>Ele monitora processos suspeitos em execução em um host que possam indicar infecção. Essa monitoração pode incluir capturas de dados, monitoração de porta e outros métodos.</li></ul></p> <p>O software antivírus comercial, em sua maioria, utiliza todas essas abordagens. </p> <p><b>Clique no botão Antivírus na figura.</b></p> <p>Atualize o software antivírus sempre.</p> <p><b>Firewall pessoal </b></p> <p>Computadores pessoais conectados à Internet por meio de uma conexão dial-up, DSL ou modems a cabo são tão vulneráveis quanto redes corporativas. Os firewalls pessoais residem no PC do usuário e tentam impedir ataques. Os firewalls pessoais não foram projetados para implementações de rede local, como firewalls baseados em dispositivo ou servidor, e eles podem impedir o acesso à rede se instalados com outros clientes de rede, serviços, protocolos ou adaptadores. </p> <p><b>Clique no botão Firewalls pessoais na figura.</b></p> <p>Entre alguns dos fornecedores de firewall pessoal estão McAfee, Norton, Symantec e Zone Labs.</p> <p><b>Patches do sistema operacional </b></p> <p>A maneira mais efetiva de atenuar um worm e suas variantes é baixando atualizações de segurança do fornecedor do sistema operacional e aplicar o patch a todos os sistemas vulneráveis. Isso é difícil com sistemas de usuário sem controle na rede local, e ainda mais problemático caso esses sistemas estejam conectados remotamente à rede por meio de uma rede virtual privada (VPN) ou servidor de acesso remoto (RAS). A administração de vários sistemas envolve a criação de uma imagem de software padrão (sistema operacional e aplicativos aprovados com autorização para serem utilizados em sistemas de clientes implantados) implantada em sistemas novos ou melhorados. Essas imagens talvez não contenham os patches mais recentes, e o processo de recriação contínuo da imagem para integrar o patch mais recente pode se tornar rapidamente algo demorado administrativamente. Aplicar patches a todos os sistemas exige que esses sistemas estejam de alguma forma conectados à rede, o que talvez não seja possível.</p> <p>Uma solução para o gerenciamento de patches de segurança críticos é criar um servidor de patches central com o qual todos os sistemas devem se comunicar após um determinado período. Qualquer patch não aplicado a um host é baixado automaticamente no servidor de patches e instalado sem a intervenção do usuário. </p> <p>Além de executar atualizações de segurança do fornecedor do OS, a determinação de quais dispositivos são exploráveis pode ser simplificada pela utilização de ferramentas de auditoria de segurança que procuram vulnerabilidades.</p> <p><b>Clique no botão Patches do OS na figura.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1404010402">
<content-media type="StaticGraphic" id="cm9995318402">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010400/tl1404010402/cm9995318402.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010400/tl1404010402/cm9995318402text.xml"/></content-media>
<content-text><p><b>Detecção de invasão e prevenção</b></p> <p>Os sistemas de detecção de invasão detectam ataques a uma rede e enviam logs a uma console de gerenciamento. Os sistemas de prevenção de invasão (IPSs) impedem ataques à rede e devem fornecer os seguintes mecanismos de defesa ativos, além da detecção:</p> <p><ul><li><b>Prevenção</b> – impede a execução do ataque detectado. </li><li><b>Reação</b> – imuniza o sistema contra ataques futuros de uma origem maliciosa. </li></ul></p> <p>Qualquer tecnologia pode ser implementada em um nível de rede ou de host, ou ambos, tendo em vista a máxima proteção.</p> <p><b>Sistemas de detecção de invasão baseados em host</b> </p> <p>A invasão baseada em host costuma ser implementada como uma tecnologia interna ou passiva, dependendo do fornecedor. </p> <p>A tecnologia passiva, a primeira geração da tecnologia, é chamada de sistema de detecção de invasão baseado em host (HIDS). O HIDS envia logs a uma console de gerenciamento após a ocorrência do ataque e do dano. </p> <p>A tecnologia interna, chamada de sistema de prevenção de invasão baseado em host (HIPS), na verdade, interrompe o ataque, impede o dano e bloqueia a propagação dos worms e dos vírus.</p> <p>A detecção ativa pode ser definida para fechar a conexão de rede ou parar os serviços afetados automaticamente. A ação corretiva pode ser feita imediatamente. A Cisco fornece o HIPS utilizando o software Cisco Security Agent.</p> <p>O software do HIPS deve ser instalado em cada host, no servidor ou no desktop, para monitorar a atividade realizada no host. Esse software é chamado de software agente. O software agente executa a análise da detecção de invasão e a prevenção. O software agente também envia logs e alertas para um servidor centralizado de gerenciamento/política.</p> <p>A vantagem do HIPS é que ele pode monitorar processos do sistema operacional e proteger recursos essenciais do sistema, inclusive arquivos que talvez só existam nesse determinado host. Isso significa que ele pode notificar os gerentes de rede quando algum processo externo tentar modificar um arquivo de sistema de forma que possa incluir um programa backdoor.</p> <p>A figura ilustra uma implantação de HIPS típica. Os agentes são instalados em servidores publicamente acessíveis, além de servidores de aplicativos e de email corporativo. O agente informa eventos a um servidor de console central localizado dentro do firewall corporativo. Como alternativa, os agentes no host podem enviar logs como email para um administrador.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010403">
<content-media type="InteractiveGraphicHotspots" id="cm9925351105">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010400/tl1404010403/cm9925351105.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010400/tl1404010403/cm9925351105text.xml"/></content-media>
<content-text><p><b>Mecanismos de segurança comuns e aplicativos</b></p> <p>A segurança é uma das principais considerações durante o planejamento de uma rede. Antes, o dispositivo que vinha à mente quando o assunto era segurança de rede era o firewall. Um firewall, por si só, deixou de ser apropriado à proteção de uma rede. É necessária uma abordagem integrada envolvendo firewall, prevenção de invasão e VPN.</p> <p>Uma abordagem integrada em relação à segurança, além dos dispositivos necessários para que ela aconteça, segue estes componentes básicos:</p> <p><b>Controle de ameaça</b> – controla o acesso à rede, isola sistemas infetados, impede intrusões e protege ativos, contra-atacando tráfego malicioso, como worms e vírus. Os dispositivos que fornecem soluções em controle de ameaça são:</p> <p><ul><li>Mecanismos de segurança Cisco série ASA 5500 Adaptive </li><li>Roteadores de serviços integrados (ISRs) </li><li>Network Admission Control, controle de admissão de rede </li><li>Cisco Security Agent for Desktops </li><li>Sistemas de prevenção de invasão Cisco</li></ul></p> <p><b>Comunicações seguras</b> – protege extremidades da rede com VPN. Os dispositivos que permitem a uma organização implantar VPN são roteadores Cisco ISR com a solução em VPN do IOS Cisco e os switches Cisco 5500 ASA e Cisco Catalyst 6500.</p> <p><b>Controle de admissão de rede (<content-link target="{5CA35F2A-073D-445F-821D-ABBA68DB4D66}" type="glossary">NAC</content-link>)</b> – fornece um método baseado em funções para impedir o acesso não autorizado a uma rede. A Cisco oferece um dispositivo NAC.</p> <p><b>Software IOS Cisco em roteadores de serviços integrados (ISRs) Cisco</b></p> <p>A Cisco fornece muitas das medidas de segurança obrigatórias para os clientes dentro do software IOS Cisco. O software IOS Cisco fornece serviços internos IOS Cisco Firewall, IPsec, SSL VPN e IP.</p> <p><b>Mecanismo de segurança Cisco série ASA 5500 Adaptive</b></p> <p>Houve um momento em que o firewall PIX era o dispositivo que uma rede segura implantaria. O PIX evoluiu até chegar a uma plataforma que integra muitos recursos de segurança diferentes, chamada de Cisco Adaptive Security Appliance (ASA). O Cisco ASA integra firewall, segurança de voz, SSL e IPsec VPN, IP e serviços de segurança de conteúdo em um único dispositivo.</p> <p><b>Sensores Cisco IPS série 4200</b></p> <p>Para redes maiores, um sistema de prevenção de invasão interno é fornecido pelos sensores Cisco IP série 4200. Esse sensor identifica, classifica e interrompe o tráfego malicioso na rede.</p> <p><b>Dispositivo Cisco NAC</b></p> <p>O dispositivo Cisco NAC utiliza a infraestrutura de rede para aplicar a conformidade com a política de segurança em todos os dispositivos que procuram acessar recursos de computação em rede.</p> <p><b>Cisco Security Agent (CSA)</b></p> <p>O software Cisco Security Agent fornece recursos de proteção contra ameaças para sistemas de computação em servidor, desktop e ponto de serviço (POS). O CSA defende esses sistemas contra ataques determinados, spyware, rootkits e ataques day-zero.</p> <p>A cobertura aprofundada desses dispositivos está além do escopo deste curso. Consulte os cursos CCNP: Implementação de redes remotas convergidas seguras e Segurança de rede 1 e 2 para obter mais informações.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404010500">
<title><content-text>O ciclo de segurança de rede</content-text></title>
<page type="OneColumn" id="tl1404010501">
<content-media type="StaticGraphic" id="cm7679837506">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010500/tl1404010501/cm7679837506.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010500/tl1404010501/cm7679837506text.xml"/></content-media>
<content-text><p>A maior parte dos incidentes de segurança ocorre porque os administradores de sistema não implementam as contramedidas disponíveis, e os atacantes ou os funcionários insatisfeitos exploram a omissão. Por isso, o problema não é apenas alguém confirmar a existência de uma vulnerabilidade técnica e localizar uma contramedida que funcione. Também é essencial verificar se a contramedida está implantada e funcionando corretamente.</p> <p>Para auxiliar na conformidade de uma política de segurança, o Ciclo de segurança, um processo contínuo se mostrou uma abordagem efetiva. O Ciclo de segurança incentiva novos testes e a reaplicação de medidas de segurança atualizadas regularmente.</p> <p>Para começar o processo do Ciclo de segurança, primeiro desenvolva uma política de segurança que permita a aplicação de medidas de segurança. A política de segurança inclui o seguinte:</p> <p><ul><li>Identifica os objetivos de segurança da organização. </li><li>Documenta os recursos a serem protegidos. </li><li>Identifica a infraestrutura de rede com mapas atuais e inventários. </li><li>Identifica os recursos essenciais que precisam ser protegidos, como pesquisa e desenvolvimento, finanças e recursos humanos. Isso se chama análise de risco.</li></ul></p> <p>A política de segurança é o ponto no qual as quatro etapas do Ciclo de segurança se baseiam. As etapas são proteger, monitorar, testar e melhorar.</p> <p><b>Etapa 1. Proteger </b></p> <p>Proteja a rede, aplicando a política de segurança e implementando as seguintes soluções em segurança:</p> <p><ul><li><b>Proteção contra ameaças</b></li><li><b>Inspeção stateful e filtragem de pacote</b> – filtre o tráfego da rede para permitir somente tráfego e serviços válidos.</li></ul></p> <p><b>Nota:</b> a inspeção stateful se refere a um firewall que mantém informações sobre o estado de uma conexão em uma tabela de estados de forma que ele possa reconhecer alterações feitas na conexão que poderiam indicar que um atacante está tentando capturar uma sessão ou manipular uma conexão.</p> <p><ul><li><b>Sistemas de prevenção de invasão</b> – implantados nos níveis de rede e de host para parar o tráfego malicioso ativamente. </li><li><b>Patches de vulnerabilidade</b> – aplique correções ou medidas para parar a exploração quanto a vulnerabilidades conhecidas. </li><li><b>Desabilitar serviços desnecessários</b> – quanto menos serviços habilitados, mais difícil será para os atacantes obter acesso. </li></ul></p> <p><b>Conectividade segura</b> </p> <p><ul><li><b>VPNs</b> – criptografe tráfego da rede para impedir a divulgação indesejável a indivíduos sem autorização ou maliciosos. </li><li><b>Confiança e identidade</b> – implemente restrições plenas quanto a níveis de confiança dentro de uma rede. Por exemplo, sistemas fora de um firewall jamais devem ser totalmente confiáveis por sistemas dentro de um firewall. </li><li><b>Autenticação</b> – só dê acesso a usuários autorizados. Um exemplo disso é a utilização de senhas únicas. </li><li><b>Aplicação da política</b> – assegure-se de que os usuários e os dispositivos finais estejam em conformidade com a política corporativa.</li></ul></p> <p><b>Etapa 2. Monitorar </b></p> <p>A monitoração de segurança envolve métodos ativo e passivo de detecção das violações à segurança. O método ativo mais utilizado é auditar arquivos de log em nível de host. A maioria dos sistemas operacionais inclui funcionalidade de auditoria. Os administradores de sistema devem habilitar o sistema de auditoria em todos os hosts na rede e devem parar para verificar e interpretar as entradas do arquivo de log.</p> <p>Entre os métodos passivos estão a utilização de dispositivos IDS para detectar invasões automaticamente. Esse método requer menos atenção por parte dos administradores de segurança da rede do que os métodos ativos. Esses sistemas podem detectar violações à segurança em tempo real, podendo ser configurados para responder automaticamente antes que um intruso cause algum dano.</p> <p>Um benefício a mais de monitoração da rede é verificar se as medidas de segurança implementadas na etapa 1 do Ciclo de segurança foram configuradas e estão funcionando corretamente.</p> <p><b>Etapa 3. Testar </b></p> <p>Na fase de testes do Ciclo de segurança, as medidas de segurança são testadas de maneira proativa. Especificamente, a funcionalidade das soluções em segurança implementadas na etapa 1 e os métodos de auditoria do sistema e de detecção de invasão implementados na etapa 2 são verificados. Ferramentas de avaliação de vulnerabilidade, como SATAN, Nessus ou Nmap, são úteis para testar as medidas de segurança da rede periodicamente nos níveis de rede e de host.</p> <p><b>Etapa 4. Melhorar </b></p> <p>A fase de melhoria do Ciclo de segurança envolve a análise dos dados coletados durante as fases de monitoração e testes. Essa análise contribui com o desenvolvimento e a implementação de mecanismos de melhoria que aumentam a política de segurança e os resultados ao adicionar itens à etapa 1. Para manter uma rede a mais segura possível, o ciclo de segurança deve ser repetido continuamente, porque novas vulnerabilidades e riscos à rede estão surgindo todos os dias.</p> <p>Com as informações coletadas das fases de monitoração e de testes, os IDSs podem ser utilizados para implementar melhorias à segurança. A política de segurança deve ser ajustada na medida em que novas vulnerabilidades e riscos à segurança são detectados.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404010600">
<title><content-text>A política de segurança corporativa</content-text></title>
<page type="OneColumn" id="tl1404010601">
<content-media type="StaticGraphic" id="cm8624041579">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010600/tl1404010601/cm8624041579.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010600/tl1404010601/cm8624041579text.xml"/></content-media>
<content-text><p><b>O que é uma política de segurança?</b></p> <p>Uma política de segurança é um conjunto de diretrizes determinadas para proteger a rede de ataques, tanto dentro quanto fora de uma empresa. A formação de uma política começa com perguntas. Como a rede ajuda a organização a atingir sua visão, missão e plano estratégico? Que implicações os requisitos da empresa têm sobre a segurança da rede, e como esses requisitos se traduzem na aquisição de equipamento especializado e nas configurações carregadas nos dispositivos?</p> <p>Uma política de segurança beneficia uma organização das seguintes formas:</p> <p><ul><li>Fornece um meio para auditar a segurança de rede existente e comparar os requisitos com o que está implantado.</li><li>Planeje melhorias de segurança, inclusive equipamento, software e procedimentos.</li><li>Define as funções e as responsabilidades dos executivos, administradores e usuários da empresa.</li><li>Define qual comportamento é e qual não é permitido.</li><li>Define um processo para tratar incidentes de segurança na rede.</li><li>Habilita a implementação de segurança global e a aplicação, funcionando como um padrão entre sites.</li><li>Cria uma base para ação legal se necessário.</li></ul></p> <p>Uma política de segurança é um documento vivo, o que significa que ele jamais é concluído, sendo continuamente atualizado conforme os requisitos de tecnologia e de funcionário mudam. Ele funciona como uma ponte entre os objetivos do gerenciamento e os requisitos de segurança específicos.</p></content-text>
</page>
<page type="OneColumn" id="tl1404010602">
<content-media type="StaticGraphic" id="cm5150681169">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010600/tl1404010602/cm5150681169.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010600/tl1404010602/cm5150681169text.xml"/></content-media>
<content-text><p><b>Funções de uma política de segurança</b></p> <p>Uma política de segurança abrangente cumpre estas funções essenciais:</p> <p><ul><li>Protege as pessoas e as informações</li><li>Estabelece as regras para o comportamento esperado por parte de usuários, administradores de sistema e equipes de gerenciamento e segurança</li><li>Autoriza a equipe de segurança a monitorar, testar e investigar</li><li>Define e autoriza as consequências de violações</li></ul></p> <p>A política de segurança é para todos, inclusive funcionários, contratados, fornecedores e clientes que tenham acesso à rede. No entanto, a política de segurança deve tratar cada um desses grupos de maneira diferente. Cada grupo só deve ver a parte da política apropriada ao seu trabalho e a seu nível de acesso à rede. </p> <p>Por exemplo, uma explicação do porquê algo está sendo feito nem sempre é necessária. Você pode supor que a equipe técnica já sabe por que um determinado requisito foi incluído. Não é provável que os gerentes se interessem pelos aspectos técnicos de um requisito específico; eles talvez só queiram uma visão geral ou o princípio que sustenta o requisito. No entanto, quando sabem por que um controle de segurança específico foi incluído, os usuários finais tendem mais a cumprir a política. Por isso, não é provável que um documento atenda às necessidades de todo o público-alvo de uma grande organização. </p></content-text>
</page>
<page type="OneColumn" id="tl1404010603">
<content-media type="InteractiveGraphicHotspots" id="cm5232379145">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010600/tl1404010603/cm5232379145.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010600/tl1404010603/cm5232379145text.xml"/></content-media>
<content-text><p><b>Componentes de uma política de segurança</b></p> <p>O SANS Institute (<content-link target="http://www.sans.org" type="external">http://www.sans.org</content-link>) fornece diretrizes desenvolvidas em acordo com vários líderes do setor, inclusive a Cisco, para desenvolver políticas de segurança abrangentes para grandes e pequenas organizações. Nem todas as organizações precisam de todas essas políticas. </p> <p>Estas são as políticas de segurança gerais que uma organização pode invocar:</p> <p><ul><li><b>Declaração de autoridade e escopo</b> – define quem na organização patrocina a política de segurança, quem é responsável por implementá-la e quais áreas são abrangidas pela política.</li><li><b>Política de utilização aceitável (AUP)</b> – define a utilização aceitável do equipamento e dos serviços de computação, além das medidas de segurança do funcionário apropriadas para proteger recursos corporativos e informações proprietárias.</li><li><b>Identificação e política de autenticação</b> – define quais tecnologias a empresa utiliza para assegurar que apenas pessoal autorizado tenha acesso a seus dados. </li><li><b>Política de acesso à Internet</b> – define o que a empresa irá ou não tolerar em relação à utilização da conectividade com a Internet por funcionários e convidados.</li><li><b>Política de acesso ao campus</b> – define a utilização aceitável dos recursos de tecnologia no campus por funcionários e convidados.</li><li><b>Política de acesso remoto</b> – define como os usuários remotos podem utilizar a infraestrutura de acesso remoto da empresa.</li><li><b>Procedimento de tratamento de incidentes</b> – especifica quem responderá a incidentes de segurança e como com eles serão tratados.</li></ul></p> <p>Além dessas seções de política de segurança principais, entre algumas outras que podem ser necessárias em determinadas organizações estão:</p> <p><ul><li><b>Política de solicitação de acesso à conta</b> – formaliza a conta e o processo de solicitação de acesso dentro da organização. Os usuários e os administradores de sistema que ignoram os processos padrão para solicitações de conta e acesso podem estar sujeitos à ação legal dentro da organização.</li><li><b>Política de avaliação de aquisição</b> – define as responsabilidades referentes a aquisições corporativas e define os requisitos mínimos de uma avaliação de aquisição que o grupo de segurança das informações deve realizar.</li><li><b>Política de auditoria</b> – define políticas de auditoria para assegurar a integridade das informações e dos recursos. Isso inclui um processo para investigar incidentes, assegurar a conformidade em relação às políticas de segurança e monitorar a atividade do usuário e do sistema</li><li><b>Política de importância das informações</b> – define os requisitos para classificar e proteger informações da maneira apropriada segundo o seu nível de importância.</li><li><b>Política de senha</b> – define os padrões para criar, proteger e alterar senhas fortes.</li><li><b>Política de avaliação de risco</b> – define os requisitos e fornece a autoridade para a equipe de segurança da informação identificar, avaliar e solucionar riscos à infraestrutura de informações associada à realização do negócio.</li><li><b>Política de servidor Web global</b> – define os padrões exigidos por todos os hosts da Web.</li></ul></p> <p>Com a ampla utilização do email, uma organização talvez também queira aplicar políticas relacionadas especificamente a email, como:</p> <p><ul><li><b>Política de email encaminhado automaticamente</b> – documenta a política que restringe o encaminhamento automático de email para um destino externo sem aprovação prévia do gerente ou do diretor apropriado.</li><li><b>Política de email</b> – define padrões de conteúdo para impedir a maculação da imagem pública da organização.</li><li><b>Política de spam</b> – define como o spam deve ser informado e tratado.</li></ul></p> <p>Entre as políticas de acesso remoto podem estar:</p> <p><ul><li><b>Política de acesso dial-up</b> – define o acesso dial-up apropriado e sua utilização por pessoal autorizado.</li><li><b>Política de acesso remoto</b> – define os padrões para conexão com a rede da organização de qualquer host ou rede externa com a organização.</li><li><b>Política de segurança VPN</b> – define os requisitos para conexões VPN com a rede da organização.</li></ul></p> <p>É preciso observar que os usuários que desafiem ou violem as regras de uma política de segurança podem estar sujeitos à ação disciplinar, incluindo até mesmo demissão.</p></content-text>
</page>
<page type="FullScreen" id="tl1404010604">
<content-media type="ActivityCustom" id="cm2855826665">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404010000/tl1404010600/tl1404010604/cm2855826665.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404010000/tl1404010600/tl1404010604/cm2855826665text.xml"/></content-media>
<content-text><p>Página de atividade</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1404020000">
<title><content-text>Protegendo roteadores Cisco</content-text></title>
<topic type="" id="tl1404020100">
<title><content-text>Problemas de segurança do roteador</content-text></title>
<page type="OneColumn" id="tl1404020101">
<content-media type="StaticGraphic" id="cm3338631626">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020100/tl1404020101/cm3338631626.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020100/tl1404020101/cm3338631626text.xml"/></content-media>
<content-text><p><b>A função dos roteadores na segurança de rede</b></p> <p>Você sabe que pode criar uma rede local, conectando dispositivos com switches de rede local da Camada 2. Dessa forma, você pode utilizar um roteador para rotear tráfego entre redes diferentes com base em endereços IP da Camada 3. </p> <p>A segurança do roteador é um elemento essencial em qualquer implantação de segurança. Os roteadores são alvos definitivos para os atacantes de rede. Se um atacante conseguir comprometer e acessar um roteador, isso poderá ajudá-lo. A compreensão das funções que os roteadores realizam na rede ajuda a entender suas vulnerabilidades.</p> <p>Os roteadores realizam as seguintes funções:</p> <p><ul><li>Anunciam redes e filtram quem pode utilizá-las.</li><li>Fornecem acesso a segmentos de rede e sub-redes. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1404020102">
<content-media type="StaticGraphic" id="cm6375914784">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020100/tl1404020102/cm6375914784.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020100/tl1404020102/cm6375914784text.xml"/></content-media>
<content-text><p><b>Os roteadores são os alvos</b></p> <p>Como fornecem gateways para outras redes, os roteadores são alvos óbvios, estando sujeitos a vários ataques. Aqui estão alguns exemplos de vários problemas de segurança:</p> <p><ul><li>O comprometimento do controle de acesso pode expor detalhes da configuração de rede, o que facilita ataques a outros componentes da rede.</li><li>O comprometimento das tabelas de rotas pode afetar o desempenho, negar serviços de comunicação da rede e expor dados confidenciais.</li><li>A configuração incorreta de um <content-link target="{EA3669E0-11A9-4DBE-94B2-350BB62B299F}" type="glossary">filtro</content-link> de tráfego de roteador pode expor componentes internos da rede a verificações e ataques, o que facilita para os atacantes evitar a detecção.</li></ul></p> <p>Como os atacantes podem comprometer roteadores de formas diferentes, não há nenhuma abordagem única que os administradores de rede possam utilizar para combatê-los. As formas de comprometimento dos roteadores são semelhantes aos tipos de ataques que você aprendeu anteriormente neste capítulo, inclusive ataques de exploração de confiança, <content-link target="{459471E1-347C-4DE5-B94A-1871CC809919}" type="glossary">falsificação</content-link> IP, captura de sessão e ataques MITM.</p> <p><b>Nota:</b> esta seção aborda como proteger roteadores. A maioria das práticas recomendadas discutidas também pode ser utilizada para proteger switches. No entanto, esta seção não aborda ameaças da Camada 2, como <content-link target="{C466E509-8B18-41A4-ABA9-8E5ADD9ADB49}" type="glossary">endereço MAC</content-link> com ataques de <content-link target="{64998211-9AE3-4C1B-9B1D-1E8EB818B9A8}" type="glossary">inundação</content-link> e STP, porque eles são abordados no CCNA Exploration: Comutação de rede local e rede sem fio.</p></content-text>
</page>
<page type="OneColumn" id="tl1404020103">
<content-media type="StaticGraphic" id="cm1011888496">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020100/tl1404020103/cm1011888496.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020100/tl1404020103/cm1011888496text.xml"/></content-media>
<content-text><p><b>Protegendo a sua rede</b></p> <p>Proteger os roteadores no perímetro da rede é uma etapa inicial importante na proteção da rede.</p> <p>Pense na segurança do roteador segundo estas categorias: </p> <p><ul><li>Segurança física</li><li>Atualizar o IOS do roteador sempre que isso for aconselhável</li><li>Fazer o backup da configuração e do IOS do roteador</li><li>Reforçar o roteador para eliminar o abuso potencial de portas e serviços não utilizados </li></ul></p> <p>Para fornecer segurança física, coloque o roteador em um sala trancada, acessível apenas a pessoal autorizado. Está sala também não deve apresentar qualquer interferência eletrostática ou magnética e ter controles de temperatura e umidade. Para reduzir a possibilidade de DoS devido a uma falta de energia, instale um <content-link target="{CF6D87F7-670F-49F2-887B-FB85D3898C57}" type="glossary">UPS</content-link> e mantenha componentes sobressalentes à disposição. </p> <p>Os dispositivos físicos utilizados na conexão com o roteador devem ser armazenados em uma instalação bloqueada ou devem permanecer em posse de um indivíduo confiável para que não sejam comprometidos. Um dispositivo livremente à disposição pode ter cavalos-de-Troia ou outro tipo de arquivo executável armazenados.</p> <p>Provisione o roteador com a quantidade de memória máxima possível. A disponibilidade de memória pode ajudar na proteção contra alguns ataques DoS, ao mesmo tempo em que dá suporte a vários serviços de segurança.</p> <p>Os recursos de segurança em um sistema operacional evoluem com o passar do tempo. No entanto, a versão mais recente de um sistema operacional talvez não seja a mais estável disponível. Para obter o melhor desempenho em termos de segurança do seu sistema operacional, utilize o release estável mais recente que atenda aos requisitos de recursos da sua rede. </p> <p>Sempre tenha uma cópia de backup de uma configuração e do IOS disponível em caso de falha de um roteador. Mantenha uma cópia segura da imagem do sistema operacional do roteador e do arquivo de configuração do roteador em um servidor <content-link target="{7E2130AA-5FC7-4CEE-A0E2-4277EB748ACA}" type="glossary">TFTP</content-link> para fins de backup.</p> <p>Proteja o roteador para torná-lo o mais seguro possível. Um roteador tem muitos serviços habilitados por padrão. Muitos desses serviços são desnecessários e talvez sejam utilizados por um atacante na coleta de informações ou na exploração. Você deve proteger a configuração do seu roteador, desabilitando serviços desnecessários.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404020200">
<title><content-text>Aplicando recursos de segurança do IOS Cisco a roteadores</content-text></title>
<page type="OneColumn" id="tl1404020201">
<content-media type="StaticGraphic" id="cm8058167910">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020200/tl1404020201/cm8058167910.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020200/tl1404020201/cm8058167910text.xml"/></content-media>
<content-text><p>Para configurar recursos de segurança em um roteador, você precisa de um plano para todas as etapas de configuração da segurança do IOS Cisco.</p> <p>A figura mostra as etapas para proteger um roteador. As cinco primeiras etapas são abordadas neste capítulo. Embora sejam discutidas no próximo capítulo, as listas de controle de acesso (ACLs) formam uma tecnologia essencial, devendo ser configuradas para controlar e filtrar o tráfego da rede.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404020300">
<title><content-text>Gerenciar a segurança do roteador</content-text></title>
<page type="OneColumn" id="tl1404020301">
<content-media type="StaticGraphic" id="cm3823214629">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020300/tl1404020301/cm3823214629.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020300/tl1404020301/cm3823214629text.xml"/></content-media>
<content-text><p>A segurança básica do roteador consiste em configurar senhas. Uma senha forte é o elemento mais importante no controle do acesso seguro a um roteador. Por essa razão, senhas fortes devem ser configuradas sempre.</p> <p>Entre as boas práticas de senha estão as seguintes:</p> <p><ul><li>Não anote e deixe as senhas em locais óbvios, como sua mesa ou em seu monitor.</li><li>Evite palavras de dicionários, nomes, números de telefone e datas. A utilização de palavras de dicionários torna as senhas vulneráveis a ataques de dicionário. </li><li>Combine letras, números e símbolos. Inclua pelo menos uma letra minúscula, uma letra maiúscula, um dígito e um caracter especial.</li><li>Escreva incorretamente uma palavra em uma senha de maneira deliberada. Por exemplo, <b>Smith</b> pode ser escrito <b>Smyth</b> ou também incluir números, como <b>5mYth</b>. Outro exemplo pode ser <b>Security</b> escrito como <b>5ecur1ty</b>.</li><li>Crie senhas extensas. A prática recomendada é ter pelo menos oito caracteres. Você pode aplicar o tamanho mínimo utilizando um recurso disponível em roteadores Cisco, discutido posteriormente neste tópico. </li><li>Altere as senhas com a maior frequência possível. Você deve ter uma política que defina quando e com que frequência as senhas devem ser alteradas. A alteração frequente de senhas tem duas vantagens. Essa prática limita a chance de um hacker conseguir quebrar uma senha e limita a exposição depois que uma senha foi comprometida.</li></ul></p>  <p><b>Nota:</b> os espaços à esquerda da senha são ignorados, mas todos os espaços após o primeiro caractere, não. </p> <p><b>Frases de acesso</b></p> <p>Um método recomendado para a criação de senhas complexas fortes é utilizar frases de acesso. Uma frase de acesso é, basicamente, uma oração ou frase que funciona como uma senha mais segura. Tenha certeza de que a frase seja grande o suficiente para dificilmente ser adivinhada, mas fácil o bastante para ser lembrada e digitada com precisão.</p> <p>Utilize uma oração, uma citação de um livro ou uma letra de música da qual você consiga se lembrar facilmente como base para a sua senha ou frase de acesso. A figura fornece exemplos de frases de acesso. </p></content-text>
</page>
<page type="OneColumn" id="tl1404020302">
<content-media type="StaticGraphic" id="cm7222243846">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020300/tl1404020302/cm7222243846.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020300/tl1404020302/cm7222243846text.xml"/></content-media>
<content-text><p>Por padrão, o software IOS Cisco deixa senhas em texto sem formatação quando elas são digitadas em um roteador. Isso não é seguro porque qualquer pessoa que esteja passando atrás de você enquanto estiver observando a configuração de um roteador pode olhar por cima do seu ombro e ver a senha. </p> <p>A utilização dos comandos <span class="cmd"><b>enable password</b></span> ou <span class="cmd"><b>username </b><i>username</i><b> password </b><i>password</i></span> resultaria na exibição dessas palavras-chave durante a observação da configuração em execução. </p> <p>Por exemplo:</p> <span class="cmd"><p>R1(config)# <b>username Student password cisco123</b></p></span> <span class="cmd"><p>R1(config)# <b>do show run | include username</b></p></span> <span class="cmd"><p>username Student password 0 cisco123</p></span> <span class="cmd"><p>R1(config)#</p></span> <p>O <span class="cmd"><b>0</b></span> exibido na configuração em execução indica que a senha não está oculta. </p> <p>Por essa razão, todas as senhas devem ser criptografadas em um arquivo de configuração. O IOS Cisco fornece dois esquemas para proteção de senha:</p> <p><ul><li>Criptografia simples chamada esquema tipo 7. Ela utiliza o algoritmo de criptografia definido pela Cisco e ocultará a senha utilizando um algoritmo de criptografia simples. </li><li>Criptografia complexa chamada esquema tipo 5. Ela utiliza um hash MD5 mais seguro. </li></ul></p> <p>A criptografia tipo 7 pode ser utilizada pelos comandos <span class="cmd"><b>enable password</b></span>, <span class="cmd"><b>username</b></span> e <span class="cmd"><b>line password</b></span> que incluem vty, console  e porta auxiliar. Ela não oferece muita proteção porque só oculta a senha que utiliza um algoritmo de criptografia simples. Embora não seja tão segura quanto a criptografia tipo 5, ela ainda é melhor que não ter criptografia. </p> <p>Para criptografar senhas utilizando a criptografia tipo 7, utilize o comando de configuração global <span class="cmd"><b>service password-encryption</b></span> conforme exibido na figura. Esse comando impede que senhas exibidas na tela sejam legíveis. </p> <p>Por exemplo:</p> <span class="cmd"><p>R1(config)#<b> service password-encryption</b></p></span> <span class="cmd"><p>R1(config)# <b>do show run | include username</b></p></span> <span class="cmd"><p>username Student password 7 03075218050061</p></span> <span class="cmd"><p>R1(config)#</p></span>  <p>O <span class="cmd"><b>7</b></span> exibido na configuração em execução indica que a senha está oculta. Na figura, você pode ver que a senha da linha console agora está oculta.</p> <p><b>Clique no botão Configurar senha na figura.</b></p> <p>A Cisco recomenda que a criptografia Tipo 5 seja utilizada em lugar da Tipo 7 sempre que possível. A criptografia MD5 é um método de criptografia forte. Ela deve ser utilizada sempre que possível. Ela é configurada, substituindo-se a palavra-chave <span class="cmd"><b>password</b></span> por <span class="cmd"><b>secret</b></span>.</p> <p>Por isso, para proteger o nível EXEC privilegiado o máximo possível, sempre configure o comando <span class="cmd"><b>enable secret</b></span> conforme mostrado na figura. Também tenha certeza de que a enable secret seja exclusiva e de que não corresponda a nenhuma outra senha de usuário. </p> <p> </p> <p>Um roteador sempre utilizará a enable secret sem detrimento da enable password. Por essa razão, o comando <span class="cmd"><b>enable password</b></span> jamais deve ser configurado, porque pode fornecer a senha de um sistema. </p> <p><b>Nota:</b> se você se esquecer da senha do modo EXEC privilegiado, será preciso executar o procedimento de recuperação de senha. Esse procedimento será abordado posteriormente neste capítulo. </p> <p>Os nomes de usuário do banco de dados local também devem ser configurados utilizando-se o comando de configuração global <span class="cmd"><b>username </b><i>username</i><b> secret </b><i>password</i></span>. Por exemplo:</p> <span class="cmd"><p>R1(config)# <b>username Student secret cisco</b></p></span> <span class="cmd"><p>R1(config)# <b>do show run | include username</b></p></span> <span class="cmd"><p>username Student secret 5 $1$z245$lVSTJzuYgdQDJiacwP2Tv/</p></span> <span class="cmd"><p>R1(config)#</p></span> <p><b>Nota:</b> alguns processos talvez não possam utilizar senhas criptografadas tipo 5. Por exemplo, PAP utiliza senhas de texto não criptografado, não podendo utilizar senhas criptografadas MD5. </p> <p><b>Clique no botão Tamanho da senha na figura.</b></p> <p>O software IOS Cisco release 12.3(1) e posteriores permitem aos administradores definir o tamanho mínimo em caracteres para todas as senhas do roteador utilizando o comando de configuração global <span class="cmd"><b>security passwords min-length</b></span>, conforme mostrado na figura. Esse comando fornece melhor acesso de segurança ao roteador, permitindo especificar um tamanho de senha mínimo, eliminando senhas comuns que prevaleçam na maioria das redes, como "laboratório" e "cisco". </p> <p>Esse comando afeta todas as novas senha de usuário, senhas de habilitar e segredos, além de senhas da linha criadas depois que o comando foi executado. O comando não afeta senhas de roteador existentes.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404020400">
<title><content-text>Protegendo o acesso administrativo remoto a roteadores</content-text></title>
<page type="OneColumn" id="tl1404020401">
<content-media type="StaticGraphic" id="cm1450863788">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020400/tl1404020401/cm1450863788.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020400/tl1404020401/cm1450863788text.xml"/></content-media>
<content-text><p><b>Protegendo o acesso administrativo a roteadores</b></p> <p>Os administradores de rede podem se conectar local ou remotamente a um roteador ou switch. Por ser seguro, o acesso local pela porta console é o modo preferencial para um administrador se conectar a um dispositivo. Na medida em que as empresas ficam maiores e o número de roteadores e switches na rede cresce, a carga de trabalho do administrador para se conectar localmente a todos os dispositivos pode se tornar excessiva. </p>  <p>O acesso administrativo remoto é mais prático do que o acesso local para administradores que tenham muitos dispositivos para gerenciar. No entanto, se ele não for implementado com segurança, um atacante poderá coletar informações confidenciais importantes. Por exemplo, a implementação do acesso administrativo remoto utilizando <content-link target="{7D425FA9-6AB1-4533-BDDE-C464A5411AB4}" type="glossary">Telnet</content-link> pode ser muito insegura porque Telnet encaminha todo o tráfego de rede em texto não criptografado. Um atacante poderia capturar o tráfego da rede enquanto um administrador tivesse feito login remotamente em um roteador e detectar as senhas ou as informações de configuração do roteador. Por isso, o acesso administrativo remoto deve ser configurado com precauções de segurança adicionais. </p>  <p>Para proteger o acesso administrativo a roteadores e switches, primeiro você protegerá as linhas administrativas (VTY, AUX) e, em seguida, configurará o dispositivo de rede para criptografar o tráfego em um túnel SSH.</p></content-text>
</page>
<page type="OneColumn" id="tl1404020402">
<content-media type="StaticGraphic" id="cm1943272066">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020400/tl1404020402/cm1943272066.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020400/tl1404020402/cm1943272066text.xml"/></content-media>
<content-text><p><b>Acesso administrativo remoto com Telnet e SSH</b></p> <p>Ter acesso remoto a dispositivos de rede é essencial para gerenciar uma rede de maneira efetiva. O acesso remoto normalmente envolve a permissão de Telnet, Shell Seguro (SSH), HTTP, HTTP Seguro (HTTPS) ou conexões SNMP no roteador em um computador nas mesmas redes interconectadas do roteador. </p> <p>Se o acesso remoto for obrigatório, as suas opções serão as seguintes:</p> <p><ul><li>Estabelecer uma rede de gerenciamento dedicada. A rede de gerenciamento deve incluir apenas hosts de administração identificados e conexões com dispositivos de infraestrutura. Isso poderia ser obtido utilizando-se uma VLAN de gerenciamento ou uma rede física adicional à qual conectar os dispositivos.</li><li>Criptografar todo o tráfego entre o computador do administrador e o roteador. Em qualquer um dos casos, um filtro de pacote pode ser configurado para permitir apenas os hosts de administração identificados e o protocolo para acessar o roteador. Por exemplo, só permita o endereço IP do host de administração iniciar uma conexão SSH com os roteadores na rede. </li></ul></p> <p>O acesso remoto não se aplica apenas à linha VTY do roteador, mas também às linhas TTY e à porta auxiliar (AUX). As linhas TTY fornecem acesso assíncrono a um roteador utilizando um modem. Embora sejam menos comuns do que já foram, elas ainda existem em algumas instalações. Proteger essas portas é até mesmo mais importante do que proteger portas de terminal locais.</p> <p>A melhor forma de proteger um sistema é assegurar que sejam aplicados controles apropriados a todas as linhas, inclusive VTY, TTY e AUX. </p> <p>Os administradores devem ter certeza de que os logins em todas as linhas sejam controlados utilizando um mecanismo de autenticação, mesmo em máquinas teoricamente inacessíveis em redes não confiáveis. Isso é especialmente importante para linhas VTY e linhas conectadas a modems ou outros dispositivos de acesso remoto.</p> <p>Os logins podem ser totalmente evitados em qualquer linha, configurando-se o roteador com os comandos <span class="cmd"><b>login</b></span> e <span class="cmd"><b>no password</b></span>. Essa é a configuração padrão para VTYs, mas não para TTYs e a porta AUX. Por isso, se essas linhas não forem obrigatórias, assegure-se de que elas sejam configuradas com a combinação de comandos <span class="cmd"><b>login</b></span> e <span class="cmd"><b>no password</b></span>.</p> <p><b>Clique no botão Impedir logins para exibir um exemplo.</b></p> <p><b>Controlando VTYs</b> </p> <p>Por padrão, todas as linhas VTY são configuradas para aceitar qualquer tipo de conexão remota. Por razões de segurança, as linhas VTY devem ser configuradas para aceitar apenas as conexões com os protocolos efetivamente necessários. Isso é feito com o comando <span class="cmd"><b>transport input</b></span>. Por exemplo, uma VTY que só deve receber sessões Telnet seria configurada com <span class="cmd"><b>transport input telnet</b></span> e uma VTY que permitisse sessões Telnet e SSH teria <span class="cmd"><b>transport input telnet ssh</b></span> configurado. </p> <p><b>Clique no botão Acesso VTY na figura.</b></p> <p>O primeiro exemplo de configuração exibe como configurar a VTY para aceitar apenas as conexões Telnet e SSH, e o segundo exemplo exibe como configurar a VTY para aceitar apenas conexões SSH. Se a imagem do IOS Cisco em um roteador der suporte a SSH, será altamente recomendável habilitar apenas esse protocolo. </p> <p>Um dispositivo Cisco tem um número limitado de linhas VTY, normalmente cinco. Quando todas as VTYs estiverem em uso, mais nenhuma conexão remota adicional poderá ser estabelecida. Isso cria a oportunidade para um ataque DoS. Se um atacante conseguir abrir sessões remotas em todas as VTYs do sistema, o administrador legítimo talvez não consiga fazer login. O atacante não precisa fazer login para conseguir isso. As sessões podem ser simplesmente abandonadas no prompt de login.</p> <p>Uma forma de reduzir essa exposição é configurando a última linha VTY para aceitar conexões apenas de uma única estação de trabalho administrativa específica, enquanto as demais VTYs podem aceitar conexões de qualquer endereço em uma rede corporativa. Isso assegura que pelo menos uma linha VTY esteja disponível para o administrador. Para implementar isso, as ACLs, com o comando <span class="cmd"><b>ip access-class</b></span> na última linha VTY, devem ser configuradas. Essa implementação é abordada no Capítulo 5.</p> <p>Outra tática útil é configurar timeouts VTY utilizando o comando <span class="cmd"><b>exec-timeout</b></span>. Isso impede uma sessão ociosa de consumir a VTY indefinidamente. Embora sua efetividade contra ataques deliberados seja relativamente limitada, ela fornece alguma proteção contra sessões abandonadas ociosas acidentalmente. Da mesma forma, habilitar keepalives TCP em conexões de entrada utilizando o comando <span class="cmd"><b>service tcp-keepalives-in</b></span> pode ajudar na proteção contra ataques maliciosos e sessões abandonadas causadas por falhas em sistemas remotos.</p> <p><b>Clique no botão VTY protegido na figura.</b></p> <p>A configuração exibe como definir o executive timeout como 3 minutos e habilitar keepalives TCP.</p></content-text>
</page>
<page type="OneColumn" id="tl1404020403">
<content-media type="StaticGraphic" id="cm2351205750">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020400/tl1404020403/cm2351205750.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020400/tl1404020403/cm2351205750text.xml"/></content-media>
<content-text><p><b>Implementando SSH em acesso administrativo remoto seguro</b></p> <p>Tradicionalmente, o acesso administrativo remoto em roteadores era configurado utilizando-se Telnet na porta TCP 23. No entanto, o Telnet foi desenvolvido quando a segurança não era um problema. Por essa razão, todo o tráfego Telnet é encaminhado em texto claro. </p> <p>O SSH substituiu o Telnet como a prática recomendada para fornecer à administração do roteador com conexões que dão suporte à privacidade forte e à integridade da sessão. O SSH utiliza a porta TCP 22. Ele fornece funcionalidade semelhante à de uma conexão Telnet de saída, exceto pela conexão ser criptografada. Com autenticação e criptografia, o SSH permite uma comunicação segura em uma rede não segura. </p> <p>Nem todas as imagens do IOS Cisco dão suporte ao SSH. Somente imagens criptográficas podem. Normalmente, essas imagens têm IDs de imagem k8 ou k9 em seus nomes. Os nomes de imagem são abordados na Seção 5.</p> <p>O recurso de acesso à linha de terminal SSH permite aos administradores configurar roteadores com acesso seguro e executar as seguintes tarefas:</p> <p><ul><li>Conecte-se a um roteador que tenha várias linhas de terminal conectadas a consoles ou portas seriais de outros roteadores, switches e dispositivos.</li><li>Simplifique a conectividade com um roteador em qualquer lugar, conectando-se com segurança ao <content-link target="{1CE24246-9835-493E-B836-4DC2AE8AC830}" type="glossary">servidor de terminal</content-link> em uma determinada linha.</li><li>Permita que modems conectados a roteadores sejam utilizados em discagens com segurança.</li><li>Exija autenticação em todas as linhas por meio de um nome de usuário e senha definidos localmente, ou um servidor de segurança, como um servidor TACACS+ ou RADIUS.</li></ul></p> <p>Os roteadores Cisco são capazes de agir como o cliente e o servidor SSH. Por padrão, essas duas funções são habilitadas no roteador quando o SSH é habilitado. Como cliente, um roteador pode executar SSH em outro roteador. Como servidor, um roteador pode aceitar conexões clientes SSH.</p></content-text>
</page>
<page type="OneColumn" id="tl1404020404">
<content-media type="StaticGraphic" id="cm1466697678">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020400/tl1404020404/cm1466697678.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020400/tl1404020404/cm1466697678text.xml"/></content-media>
<content-text><p><b>Configurando a segurança SSH</b></p> <p>Para habilitar o SSH no roteador, os seguintes parâmetros devem ser configurados:</p> <p><ul><li>Hostname</li><li>Nome de <content-link target="{758DDF42-9791-44C9-8551-D0F22503124E}" type="glossary">domínio</content-link></li><li>Chaves assimétricas (Asymmetrical keys)</li><li>Autenticação local (Local authentication)</li></ul></p> <p>Entre os parâmetros de configuração opcionais estão:</p> <p><ul><li>Timeouts</li><li>Novas tentativas (Retries)</li></ul></p> <p>As seguintes etapas configuram o SSH em um roteador. </p> <p><b>Etapa 1: Definir parâmetros do roteador</b></p> <p>Configure o hostname do roteador com o comando <span class="cmd"><b>hostname </b><i>hostname</i></span> no modo de configuração global. </p> <p><b>Etapa 2: Definir o nome de domínio</b></p> <p>Deve haver um nome de domínio para habilitar o SSH. Neste exemplo, digite o comando <span class="cmd"><b>ip domain-name</b></span> no modo de configuração global.</p> <p><b>Etapa 3: Gerar chaves assimétricas</b></p> <p>Você precisa criar uma chave que o roteador utilize para criptografar o seu tráfego de gerenciamento SSH com o comando <span class="cmd"><b>crypto key </b><i>generate rsa</i></span> no modo de configuração global. O roteador responde com uma mensagem que mostra a convenção de nomenclatura para as chaves. Escolha o tamanho do módulo da chave no intervalo entre 360 e 2.048 para as suas Chaves de finalidade geral. Escolher um módulo de chave maior que 512 pode demorar alguns minutos. Como prática recomendada, a Cisco recomenda a utilização de um tamanho de módulo mínimo de 1.024. Você deve saber que um módulo maior demora mais para ser gerado e utilizado, embora ofereça maior segurança. </p>  <p>Você pode obter mais informações sobre o comando <span class="cmd"><b>crypto key</b></span> no curso Segurança de rede. </p> <p><b>Etapa 4: Configurar autenticação local e vty</b></p> <p>Você deve definir um usuário local e atribuir uma comunicação SSH a linhas vty conforme mostrado na figura.</p> <p><b>Etapa 5: Configurar timeouts SSH (opcional)</b></p> <p>Os timeouts fornecem segurança adicional à conexão, encerrando conexões prolongadas, inativas. Utilize os comandos <span class="cmd"><b>ip ssh time-out </b><i>seconds</i></span> e <span class="cmd"><b>authentication-retries </b><i>integer</i></span> para habilitar timeouts e novas tentativas de autenticação. Defina o timeout SSH como 15 segundos e o número de novas tentativas como 2. </p>  <p>Para se conectar a um roteador configurado com SSH, você precisa utilizar um aplicativo cliente SSH, como PuTTY ou TeraTerm. Você deve ter certeza para escolher a opção SSH e de que ela utiliza a porta TCP 22. </p> <p><b>Clique no botão Utilizar SSH na figura.</b> </p> <p>Utilizando o TeraTerm para se conectar com segurança ao roteador R2 com SSH, depois que a conexão é iniciada, R2 exibe um prompt do nome de usuário, seguido por um prompt de senha. Supondo que as credenciais corretas sejam fornecidas, o TeraTerm exibe o prompt do modo EXEC usuário do roteador R2. </p></content-text>
</page>
<page type="FullScreen" id="tl1404020405">
<content-media type="ActivityCustom" id="cm2570468368">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020400/tl1404020405/cm2570468368.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020400/tl1404020405/cm2570468368text.xml"/></content-media>
<content-text><p>Atividade de memória flash complexa</p></content-text>
</page>
</topic>
<topic type="" id="tl1404020500">
<title><content-text>Registrando a atividade do roteador em log</content-text></title>
<page type="OneColumn" id="tl1404020501">
<content-media type="StaticGraphic" id="cm4161074173">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404020000/tl1404020500/tl1404020501/cm4161074173.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404020000/tl1404020500/tl1404020501/cm4161074173text.xml"/></content-media>
<content-text><p>Os logs permitem verificar se um roteador está funcionando corretamente ou determinar se ele foi comprometido. Em alguns casos, um log pode mostrar os tipos de testes ou de ataques feitos contra o roteador ou à rede protegida.</p> <p>A configuração do registro em log (syslog) no roteador deve ser feita cuidadosamente. Envie os logs do roteador para um host de log designado. O host de log deve ser conectado a uma rede confiável ou protegida ou à interface de um roteador isolada e dedicada. Proteja o host de log, removendo todos os serviços desnecessários e contas. Roteadores oferecem suporte a níveis diferentes de registro em log. Os oito níveis vão de 0, emergências que indicam que o sistema está instável, a 7 para depurar mensagens que incluam todas as informações sobre o roteador. </p> <p>Os logs podem ser encaminhados para vários locais, inclusive a memória do roteador ou um servidor de syslog dedicado. Um servidor de syslog fornece uma solução melhor, porque todos os dispositivos de rede podem encaminhar seus logs para uma estação central na qual um administrador possa examiná-los. Um exemplo de um aplicativo para servidores de syslog é o Kiwi Syslog Daemon.</p> <p>Também considere o envio dos logs para um segundo dispositivo de armazenamento, por exemplo, uma mídia de gravação única ou uma impressora dedicada, para lidar com cenários de pior caso (por exemplo, um comprometimento do host de log).</p> <p>A coisa mais importante a ser lembrada sobre o registro em log é que os logs devem ser examinados regularmente. Verificando os logs regularmente, você pode ter a sensação do comportamento normal da sua rede. Uma sólida compreensão da operação normal e de seu reflexo nos logs ajuda a identificar condições de ataque ou anormalias.</p> <p>Registros de data e hora precisos são importantes no registro em log. Registros de data e hora permitem rastrear ataques à rede com mais credibilidade. Todos os roteadores são capazes de manter seu próprio horário, mas isso normalmente não basta. Em vez de fazer isso, direcione o roteador para pelo menos dois servidores de horário confiáveis diferentes para assegurar a disponibilidade das informações sobre isso. Um servidor Network Time Protocol (NTP) talvez precise ser configurado para fornecer uma origem de horário sincronizado para todos os dispositivos. A configuração dessa opção está além do escopo deste curso.</p> <p>Por exemplo:</p> <span class="cmd"><p>R2(config)#<b>service timestamps ?</b></p></span> <span class="cmd"><p> debug Timestamp debug messages</p></span> <span class="cmd"><p> log Timestamp log messages</p></span> <span class="cmd"><p> &lt;cr></p></span> <span class="cmd"><p>R2(config)#<b>service timestamps</b></p></span> <p>Posteriormente neste capítulo você obterá informações sobre o comando <span class="cmd"><b>debug</b></span>. A saída do comando <span class="cmd"><b>debug</b></span> também pode ser enviada para logs.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1404030000">
<title><content-text>Serviços de rede do roteador seguros</content-text></title>
<topic type="" id="tl1404030100">
<title><content-text>Serviços e interfaces vulneráveis do roteador</content-text></title>
<page type="OneColumn" id="tl1404030101">
<content-media type="StaticGraphic" id="cm4349037586">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030100/tl1404030101/cm4349037586.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030100/tl1404030101/cm4349037586text.xml"/></content-media>
<content-text><p><b>Serviços e interfaces vulneráveis do roteador</b></p> <p>Os roteadores Cisco dão suporte a vários serviços de rede nas camadas 2, 3, 4 e 7, conforme a descrição na figura. Alguns desses serviços são os protocolos da <content-link target="{4A139CBC-C35A-4DF4-870A-2D8247C8B763}" type="glossary">camada de aplicativo</content-link> que permitem aos usuários e aos processos do host se conectar ao roteador. Outros são configurações e processos automáticos que devem dar suporte a configurações herdadas ou especializadas que ofereçam riscos à segurança. Alguns desses serviços podem ser restringidos ou desabilitados para aumentar a segurança sem diminuir a utilização operacional do roteador. A prática de segurança geral para roteadores deve ser utilizada para dar suporte apenas ao tráfego e aos protocolos de que uma rede precisa. </p> <p>A maioria dos serviços listados nesta seção não é obrigatória normalmente. A tabela na figura descreve os serviços gerais vulneráveis de roteador  e lista as práticas recomendadas associadas a esses serviços. </p> <p>A desativação de um serviço de rede no próprio roteador não o impede de dar suporte a uma rede na qual esse protocolo é empregado. Por exemplo, uma rede pode exigir serviços TFTP para fazer backup dos arquivos de configuração e das imagens do IOS. Esse serviço costuma ser fornecido por um servidor TFTP dedicado. Em certas instâncias, um roteador também poderia ser configurado como um servidor TFTP. No entanto, isso é muito incomum. Por isso, na maioria dos casos, o serviço TFTP no roteador deve ser desabilitado.</p> <p>Em muitos casos, o software IOS Cisco dá suporte à desativação completa de um serviço ou à restrição do acesso a determinados segmentos de rede ou a conjuntos de hosts. Se uma porção específica de uma rede precisar de um serviço, mas o resto não, os recursos de restrição deverão ser empregados para limitar o escopo do serviço.</p> <p>A desativação de um recurso de rede automático normalmente impede um determinado tipo de tráfego de rede de ser processado pelo roteador, ou o impede de atravessar o roteador. Por exemplo, o roteamento de origem IP é um recurso IP pouco utilizado que pode ser utilizado em ataques à rede. A menos que seja obrigatório à operação da rede, o roteamento de origem IP deve ser desabilitado.</p> <p><b>Nota:</b> o CDP é aproveitado em algumas implementações de telefonia IP. Isso precisa ser considerado antes da ampla desabilitação do serviço.</p></content-text>
</page>
<page type="OneColumn" id="tl1404030102">
<content-media type="StaticGraphic" id="cm6392680869">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030100/tl1404030102/cm6392680869.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030100/tl1404030102/cm6392680869text.xml"/></content-media>
<content-text><p>Há vários comandos obrigatórios para desabilitar serviços. A saída do comando <span class="cmd"><b>show running-config</b></span> na figura fornece uma configuração de exemplo de vários serviços que foram desabilitados. </p> <p> </p> <p>Os serviços que normalmente devem ser desabilitados estão listados abaixo. São alguns deles: </p> <p><ul><li>Serviços pequenos, como echo, discard e chargen – utilize o comando <span class="cmd"><b>no service tcp-small-servers</b></span> ou <span class="cmd"><b>no service udp-small-servers</b></span>.</li><li><content-link target="{7B7069EE-B0A5-4E91-8A8E-6172DF15C3BD}" type="glossary">BOOTP</content-link> – utilize o comando <span class="cmd"><b>no ip bootp server</b></span>.</li><li>Finger – utilize o comando <span class="cmd"><b>no service finger</b></span>.</li><li>HTTP – utilize o comando <span class="cmd"><b>no ip http server</b></span>.</li><li>SNMP – utilize o comando <span class="cmd"><b>no snmp-server</b></span>. </li></ul></p> <p>Também é importante desabilitar serviços que permitam a determinados pacotes passar pelo roteador, enviar pacotes especiais ou serem utilizados na configuração do roteador remoto. Os comandos correspondentes para desabilitar esses serviços são:</p> <p><ul><li>Protocolo de detecção da Cisco (<content-link target="{3CD61258-D6EA-4D00-B1D5-B772ED959841}" type="glossary">CDP</content-link>, Cisco Discovery Protocol) – utilize o comando <span class="cmd"><b>no cdp run</b></span>. </li><li>Configuração remota – utilize o comando <span class="cmd"><b>no service config</b></span>. </li><li>Roteamento de origem – utilize o comando <span class="cmd"><b>no ip source-route</b></span>. </li><li>Roteamento classless – utilize o comando <span class="cmd"><b>no ip classless</b></span>. </li></ul></p> <p>As interfaces no roteador podem ficar mais seguras utilizando-se determinados comandos no modo de configuração de interface:</p> <p><ul><li>Interfaces não utilizadas – utilize o comando <span class="cmd"><b>shutdown</b></span>. </li><li>Negar ataques SMURF – utilize o comando <span class="cmd"><b>no ip directed-broadcast</b></span>. </li><li>Roteamento <content-link target="{CF8021B6-9CDA-48C3-B5D3-11514CC967F8}" type="glossary">ad hoc</content-link> – utilize o comando <span class="cmd"><b>no ip proxy-arp</b></span>.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1404030103">
<content-media type="StaticGraphic" id="cm1546030766">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030100/tl1404030103/cm1546030766.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030100/tl1404030103/cm1546030766text.xml"/></content-media>
<content-text><p><b>Vulnerabilidades SNMP, NTP e DNS</b></p> <p>A figura descreve três serviços de gerenciamento que também devem ser protegidos. Os métodos para desabilitar ou ajustar as configurações desses serviços estão além do escopo deste curso. Esses serviços são abordados no curso CCNP: Implementação de redes remotas convergidas seguras. </p> <p> </p> <p>As descrições e as diretrizes para proteger esses serviços estão listadas abaixo.</p> <p><b>SNMP</b></p> <p>SNMP é o protocolo IP para monitoração remota automatizada e administração. Há várias versões do SNMP com propriedades de segurança diferentes. As versões do SNMP anteriores à versão 3 transmitem informações em texto não criptografado. Normalmente, o SNMP versão 3 deve ser utilizado.</p> <p><b><content-link target="{5E79EE83-C763-47BB-BC1C-8C97D156F5E6}" type="glossary">NTP</content-link></b></p> <p>Os roteadores Cisco e os demais hosts utilizam o NTP para manter seus horários e datas precisos. Se possível, os administradores de rede devem configurar todos os roteadores como parte de uma hierarquia NTP, o que torna um roteador o temporizador mestre e fornece seu horário para os demais roteadores na rede. Se uma hierarquia NTP não estiver disponível na rede, você deverá desabilitar o NTP.</p> <p>A desabilitação do NTP em uma interface não impede as mensagens NTP de atravessar o roteador. Para rejeitar todas as mensagens NTP em uma determinada interface, utilize uma lista de acesso.</p> <p><b>DNS</b></p> <p>O software IOS Cisco dá suporte à procura de nomes de host com o Sistema de Nome de Domínio (DNS). O DNS fornece o mapeamento entre nomes, como central.mydomain.com para endereços IP, como 14.2.9.250. </p> <p>Infelizmente, o protocolo DNS básico não oferece nenhuma autenticação ou garantia de integridade. Por padrão, as consultas de nome são enviadas para o endereço de broadcast 255.255.255.255.</p> <p>Se um ou mais <content-link target="{92C2FFDF-A74E-42B5-963D-937071CC87ED}" type="glossary">servidores de nomes</content-link> estiverem disponíveis na rede e for desejável utilizar nomes em comandos do IOS Cisco, defina explicitamente os endereços do servidor de nome utilizando o comando de configuração global <span class="cmd"><b>ip name-server </b><i>addresses</i></span>. Do contrário, desative a resolução de nome DNS com o comando <span class="cmd"><b>no ip domain-lookup</b></span>. Também é uma ideia boa dar um nome ao roteador, utilizando o comando <span class="cmd"><b>hostname</b></span>. O nome dado ao roteador é exibido no prompt. </p></content-text>
</page>
</topic>
<topic type="" id="tl1404030200">
<title><content-text>Protegendo os protocolos de roteamento</content-text></title>
<page type="OneColumn" id="tl1404030201">
<content-media type="StaticGraphic" id="cm9465087473">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030200/tl1404030201/cm9465087473.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030200/tl1404030201/cm9465087473text.xml"/></content-media>
<content-text><p><b>Visão geral da autenticação do protocolo de roteamento</b></p> <p>Como administrador de rede, você precisa saber que os seus roteadores correm o risco de serem atacados tanto quanto os seus sistemas de usuário final. Qualquer pessoa com um sniffer de pacotes, como o Wireshark, pode ler as informações que se propagam entre os roteadores. Em geral, os sistemas de roteamento podem ser atacados de duas formas:</p> <p><ul><li>Situação de interrupção de mesmo nível</li><li>Falsificação das informações de roteamento</li></ul></p> <p>A situação de interrupção de mesmo nível é a menos crítica dos dois ataques porque os protocolos de roteamento se corrigem, o que faz a interrupção durar um pouco menos do que o próprio ataque.</p> <p>Uma classe mais sutil de ataque tem como alvo as informações transportadas dentro do protocolo de roteamento. As informações de roteamento falsificadas normalmente podem ser utilizadas para fazer os sistemas enganar (mentir) uns aos outros, causar um DoS ou fazer o tráfego seguir um caminho que normalmente não seguiria. As consequências da falsificação das informações de roteamento são as seguintes:</p> <p>1. Redirecionar o tráfego para criar loops de roteamento, conforme o mostrado na figura</p> <p>2. Redirecionar o tráfego para que ele possa ser monitorado em um link inseguro</p> <p>3. Redirecionar o tráfego para descartá-lo</p> <p>Uma maneira direta de atacar o sistema de roteamento é atacar os roteadores que executem os protocolos de roteamento, obter acesso aos roteadores e inserir informações falsas. Saiba que qualquer pessoa que esteja "escutando" pode capturar atualizações de roteamento.</p> <p><b>Clique no botão Reproduzir na figura </b> para exibir uma animação de um ataque de loop de roteamento.</p> <p>A animação mostra um exemplo de um ataque que cria um loop de roteamento. Um atacante conseguiu se conectar diretamente ao link entre os roteadores R2 e R3. O atacante injeta informações de roteamento falsas destinadas exclusivamente ao roteador R1, o que indica que o R3 é o destino preferido para a rota do host 192.168.10.10/32. Embora tenha uma entrada na <content-link target="{A5B54AF5-42F2-4206-A727-B3A046A12DB5}" type="glossary">tabela de roteamento</content-link> para a rede 192.168.10.0/24 diretamente conectada, R1 adicionará a rota injetada à sua tabela de roteamento por conta da <content-link target="{0E05A28B-B532-42D1-9841-778E4C029AA7}" type="glossary">máscara de sub-rede</content-link> maior. Uma rota com uma máscara de sub-rede compatível maior é considerada superior a uma rota com uma máscara de sub-rede menor. Consequentemente, quando receber um pacote, um roteador escolherá a máscara de sub-rede maior por ser uma rota mais precisa até o destino.</p> <p>Quando o PC3 enviar um pacote para o PC1 (192.168.10.10/24), R1 não encaminhará o pacote para o PC1. Em vez disso, ele roteará o pacote para o roteador R3, porque, até onde se sabe, o melhor caminho para 192.168.10.10/32 é pelo R3. Quando obtiver o pacote, R3 irá olhar sua tabela de roteamento e encaminhar o pacote novamente para R1, o que cria o loop.</p> <p>A melhor maneira de proteger informações de roteamento na rede é autenticar pacotes de protocolo de roteamento utilizando o algoritmo MD5 (message digest 5). Um algoritmo como MD5 permite aos roteadores comparar assinaturas que devem ser todas iguais. </p> <p><b>Clique no botão Proteger atualização na figura.</b></p> <p>A figura mostra como cada roteador na cadeia de atualização cria uma assinatura. Entre os três componentes desse sistema estão:</p> <p>1. Algoritmo de criptografia, que normalmente é de conhecimento público</p> <p>2. Chave utilizada no algoritmo de criptografia, que é um segredo compartilhado pelos roteadores que autenticam seus pacotes</p> <p>3. Conteúdo do próprio pacote</p> <p><b>Clique no botão Operação na figura.</b></p> <p><b>Clique em Reproduzir para exibir uma animação.</b></p> <p>Na animação, vemos como cada roteador autentica as informações de roteamento. Geralmente, o originador das informações de roteamento produz uma assinatura utilizando a chave e roteando dados a serem enviados como entradas para o algoritmo de criptografia. Em seguida, os roteadores que recebem esses dados de roteamento podem repetir o processo utilizando a mesma chave, os dados recebidos e os mesmos dados de roteamento. Se a assinatura que o receptor computa for igual à assinatura do remetente, os dados e a chave deverão ser iguais aos transmitidos pelo remetente, e a atualização será autenticada.</p> <p><content-link target="{066A02C7-F57D-422C-BB01-6AE1B170D524}" type="glossary">RIPv2</content-link>, EIGRP, OSPF, <content-link target="{CDC5A5EE-3274-4538-89DF-E29F1E03F9B8}" type="glossary">IS-IS</content-link> e <content-link target="{8161961D-E947-4D60-85BE-74C847AD308E}" type="glossary">BGP</content-link>, todos, dão suporte a várias formas de autenticação MD5.</p></content-text>
</page>
<page type="OneColumn" id="tl1404030202">
<content-media type="StaticGraphic" id="cm4553984862">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030200/tl1404030202/cm4553984862.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030200/tl1404030202/cm4553984862text.xml"/></content-media>
<content-text><p><b>Configurando o RIPv2 com autenticação do protocolo de roteamento</b></p> <p>A topologia na figura está exibindo uma rede configurada com o protocolo de roteamento RIPv2. O RIPv2 dá suporte à autenticação do protocolo de roteamento. Para proteger atualizações de roteamento, cada roteador deve ser configurado para dar suporte à autenticação. As etapas para proteger atualizações RIPv2 são as seguintes:</p> <p>Etapa 1. Impedir a propagação da atualização de roteamento RIP</p> <p>Etapa 2. Impedir a recepção não autorizada de atualizações RIP</p> <p>Etapa 3. Verificar a operação do roteamento RIP</p> <p><b>Impedir a propagação da atualização de roteamento RIP</b></p> <p>Você precisa impedir um intruso com “escuta” na rede de receber atualizações às quais não tem direito. Você faz isso, forçando todas as interfaces no roteador no modo passivo e carregando apenas as interfaces obrigatórias para o envio e o recebimento de atualizações RIP. Uma interface no modo passivo recebe mas não envia atualizações. Você deve configurar interfaces no modo passivo em todos os roteadores na rede. </p> <p><b>Clique no botão Config e em Etapa 1.</b></p> <p>A figura mostra os comandos de configuração para controlar as interfaces que participarão das atualizações de roteamento. As atualizações de roteamento jamais devem ser anunciadas em interfaces que não estejam conectadas a outros roteadores. Por exemplo, as interfaces de rede local no roteador R1 não se conectam a outros roteadores e, por isso, não devem anunciar atualizações de roteamento. Apenas a interface S0/0/0 no roteador R1 deve anunciar atualizações de roteamento.</p> <p>Na saída do comando na tela, o comando <span class="cmd"><b>passive-interface default</b></span> desabilita anúncios de roteamento em todas as interfaces. Isso também inclui a interface S0/0/0. O comando <span class="cmd"><b>no passive-interface s0/0/0</b></span> permite à interface S0/0/0 enviar e receber atualizações RIP.</p> <p><b>Clique no botão Topologia e em Etapa 2.</b></p> <p><b>Impedir a recepção não autorizada de atualizações RIP</b></p> <p>Na figura, o intruso é impedido de interceptar atualizações RIP porque a autenticação MD5 foi habilitada nos roteadores, R1, R2 e R3; os roteadores que estão participando das atualizações RIP.</p> <p><b>Clique no botão Config e em Etapa 2.</b></p> <p>A saída do comando mostra os comandos para configurar a autenticação do protocolo de roteamento no roteador R1. Os roteadores R2 e R3 também precisam ser configurados com esses comandos nas interfaces apropriadas. </p> <p>O exemplo mostra comandos para criar uma cadeia de chaves chamada RIP_KEY. Embora várias chaves possam ser consideradas, nosso exemplo mostra apenas uma. A Chave 1 é configurada para conter uma string de chave chamada cisco. A string da chave é semelhante a uma senha, e os roteadores que trocam chaves de autenticação devem ser configurados com a mesma string. A interface S0/0/0 é configurada para dar suporte à autenticação MD5. A cadeia RIP_KEY e a atualização de roteamento são processadas utilizando-se o algoritmo MD5 para produzir uma assinatura exclusiva. </p> <p>Quando R1 é configurado, os demais roteadores receberão as atualizações de roteamento com uma assinatura exclusiva e, consequentemente, não poderão mais decifrar as atualizações de R1. Essa condição permanecerá até cada roteador na rede ser configurado com a autenticação do protocolo de roteamento.</p> <p><b>Clique no botão Topologia e em Etapa 3.</b></p> <p><b>Verificar a operação do roteamento RIP</b></p> <p>Depois de configurar todos os roteadores na rede, você precisará verificar a operação do roteamento RIP.</p> <p><b>Clique no botão Config e em Etapa 3.</b></p> <p>Utilizando o comando <span class="cmd"><b>show ip route</b></span>, a saída do comando confirma se o roteador R1 se autenticou com os outros roteadores e conseguiu adquirir as rotas dos roteadores R2 e R3. </p></content-text>
</page>
<page type="OneColumn" id="tl1404030203">
<content-media type="StaticGraphic" id="cm1018741868">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030200/tl1404030203/cm1018741868.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030200/tl1404030203/cm1018741868text.xml"/></content-media>
<content-text><p><b>Visão geral da autenticação do protocolo de roteamento para EIGRP e OSPF</b></p> <p>A autenticação do protocolo de roteamento também deve ser configurada para outros protocolos de roteamento como EIGRP e OSPF. Para obter detalhes sobre a autenticação do protocolo de roteamento para EIGRP e OSPF, consulte CCNP2: Implementação de redes remotas convergidas seguras.</p> <p><b>Clique no botão EIGRP na figura.</b></p> <p><b>EIGRP</b></p> <p>A figura mostra os comandos utilizados para configurar a autenticação do protocolo de roteamento no EIGRP no roteador R1. Esses comandos são bem parecidos com os que você utilizou na autenticação RIPv2 MD5. As etapas para configurar a autenticação do protocolo de roteamento EIGRP no roteador R1 são as seguintes:</p> <p>Etapa 1. A área realçada superior mostra como criar uma cadeia de chaves a ser utilizada por todos os roteadores em sua rede. Esses comandos criam uma cadeia de chaves chamada EIGRP_KEY e colocam seu terminal no modo de configuração da cadeia de chaves, um número de chave 1 e valor da string de chave cisco. </p> <p>Etapa 2. A área realçada inferior mostra como habilitar a autenticação MD5 em pacotes EIGRP que atravessam uma interface. </p> <p><b>Clique no botão OSPF na figura.</b></p> <p><b>OSPF</b></p> <p>A figura mostra os comandos utilizados para configurar a autenticação do protocolo de roteamento para o OSPF na interface S0/0/0 do roteador R1. O primeiro comando especifica a chave a ser utilizada na autenticação MD5. O próximo comando habilita a autenticação MD5.</p></content-text>
</page>
<page type="OneColumn" id="tl1404030204">
<content-media type="ActivityPKA" id="cm7044011628">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030200/tl1404030204/cm7044011628/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1404000000/tl1404030000/tl1404030200/tl1404030204/cm7044011628/icontext.xml"/></content-media>
<content-text><p>Esta atividade abrange a autenticação simples e a autenticação MD5 do OSPF (message digest 5). Você pode habilitar a autenticação no OSPF para trocar as informações sobre atualização de roteamento de uma maneira segura. Com a autenticação simples, a senha é enviada em texto não criptografado pela rede. A autenticação simples é utilizada quando os dispositivos dentro de uma <content-link target="{406914EE-0E7C-4473-A161-26A24E1A5CBA}" type="glossary">área</content-link> não conseguem dar suporte à autenticação MD5, a mais segura. Com a autenticação usando MD5, a senha não é enviada pela rede. MD5 é considerado o modo de autenticação OSPF mais seguro. Quando configurar a autenticação, você deve configurar uma área inteira com o mesmo tipo de autenticação. Nesta atividade, você irá configurar a autenticação simples entre R1 e R2 e a autenticação MD5 entre R2 e R3.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_4_3_2.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1404030300">
<title><content-text>Bloqueando seu roteador com Cisco Auto Secure</content-text></title>
<page type="OneColumn" id="tl1404030301">
<content-media type="InteractiveGraphicHotspots" id="cm6420187655">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404030000/tl1404030300/tl1404030301/cm6420187655.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404030000/tl1404030300/tl1404030301/cm6420187655text.xml"/></content-media>
<content-text><p>O Cisco AutoSecure utiliza um único comando para desabilitar processos e serviços não essenciais, o que elimina potenciais ameaças à segurança. Você pode configurar o AutoSecure no modo EXEC privilegiado utilizando o comando <span class="cmd"><b>auto secure</b></span> em um destes dois modos:</p> <p><ul><li><b>Modo interativo</b> – este modo solicita a você opções para habilitar e desabilitar serviços e outros recursos de segurança. Este é o modo padrão.</li><li><b>Modo não interativo</b> – este modo executa o comando auto secure automaticamente com as configurações padrão recomendadas pela Cisco. Esse modo é habilitado com a opção de comando no-interact.</li></ul></p> <p><b>Clique no botão Saída do roteador na figura.</b></p> <p><b>Executar o AutoSecure em um roteador Cisco</b></p> <p>A saída do comando na tela mostra uma saída  parcial de uma configuração do Cisco AutoSecure. Para iniciar o processo de proteção de um roteador, emita o comando <span class="cmd"><b>auto secure</b></span>. O Cisco AutoSecure solicitará vários itens, incluindo:</p> <p><ul><li>Especificidades de interface</li><li>Banners</li><li>Senhas</li><li>SSH</li><li>Recursos de firewall do IOS</li></ul></p> <p><b>Nota:</b> O Cisco Router and Security Device Manager (SDM) fornece um recurso semelhante ao do comando Cisco AutoSecure. Esse recurso é descrito na seção "Utilizando o Cisco SDM".</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1404040000">
<title><content-text>Utilizando o Cisco SDM</content-text></title>
<topic type="" id="tl1404040100">
<title><content-text>Visão geral do Cisco SDM</content-text></title>
<page type="OneColumn" id="tl1404040101">
<content-media type="StaticGraphic" id="cm7038737297">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040100/tl1404040101/cm7038737297.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040100/tl1404040101/cm7038737297text.xml"/></content-media>
<content-text><p><b>O que é o Cisco SDM?</b></p> <p>O Cisco Router e Security Device Manager (SDM) é uma ferramenta de gerenciamento de dispositivos baseada na Web, fácil de utilizar, projetada para configurar recursos de segurança, de rede local e WAN em roteadores, baseados no software IOS Cisco. </p> <p>A figura mostra a tela principal do SDM. A interface ajuda os administradores de rede de pequenas a médias empresas a executar operações do dia-a-dia. Ela fornece assistentes inteligentes fáceis de utilizar, automatiza o gerenciamento de segurança do roteador e ajuda por meio de ajuda e tutoriais online abrangentes. </p> <p>O Cisco SDM dá suporte a um amplo conjunto de releases do software IOS Cisco. Ele já vem pré-instalado por padrão em todos os novos roteadores de serviços integrados da Cisco. Se não estiver pré-instalado, você terá que instalá-lo. Os arquivos do SDM podem ser instalados no roteador, em um PC ou em ambos. Uma vantagem de instalar o SDM no PC é que isso economiza memória do roteador, além de permitir utilizar o SDM para gerenciar outros roteadores na rede. Se o Cisco SDM estiver pré-instalado no roteador, a Cisco recomendará utilizar o Cisco SDM para executar a configuração inicial.</p></content-text>
</page>
<page type="OneColumn" id="tl1404040102">
<content-media type="StaticGraphic" id="cm7688568233">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040100/tl1404040102/cm7688568233.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040100/tl1404040102/cm7688568233text.xml"/></content-media>
<content-text><p><b>Recursos do Cisco SDM</b></p> <p>O Cisco SDM simplifica a configuração do roteador e da segurança por meio da utilização de vários assistentes inteligentes para habilitar a configuração eficiente dos parâmetros da rede virtual privada (VPN) e do firewall do IOS Cisco. Esse recurso permite aos administradores implantar rápida e facilmente, além de configurar e monitorar, roteadores de acesso Cisco.</p> <p>Os assistentes inteligentes do Cisco SDM orientam os usuários etapa a etapa pelo fluxo de trabalho da configuração de segurança, configurando sistematicamente as interfaces de rede local e WAN, firewall, IPS e VPNs.</p> <p>Os assistentes inteligentes do Cisco SDM podem detectar configurações incorretas de maneira inteligente e propor correções, como permitir o tráfego DHCP por um firewall caso a interface WAN seja endereçada por DHCP. A ajuda online interna do Cisco SDM contém informações em segundo plano apropriadas, além de procedimentos etapa a etapa para ajudar os usuários a inserir os dados corretos no Cisco SDM.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404040200">
<title><content-text>Configurando o seu roteador para dar suporte ao Cisco SDM</content-text></title>
<page type="OneColumn" id="tl1404040201">
<content-media type="StaticGraphic" id="cm5399299654">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040200/tl1404040201/cm5399299654.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040200/tl1404040201/cm5399299654text.xml"/></content-media>
<content-text><p>O Cisco SDM deve ser instalado em todos os novos roteadores Cisco. Se você tiver um roteador que já esteja sendo utilizado mas sem o Cisco SDM, você poderá instalar e executá-lo sem interromper o tráfego da rede. Para instalá-lo em um roteador operacional, você deve verificar se algumas definições de configuração estão presentes no arquivo de configuração do roteador. A figura mostra uma topologia na qual o administrador do sistema instalará o Cisco SDM no roteador R1. </p>  <p>Para configurar o Cisco SDM em um roteador que já esteja em utilização, sem interromper o tráfego da rede, siga estas etapas: </p>  <p>Etapa 1. Acessar a interface CLI do roteador utilizando Telnet ou a conexão de console </p>  <p>Etapa 2: Habilitar os servidores HTTP e HTTPS no roteador </p>  <p>Etapa 3. Criar uma conta de usuário definida com um nível de privilégio 15 (habilitar privilégios). </p>  <p>Etapa 4. Configurar SSH e Telnet para login local e nível de privilégio15. </p>  <p><b>Clique no botão Saída do roteador na figura</b>.</p>  <p>A saída do comando na tela mostra um exemplo da configuração necessária para assegurar que você possa instalar e executar o Cisco SDM em um roteador de produção sem interromper o tráfego da rede.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404040300">
<title><content-text>Iniciando o Cisco SDM</content-text></title>
<page type="OneColumn" id="tl1404040301">
<content-media type="StaticGraphic" id="cm6597936226">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040300/tl1404040301/cm6597936226.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040300/tl1404040301/cm6597936226text.xml"/></content-media>
<content-text><p>O Cisco SDM fica armazenado na <content-link target="{54277BBD-F779-42A2-8778-65F7AACBFBA0}" type="glossary">memória flash</content-link> do roteador. Ele também pode ser armazenado em um PC local. Para iniciar o Cisco SDM, utilize o protocolo HTTPS e coloque o endereço IP do roteador no <content-link target="{C454A437-B916-41F2-9530-DFE82203CD3C}" type="glossary">navegador</content-link>. A figura mostra o navegador com um endereço https://198.162.20.1 e a página iniciar do Cisco SDM. O prefixo http:// poderá ser utilizado se o SSL não estiver disponível. Quando a caixa de diálogo de nome de usuário e senha for exibida (não mostrada), digite um nome de usuário e uma senha para a conta privilegiada (nível de privilégio 15) no roteador. Depois que a página inicial for exibida, um applet Java do Cisco SDM assinado será exibido, devendo permanecer aberto enquanto o Cisco SDM estiver em execução. Por ser um applet Java do Cisco SDM assinado, talvez você seja solicitado a aceitar um certificado. O alerta de segurança do certificado é exibido no canto direito inferior da figura. </p>  <p><b>Nota:</b> a sequência de etapas do login pode variar, dependendo da execução do Cisco SDM em um computador pessoal ou diretamente em um roteador Cisco ISR. </p></content-text>
</page>
</topic>
<topic type="" id="tl1404040400">
<title><content-text>A interface do Cisco SDM</content-text></title>
<page type="OneColumn" id="tl1404040401">
<content-media type="StaticGraphic" id="cm3487353126">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040400/tl1404040401/cm3487353126.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040400/tl1404040401/cm3487353126text.xml"/></content-media>
<content-text><p><b>Visão geral da página inicial do Cisco SDM</b></p> <p>Depois que o Cisco SDM for iniciado e você fizer login, a primeira página exibida será a página de visão geral. </p> <p>Essa página exibe o modelo do roteador, a memória total, as versões da memória flash, do IOS e do SDM, além do hardware instalado e um resumo de alguns recursos de segurança, como o status do firewall e o número de conexões VPN ativas.</p> <p>Mais especificamente, ele fornece informações básicas sobre o hardware do roteador, o software e a configuração:</p> <p><ul><li>Barra de menus – a parte superior da tela tem uma barra de menus típica com File, Edit, View, Tools e itens do menu Help.</li><li>Tool – abaixo da barra de menus, estão os assistentes SDM e os modos que você pode escolher.</li><li>Informações do roteador – o modo atual é exibido no lado esquerdo sob a barra de ferramentas.</li></ul></p> <p><b>Nota:</b> a barra de menus, a barra de ferramenta e o modo atual são sempre exibidos na parte superior de cada tela. As outras áreas da tela são alteradas de acordo com o modo e a função que você está executando.</p> <p><ul><li>Visão geral da configuração – resume os parâmetros da configuração. Para exibir a configuração em execução, clique no botão <b>View Running-Config</b>.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1404040402">
<content-media type="InteractiveGraphicHotspots" id="cm5495421109">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040400/tl1404040402/cm5495421109.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040400/tl1404040402/cm5495421109text.xml"/></content-media>
<content-text><p><b>Sobre a área do roteador</b></p> <p>Quando clicar nos botões na figura, você poderá ver os detalhes associados a cada um dos seguintes elementos da <content-link target="{29A75FAE-A910-4511-BA53-5B9BD02A3A79}" type="glossary">GUI</content-link> (interface gráfica do usuário): </p>  <p> About Your Router (Sobre o seu roteador) – a área da homepage do Cisco SDM que mostra informações básicas sobre o hardware e o software do roteador e inclui os seguintes elementos: </p> <p><ul><li>Host Name (Nome do host) – esta área mostra o nome de host configurado para o roteador, que é RouterX </li><li>Hardware – esta área mostra o número do modelo do roteador, a quantidade disponível e o total de <content-link target="{C3E0242B-9EDE-4EE0-A3EF-BB71BDE1438A}" type="glossary">RAM</content-link> e a quantidade da memória flash disponível. </li><li>Software – esta área descreve as versões do software IOS Cisco e do Cisco SDM em execução no roteador. </li><li>A barra Feature Availability, localizada na parte inferior da guia About Your Router, mostra os recursos disponíveis na imagem do IOS Cisco que o roteador está utilizando. Se o indicador ao lado de cada recurso estiver verde, ele estará disponível. Se estiver vermelho, ele não estará disponível. As marca de seleção mostram que o recurso está configurado no roteador. Na figura, o Cisco SDM mostra que IP, firewall, VPN, IP e NAC estão disponíveis, mas apenas o IP está configurado. </li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1404040403">
<content-media type="InteractiveGraphicHotspots" id="cm8480386732">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040400/tl1404040403/cm8480386732.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040400/tl1404040403/cm8480386732text.xml"/></content-media>
<content-text><p><b>Área de visão geral da configuração</b></p> <p>A figura mostra a área de visão geral da configuração da homepage do Cisco SDM. Quando clicar nos botões na figura, você poderá ver os detalhes associados a cada um dos seguintes elementos da interface gráfica do usuário: </p>  <p><ul><li><b>Interfaces and Connections</b> (Interfaces e conexões) – esta área exibe informações relacionadas à interface e à conexão, inclusive o número de conexões ativadas e desativadas, o número total de interfaces de rede local e WAN presentes no roteador, e o número de interfaces de rede local e WAN configuradas atualmente no roteador. Ela também exibe informações de DHCP. </li><li><b>Firewall Policies</b> (Políticas de firewall) – esta área exibe informações relacionadas a firewall, inclusive se um firewall estiver ativado, o número de interfaces confiáveis (dentro), não confiáveis (fora) e DMZ. Ela também exibe o nome da interface à qual um firewall foi aplicado, se a interface foi projetada como uma interface interna ou externa, e se a regra <content-link target="{063F61F2-BA6D-4607-8648-492954C38E1E}" type="glossary">NAT</content-link> foi aplicada a essa interface. </li><li><b>VPN</b> – esta área exibe informações relacionadas à VPN, inclusive o número de conexões VPN ativas, o número de conexões VPN ponto a ponto configuradas e o número de clientes VPN ativos. </li><li><b>Routing</b> (Roteamento) – esta área exibe o número de rotas estáticas e quais protocolos de roteamento estão configurados. </li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1404040500">
<title><content-text>Assistentes do Cisco SDM</content-text></title>
<page type="OneColumn" id="tl1404040501">
<content-media type="StaticGraphic" id="cm9527182699">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040500/tl1404040501/cm9527182699.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040500/tl1404040501/cm9527182699text.xml"/></content-media>
<content-text><p>O Cisco SDM fornece vários assistentes para ajudar a configurar um roteador Cisco ISR. Quando uma tarefa é escolhida na área de tarefas na interface gráfica do usuário do Cisco SDM, o painel de tarefas permite escolher um assistente. A figura mostra várias telas da interface gráfica do usuário do Cisco SDM para o assistente NAT básico. O NAT será discutido posteriormente no curso Serviços de endereçamento IP. </p>  <p>Consulte <content-link target="http://www.cisco.com/go/sdm" type="external">http://www.cisco.com/go/sdm</content-link> para obter as informações mais recentes sobre os assistentes do Cisco SDM e as interfaces de suporte.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404040600">
<title><content-text>Bloqueando um roteador com o Cisco SDM</content-text></title>
<page type="OneColumn" id="tl1404040601">
<content-media type="AnimationPartialScreen" id="cm5692948409">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404040000/tl1404040600/tl1404040601/cm5692948409.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404040000/tl1404040600/tl1404040601/cm5692948409text.xml"/></content-media>
<content-text><p>O assistente de bloqueio em uma etapa do Cisco SDM implementa praticamente todas as configurações de segurança oferecidas pelo Cisco AutoSecure. O assistente de bloqueio em uma etapa é acessado pela interface gráfica do usuário Configure, clicando-se na tarefa Security Audit. O assistente de bloqueio em uma etapa testa a configuração do seu roteador para problemas de segurança potenciais e faz automaticamente todas as alterações na configuração necessárias para corrigir todos os problemas encontrados. </p>  <p>Não considere que a rede esteja segura só porque você executou um bloqueio em uma etapa. Além disso, nem todos os recursos do Cisco AutoSecure são implementados no Cisco SDM. Entre os recursos do AutoSecure são implementados de maneira diferente no Cisco SDM estão os seguintes: </p>  <p><ul><li>Desabilita o SNMP e não configura o SNMP versão 3. </li><li>Habilita e configura SSH em imagens do IOS Cisco criptografadas</li><li>Não habilite o Service Control Point ou desabilite outro acesso e serviços de <content-link target="{ED284ACF-B1D2-428D-9C28-FC372C0F060A}" type="glossary">transferência de arquivos</content-link> como FTP. </li></ul></p>  <p><b>Clique nos botões na figura </b>para explorar as etapas do assistente de bloqueio em uma etapa Cisco.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1404050000">
<title><content-text>Gerenciamento seguro do roteador </content-text></title>
<topic type="" id="tl1404050100">
<title><content-text>Mantendo imagens do software IOS Cisco</content-text></title>
<page type="OneColumn" id="tl1404050101">
<content-media type="StaticGraphic" id="cm7024489147">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050100/tl1404050101/cm7024489147.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050100/tl1404050101/cm7024489147text.xml"/></content-media>
<content-text><p>Periodicamente, o roteador exige que as atualizações sejam carregadas no sistema operacional ou no arquivo de configuração. Essas atualizações são necessárias para corrigir vulnerabilidades de segurança conhecidas, dar suporte a novos recursos que permitem políticas de segurança mais avançadas ou melhorar o desempenho. </p> <p><b>Nota:</b> Nem sempre é uma ideia boa atualizar para a versão mais recente do software IOS Cisco. Muitas vezes esse release não é estável. </p> <p>Há determinadas diretrizes que você deve seguir ao alterar o software IOS Cisco em um roteador. As alterações são classificadas como atualizações. Uma atualização substitui um release por outro sem atualizar o conjunto de recursos. O software pode ser atualizado para corrigir um bug ou substituir um release para o qual não haja mais suporte. As atualizações são gratuitas. </p> <p>Uma atualização substitui um release por outro que tenha um conjunto de recursos melhorado. O software pode ser melhorado para adicionar novos recursos ou tecnologias, ou substituir um release para o qual não haja mais suporte. As atualizações não são gratuitas. Cisco.com oferece diretrizes para ajudar a determinar que método se aplica.</p> <p>A Cisco recomenda seguir um processo de migração de quatro fases para simplificar as operações e o gerenciamento da rede. Ao seguir um processo que pode ser repetido, você também pode aproveitar os custos reduzidos em operações, gerenciamento e treinamento. As quatro fases são:</p> <p><ul><li><b>Planejar</b> – definir metas, identificar recursos, hardware e software da rede de perfil e criar uma programação preliminar a fim de migrar para novos releases. </li><li><b>Projetar</b> – escolha novos releases do IOS Cisco e criar uma estratégia a fim de migrar para eles. </li><li><b>Implementar</b> – programe e execute a migração. </li><li><b>Operar</b> – monitore o progresso da migração e faça cópias de backup das imagens em execução na sua rede. </li></ul></p> <p>Há várias ferramentas disponíveis em Cisco.com para ajudar na migração do software IOS Cisco. Você pode utilizar as ferramentas para obter informações sobre releases, conjuntos de recursos, plataformas e imagens. As seguintes ferramentas não exigem um login em Cisco.com: </p> <p><ul><li><b>Cisco IOS Reference Guide</b> – abrange os fundamentos da família de software IOS Cisco</li><li><b>Documentos técnicos do software IOS Cisco</b> – documentação de cada release do software IOS Cisco</li><li><b>Cisco Feature Navigator</b> – localiza versões que dão suporte a um conjunto de recursos de software e hardware e compara releases </li></ul></p> <p>As seguintes ferramentas exigem contas de login válidas no Cisco.com: </p> <p><ul><li><b>Download do software</b> – downloads do software IOS Cisco</li><li><b>Conjunto de ferramentas para bug</b> – procura correções de software conhecidas com base na versão do software, no conjunto de recursos e palavras-chave </li><li><b>Software Advisor</b> – compara releases, os recursos do software IOS Cisco e do OS Cisco Catalyst em busca de releases, além de descobrir qual release do software dá suporte a um determinado dispositivo de hardware </li><li><b>IOS Cisco Upgrade Planner</b> – localiza releases por hardware, release e conjunto de recursos, além de fazer o download de imagens do software IOS Cisco</li></ul></p> <p>Para obter uma listagem completa das ferramentas disponíveis em Cisco.com, vá para <content-link target="http://www.cisco.com/en/US/support/tsd_most_requested_tools.html" type="external">http://www.cisco.com/en/US/support/tsd_most_requested_tools.html.</content-link></p></content-text>
</page>
</topic>
<topic type="" id="tl1404050200">
<title><content-text>Gerenciando imagens do IOS Cisco</content-text></title>
<page type="OneColumn" id="tl1404050201">
<content-media type="StaticGraphic" id="cm5695386109">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050200/tl1404050201/cm5695386109.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050200/tl1404050201/cm5695386109text.xml"/></content-media>
<content-text><p><b>Sistemas de arquivos e dispositivos IOS Cisco</b></p> <p>A disponibilidade da rede talvez esteja em risco caso uma configuração do roteador ou do sistema operacional esteja comprometida. Os atacantes que obtêm acesso a dispositivos de infraestrutura podem alterar ou excluir arquivos de configuração. Eles também podem carregar imagens do IOS incompatíveis ou excluir a imagem atual. As alterações são solicitadas automaticamente ou sempre que o dispositivo for reinicializado.</p> <p>Para atenuar esses problemas, você precisa ser capaz de salvar, fazer backup e restaurar a configuração e as imagens do IOS. Para isso, você aprende a realizar algumas operações de gerenciamento de arquivo no software IOS Cisco.</p> <p>Os dispositivos do IOS Cisco fornecem um recurso chamado IOS Cisco Integrated File System (IFS). Esse sistema permite criar, navegar e manipular diretórios em um dispositivo Cisco. Os diretórios disponíveis dependem da plataforma.</p> <p>Por exemplo, a figura exibe a saída do comando <span class="cmd"><b>show file systems</b></span> que lista todos os sistemas de arquivos disponíveis em um roteador Cisco 1841. Esse comando fornece informações detalhadas, como a memória disponível e livre, o tipo do sistema de arquivos e suas permissões. Entre as permissões estão somente leitura (ro), somente gravação (wo) e leitura e gravação (rw).</p> <p>Embora haja vários sistemas de arquivos listados, os que nos interessam serão os sistemas de arquivos tftp, memória flash e <content-link target="{F23DBF8E-A495-47F7-9797-F2AD6ACA32A5}" type="glossary">nvram</content-link>. O restante dos sistemas de arquivos listados está além do escopo deste curso.</p> <p>Entre os sistemas de arquivos de rede estão FTP, trivial FTP (TFTP) ou Protocolo de cópia remota (<content-link target="{4CFF7D26-33D1-46DF-BD0D-4B59E200CA5C}" type="glossary">RCP</content-link>, Remote Copy Protocol). Este curso aborda o TFTP.</p> <p>Observe que o sistema de arquivos da memória flash também tem uns asteriscos que o precedem, o que indica que se trata do sistema de arquivos padrão atual. Lembre-se de que, como o IOS inicializável está localizado na memória flash, o símbolo de sustenido (#) adicionado à listagem da memória flash indica se tratar de um disco inicializável.</p> <p><b>Clique no botão Memória flash na figura.</b></p> <p>Esta figura lista o conteúdo do sistema de arquivos padrão atual, que, neste caso, é a memória flash, conforme indicação pelos asteriscos que precedem a listagem na figura anterior. Há vários arquivos localizados na memória flash, mas é a última listagem que interessa especificamente. Trata-se do nome da imagem do arquivo do IOS atual em execução na memória RAM.</p> <p><b>Clique no botão NVRAM na figura.</b></p> <p>Para exibir o conteúdo da NVRAM, você deve alterar o sistema de arquivos padrão atual utilizando o comando de alteração de diretório <span class="cmd"><b>cd</b></span>. O comando do diretório de trabalho atual <span class="cmd"><b>pwd</b></span> verifica se estamos no diretório da NVRAM. Por fim, o comando <span class="cmd"><b>dir</b></span> lista o conteúdo da NVRAM. Embora haja vários arquivos de configuração listados, o que nos interessa especificamente é o arquivo de configuração de inicialização. </p></content-text>
</page>
<page type="OneColumn" id="tl1404050202">
<content-media type="StaticGraphic" id="cm6741381036">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050200/tl1404050202/cm6741381036.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050200/tl1404050202/cm6741381036text.xml"/></content-media>
<content-text><p><b>Prefixos de URL para dispositivos Cisco</b></p> <p>Quando um administrador de rede quiser transferir arquivos em um computador, o sistema operacional oferecerá uma estrutura de arquivos visível para especificar origens e destinos. Os administradores não têm sugestões visuais ao trabalhar na CLI de um roteador. O comando show file systems no tópico anterior exibiu os vários sistemas de arquivos disponíveis na plataforma Cisco 1841. </p> <p>Os locais dos arquivos são especificados no Cisco IFS utilizando a convenção de URL. As URLs utilizadas pelas plataformas IOS Cisco são semelhantes ao formato que você conhece da Web. </p> <p>Por exemplo, TFTP na figura é: tftp://192.168.20.254/configs/backup-config. </p> <p><ul><li>A expressão "tftp:" é chamada de prefixo. </li><li>Tudo o que estiver depois das duas barras (//) define o local. </li><li>192.168.20.254 é o local do servidor TFTP. </li><li> "configs" é o diretório mestre. </li><li> "backup-config" é o nome de um arquivo. </li></ul></p> <p> </p> <p>O prefixo da URL especifica o sistema de arquivos. Passe o mouse sobre os vários botões na figura para exibir os prefixos mais comuns e a sintaxe associada a cada um deles. </p></content-text>
</page>
<page type="OneColumn" id="tl1404050203">
<content-media type="StaticGraphic" id="cm4234901437">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050200/tl1404050203/cm4234901437.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050200/tl1404050203/cm4234901437text.xml"/></content-media>
<content-text><p><b>Comandos para gerenciar arquivos de configuração</b></p> <p>A boa prática para manter a disponibilidade do sistema é assegurar que você sempre tenha cópias de backup dos arquivos de configuração de inicialização e dos arquivos de imagem do IOS. O comando <span class="cmd"><b>copy</b></span> do IOS Cisco é utilizado para mover arquivos de configuração de um componente ou dispositivo para outro, como RAM, NVRAM ou um servidor TFTP. A figura realça a sintaxe do comando.</p> <p>A seguir, exemplos da utilização comum do comando <span class="cmd"><b>copy</b></span>. Os exemplos listam dois métodos para realizar as mesmas tarefas. O primeiro exemplo é uma sintaxe simples e o segundo exemplo fornece um exemplo mais explícito.</p> <p>Copie a configuração em execução da RAM para a configuração de inicialização na NVRAM:</p> <p><span class="cmd">R2# <b>copy running-config startup-config</b></span></p> <p><span class="cmd">R2# <b>copy system:running-config nvram:startup-config</b></span></p> <p>Copie a configuração em execução da RAM para um local remoto:</p> <p><span class="cmd">R2# <b>copy running-config tftp:</b></span></p> <p><span class="cmd">R2# <b>copy system:running-config tftp:</b></span></p> <p>Copie uma configuração de uma origem remota para a configuração em execução:</p> <p><span class="cmd">R2# <b>copy tftp: running-config</b></span></p> <p><span class="cmd">R2# <b>copy tftp: system:running-config</b></span></p> <p>Copie uma configuração de uma origem remota para a configuração de inicialização:</p> <p><span class="cmd">R2# <b>copy tftp: startup-config</b></span></p> <p><span class="cmd">R2# <b>copy tftp: nvram:startup-config</b></span></p></content-text>
</page>
<page type="OneColumn" id="tl1404050204">
<content-media type="StaticGraphic" id="cm8771181290">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050200/tl1404050204/cm8771181290.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050200/tl1404050204/cm8771181290text.xml"/></content-media>
<content-text><p><b>Convenções de nomenclatura do arquivo do IOS Cisco</b></p> <p>O arquivo de imagem do IOS Cisco se baseia em uma convenção de nomenclatura especial. O nome do arquivo de imagem do IOS Cisco contém várias partes, cada uma com um significado específico. É importante que você compreenda essa convenção de nomenclatura ao atualizar e escolher um IOS.</p> <p>Por exemplo, o nome de arquivo na figura é explicado da seguinte forma:</p> <p>A primeira parte,<b> c1841</b>, identifica a plataforma na qual a imagem é executada. Nesse exemplo, a plataforma é Cisco 1841.</p> <p>A segunda parte,<b> ipbase</b>, especifica o conjunto de recursos. Nesse caso, "ipbase" se refere à imagem de rede IP básica. Entre outras possibilidades do conjunto de recursos estão:</p> <p><b>i</b> – designa o conjunto de recursos IP</p> <p><b>j </b>– designa o conjunto de recursos enterprise (todos os protocolos)</p> <p><b>s</b> – designa um conjunto de recursos PLUS (enfileiramento extra, manipulação ou traduções)</p> <p><b>56i</b> – designa a criptografia <content-link target="{D6D25928-2873-443A-8F81-F28770B2C6A1}" type="glossary">DES</content-link> IPsec de 56 bits</p> <p><b>3</b> – designa o firewall/IDS</p> <p><b>k2</b> – designa a criptografia IPsec 3DES (168 bits)</p> <p>A terceira parte, <b>mz</b>, indica onde a imagem é executada e se o arquivo está compactado. Nesse exemplo, "mz" indica que o arquivo é executado na RAM e está compactado.</p> <p>A quarta parte, <b>12.3-14.T7</b>, é o número de versão. </p> <p>A parte final, <b>bin</b>, é a extensão do arquivo. A extensão .bin indica que esse é um arquivo executável binário.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404050300">
<title><content-text>Imagens do IOS Cisco gerenciadas pelo TFTP</content-text></title>
<page type="OneColumn" id="tl1404050301">
<content-media type="StaticGraphic" id="cm2418633892">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050300/tl1404050301/cm2418633892.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050300/tl1404050301/cm2418633892text.xml"/></content-media>
<content-text><p><b>Utilizando servidores TFTP para gerenciar imagens do IOS Cisco</b></p> <p>As redes interconectadas de produção normalmente abrangem grandes áreas e contêm vários roteadores. É uma tarefa importante de um administrador sempre atualizar as imagens do IOS Cisco sempre que explorações e vulnerabilidades forem detectadas. Também é uma boa prática assegurar que todas as suas plataformas estejam executando a mesma versão de software IOS Cisco sempre que possível. Por fim, para qualquer rede, é sempre prudente reter uma cópia de backup da imagem do software IOS Cisco caso a imagem do sistema no roteador seja corrompida ou apagada acidentalmente.</p>  <p>Roteadores muito espalhados precisam de uma origem ou local de backup para imagens do software IOS Cisco. A utilização de um servidor TFTP de rede permite uploads e downloads de imagem e configuração pela rede. O servidor TFTP de rede pode ser outro roteador, uma estação de trabalho ou um sistema de host.</p> <p>Na medida em que uma rede cresce, o armazenamento das imagens do software IOS Cisco e dos arquivos de configuração no servidor TFTP central permite controlar o número e o nível de revisão das imagens do IOS Cisco, além dos arquivos de configuração que devem ser mantidos.</p> <p>Antes de alterar uma imagem do IOS Cisco no roteador, você precisa concluir estas tarefas:</p> <p><ul><li>Determinar a memória obrigatória para a atualização e, se necessário, instalar a memória adicional.</li><li>Configurar e testar o recurso de transferência de arquivos entre o host do administrador e o roteador.</li><li>Programar a indisponibilidade obrigatória, normalmente fora do horário comercial, para o roteador executar a atualização.</li></ul></p> <p>Quando você estiver pronto para fazer a atualização, execute estas etapas:</p> <p><ul><li>Desativar todas as interfaces no roteador em que não precisa haver a atualização.</li><li>Fazer backup do sistema operacional atual e do arquivo de configuração atual para um servidor TFTP.</li><li>Carregar a atualização no sistema operacional ou no arquivo de configuração.</li><li>Testar para confirmar se a atualização funciona corretamente. Se os testes tiverem êxito, você poderá reabilitar as interfaces que desabilitou. Se os testes não tiverem êxito, faça o backup da atualização, determine o que saiu errado e recomece.</li></ul></p> <p>Um grande desafio para <content-link target="{9A49EBE1-9ED3-496B-91BF-D52AAA8C8DC8}" type="glossary">operadores de rede</content-link> de rede será minimizar a indisponibilidade depois que um roteador for comprometido e o sistema operacional e os dados de configuração tiverem sido apagados do backup. O operador deve recuperar uma cópia arquivada (se houver) da configuração e deve restaurar uma imagem funcional no roteador. A recuperação deve ser executada para todos os roteadores afetados, que adiciona indisponibilidade total à rede. </p> <p>Lembre-se de que o recurso de configuração flexível do software IOS Cisco permite um roteador proteger e manter uma cópia funcional da imagem do sistema operacional em execução e a configuração para que esses arquivos consigam suportar tentativas maliciosas de apagar o conteúdo do backup (NVRAM e memória flash).</p></content-text>
</page>
</topic>
<topic type="" id="tl1404050400">
<title><content-text>Fazendo backup e atualizando a imagem do software</content-text></title>
<page type="OneColumn" id="tl1404050401">
<content-media type="StaticGraphic" id="cm1641285484">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050400/tl1404050401/cm1641285484.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050400/tl1404050401/cm1641285484text.xml"/></content-media>
<content-text><p><b>Fazendo backup da imagem do software IOS</b></p> <p>Entre as tarefas básicas de gerenciamento estão gravar backups dos seus arquivos de configuração, bem como fazer download e instalar arquivos de configuração melhorados quando houver orientação para isso. Um arquivo de imagem de backup do software é criado copiando-se o arquivo de imagem de um roteador para um servidor TFTP na rede. </p> <p>Para copiar um software de imagem do IOS Cisco da memória flash para o servidor TFTP em rede, você deve seguir estas etapas sugeridas. </p> <p><b>Clique nos botões Topologia e Config na figura na medida em que avança cada etapa.</b></p> <p><b>Etapa 1.</b> Executar ping no servidor TFTP para ter certeza de que você possui acesso a ele.</p> <p><b>Etapa 2.</b> Verificar se o servidor TFTP tem espaço em disco suficiente para acomodar a imagem do software IOS Cisco. Utilize o comando <span class="cmd"><b>show flash:</b></span> no roteador para determinar o tamanho do arquivo de imagem do IOS Cisco.</p> <p>O comando <span class="cmd"><b>show flash:</b></span> é uma ferramenta importante para coletar informações sobre a memória do roteador e o arquivo de imagem. Ele pode determinar o seguinte:</p> <p><ul><li>Quantidade total de memória flash no roteador</li><li>Memória flash disponível</li><li>Nome de todos os arquivos armazenados na memória flash</li></ul></p> <p>Com as etapas 1 e 2 concluídas, agora faça o backup da imagem do software. </p> <p><b>Etapa 3.</b> Copiar o arquivo de imagem do sistema atual do roteador para o servidor TFTP na rede, utilizando o comando <span class="cmd"><b>copy flash: tftp:</b></span> no modo EXEC privilegiado. O comando exige que você digite o endereço IP do host remoto e o nome dos arquivos de imagem de origem e de destino. </p> <p>Durante o processo de cópia, pontos de exclamação (!) indicam o progresso. Cada ponto de exclamação significa que um segmento UDP foi transferido com êxito.</p></content-text>
</page>
<page type="OneColumn" id="tl1404050402">
<content-media type="StaticGraphic" id="cm4365993703">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050400/tl1404050402/cm4365993703.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050400/tl1404050402/cm4365993703text.xml"/></content-media>
<content-text><p><b>Atualizando imagens do software IOS Cisco</b></p> <p>A atualização de um sistema para versão de software mais nova exige o carregamento de um arquivo de imagem do sistema diferente no roteador. Utilize o comando <span class="cmd"><b>copy tftp: flash:</b></span> para fazer o download da nova imagem a partir do servidor TFTP na rede.</p> <p><b>Clique no botão Config na figura.</b></p> <p>O comando solicita a você digitar o endereço IP do host remoto e o nome dos arquivos de imagem de origem e de destino. Digite o nome do arquivo apropriado da imagem de atualização da mesma forma como ele é exibido no servidor.</p> <p>Depois que essas entradas forem confirmadas, o prompt <span class="cmd">Erase flash:</span> será exibido. Apagar a memória flash libera espaço para a nova imagem. Apague a memória flash se não houver espaço suficiente para mais de uma imagem do IOS Cisco. Se nenhuma memória flash livre estiver disponível, a rotina de exclusão será obrigatória antes da cópia de novos arquivos. O sistema informa essas condições e solicita uma resposta.</p> <p>Cada ponto de exclamação (!) significa que um segmento UDP foi transferido com êxito.</p> <p><b>Nota:</b> verifique se a imagem do IOS Cisco carregada é apropriada à plataforma do roteador. Se a imagem do IOS Cisco errada estiver carregada, o roteador não poderá ser inicializado, o que exige a intervenção do monitor ROM (ROMmon).</p></content-text>
</page>
<page type="OneColumn" id="tl1404050403">
<content-media type="ActivityPKA" id="cm2998421470">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050400/tl1404050403/cm2998421470/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1404000000/tl1404050000/tl1404050400/tl1404050403/cm2998421470/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você irá configurar o acesso a um servidor TFTP e carregar uma imagem mais nova e mais avançada do IOS Cisco. Embora o Packet Tracer simule a atualização da imagem do IOS Cisco em um roteador, o Packet Tracer não simula o backup de uma imagem do IOS Cisco no servidor TFTP. Além disso, embora a imagem de atualização seja mais avançada, essa simulação do Packet Tracer não refletirá a atualização, habilitando comandos mais avançados. O mesmo conjunto de comandos do Packet Tracer ainda estará em vigor.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_4_5_4.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1404050500">
<title><content-text>Recuperando imagens de software</content-text></title>
<page type="OneColumn" id="tl1404050501">
<content-media type="StaticGraphic" id="cm4966139518">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050500/tl1404050501/cm4966139518.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050500/tl1404050501/cm4966139518text.xml"/></content-media>
<content-text><p><b>Restaurando imagens do software IOS Cisco</b></p> <p>Um roteador não pode funcionar sem seu software IOS Cisco. Caso o IOS seja excluído ou corrompido, um administrador deve copiar uma imagem para o roteador para que ele volte a ficar operacional </p> <p>Um método para realizar isso seria utilizar a imagem do IOS Cisco salva anteriormente no servidor TFTP. No exemplo da figura, foi feito o backup da imagem do IOS de R1 em um servidor TFTP conectado a R2. R1 não pode chegar a esse servidor TFTP em seu estado atual. </p> <p>Quando um IOS em um roteador for excluído acidentalmente da memória flash, o roteador continuará operacional porque o IOS está em execução na RAM. No entanto, é essencial que o roteador não seja reinicializado neste momento porque ele não seria capaz de localizar um IOS válido na memória flash. </p> <p>Na figura, o IOS do roteador R1 foi excluído acidentalmente da memória flash. Infelizmente, o roteador foi reinicializado e não consegue mais carregar um IOS. Agora ele carrega o prompt do ROMmon por padrão. Enquanto estiver nesse estado, o roteador R1 precisa recuperar o IOS, que foi copiado para o servidor TFTP conectado ao R2. Nesse cenário, o TFTP será conectado diretamente ao roteador R1. Com as preparações no servidor TFTP, realize o procedimento a seguir.</p> <p><b>Etapa 1.</b> Conecte os dispositivos.</p> <p><ul><li>Conecte o PC do administrador de sistema à porta de console do roteador afetado.</li><li>Conecte o servidor TFTP à primeira porta Ethernet do roteador. Na figura, como R1 é um Cisco 1841, a porta é Fa0/0. Habilite o servidor TFTP e configure-o com um endereço IP estático 192.168.1.1/24. </li></ul></p> <p><b>Etapa 2.</b> Inicializar o roteador e definir as variáveis do ROMmon.</p> <p>Como o roteador não tem uma imagem válida do IOS Cisco, o roteador inicializa automaticamente no modo ROMmon. Há pouquíssimos comandos disponíveis no modo ROMmon. Você pode exibir esses comandos, digitando-se <span class="cmd"><b>?</b></span> no prompt de comando <span class="cmd">rommon></span>. </p> <p>Você deve inserir todas as variáveis listadas na figura. Quando você inserir as variáveis no ROMmon, esteja atento ao seguinte:</p> <p><ul><li>Os nomes de variável diferenciam maiúsculas de minúsculas.</li><li>Não inclua nenhum espaço antes ou depois do símbolo =.</li><li>Sempre que possível, utilize um editor de texto para recortar e colar as variáveis na janela do terminal. Toda a linha deve ser digitada com precisão.</li><li>As teclas de navegação não são operacionais.</li></ul></p> <p>Agora o Roteador R1 deve ser configurado com os valores apropriados para se conectar ao servidor TFTP. A sintaxe dos comandos do ROMmon é muito crucial. Embora os endereços IP, a máscara de sub-rede e o nome da imagem na figura sejam apenas exemplos, é essencial que a sintaxe exibida seja seguida durante a configuração do roteador. Lembre-se de que as variáveis reais irão mudar de acordo com a sua configuração.</p> <p>Quando você tiver inserido as variáveis, passe à próxima etapa.</p> <p><b>Etapa 3.</b> Digitar o comando <span class="cmd"><b>tftpdnld</b></span> no prompt do modo ROMmon.</p> <p>O comando exibe as variáveis de ambiente obrigatórias e adverte que todos os dados existentes na memória flash serão apagados. Digite <b>y</b> para continuar e pressione <b>Enter</b>. O roteador tenta se conectar ao servidor TFTP para iniciar o download. Quando conectado, o download começa conforme a indicação pelos pontos de exclamação (!). Cada ! indica que um segmento UDP foi recebido pelo roteador.</p> <p>Você pode utilizar o comando <span class="cmd"><b>reset</b></span> para reiniciar o roteador com a nova imagem do IOS Cisco.</p></content-text>
</page>
<page type="OneColumn" id="tl1404050502">
<content-media type="StaticGraphic" id="cm8718598525">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050500/tl1404050502/cm8718598525.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050500/tl1404050502/cm8718598525text.xml"/></content-media>
<content-text><p><b>Utilizando xmodem para restaurar uma imagem do IOS Cisco</b></p> <p>A utilização do comando <span class="cmd"><b>tftpdnld</b></span> é uma forma muito rápida de copiar o arquivo de imagem. Outro método para restaurar uma imagem do IOS Cisco para um roteador é utilizando Xmodem. No entanto, a transferência de arquivos é realizada utilizando-se o cabo de console e, por isso, é muito lenta quando comparada com o comando <span class="cmd"><b>tftpdnld</b></span>.</p> <p>Se a imagem do IOS Cisco for perdida, o roteador entrará no modo ROMmon durante a inicialização. O ROMmon dá suporte a Xmodem. Com esse recurso, o roteador pode se comunicar com um aplicativo de <content-link target="{13693F75-EE57-423C-BDEA-A77DB3F89290}" type="glossary">emulação de terminal</content-link>, como HyperTerminal, no PC de um administrador de sistema. Um administrador de sistema que tenha uma cópia da imagem do IOS Cisco em um PC pode restaurá-la no roteador, estabelecendo uma conexão de console entre o PC e o roteador e executando o Xmodem no HyperTerminal.</p> <p>As etapas que o administrador segue são mostradas na figura. </p> <p><b>Etapa 1.</b> Conectar o PC do administrador de sistema à porta console no roteador afetado. Abra uma sessão de emulação de terminal entre o roteador R1 e o PC do administrador de sistema.</p> <p><b>Etapa 2.</b> Inicializar o roteador e emitir o comando <span class="cmd"><b>xmodem</b></span> no prompt de comando do modo ROMmon. </p> <p>A sintaxe do comando é <span class="cmd"><b>xmodem</b> [<b>-cyr</b>] [<i>filename</i>]</span>. A opção cyr varia de acordo com a configuração. Por exemplo, <span class="cmd"><b>-c</b></span> especifica CRC-16, <span class="cmd"><b>y</b></span> especifica o protocolo Ymodem e <span class="cmd"><b>r</b></span> copia a imagem para a RAM. O nome de arquivo é o do arquivo a ser transferido. </p> <p>Aceite todos os prompts quando solicitado, conforme mostrado na figura.</p> <p><b>Etapa 3.</b> A figura mostra o processo de envio de um arquivo utilizando HyperTerminal. Neste caso, escolha <b>Transfer > Send File</b>. </p> <p><b>Etapa 4.</b> Navegue até o local da imagem do IOS Cisco que você deseja transferir e escolha o protocolo Xmodem. Clique em <b>Send</b>. Uma caixa de diálogo é exibida com o status do download. Demora vários segundos para que o host e o roteador comecem a transferência das informações.</p> <p>Assim que o download começa, os campos Pacote e Decorrido são incrementados. Anote o indicador de tempo restante estimado. O tempo de download poderia ser muito maior se você alterasse a velocidade da conexão do HyperTerminal e do roteador de 9.600 b/s para 115.000 b/s.</p> <p>Quando a transferência for concluída, o roteador será reiniciado automaticamente com o novo IOS Cisco.</p></content-text>
</page>
</topic>
<topic type="" id="tl1404050600">
<title><content-text>Identificação e solução de problemas de configurações do IOS Cisco</content-text></title>
<page type="OneColumn" id="tl1404050601">
<content-media type="StaticGraphic" id="cm5715946195">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050600/tl1404050601/cm5715946195.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050600/tl1404050601/cm5715946195text.xml"/></content-media>
<content-text><p><b>Comandos de identificação e solução de problemas do IOS Cisco</b></p> <p>Quando você tiver uma imagem do IOS Cisco válida em execução em todos os roteadores na rede e todas as configurações tiverem backup, você poderá ajustar as configurações manualmente para dispositivos individuais a fim de melhorar o desempenho na rede.</p> <p>Dois comandos muito utilizados na administração de rede diária são <span class="cmd"><b>show</b></span> e <span class="cmd"><b>debug</b></span>. A diferença entre os dois é significativa. Um comando <span class="cmd"><b>show</b></span> lista os parâmetros configurados e seus valores. O comando <span class="cmd"><b>debug</b></span> permite rastrear a execução de um processo. Utilize o comando <span class="cmd"><b>show</b></span> para verificar as configurações. Utilize o comando <span class="cmd"><b>debug</b></span> para identificar o tráfego que passa pelas interfaces e processado pelo roteador.</p> <p>A figura resume as características dos comandos <span class="cmd"><b>show</b></span> e <span class="cmd"><b>debug</b></span>. O melhor momento para obter informações sobre a saída gerada por esses comandos será quando uma rede estiver totalmente operacional. Dessa forma, você conseguirá reconhecer o que está faltando ou está incorreto ao utilizar os comandos para identificar e solucionar problemas de uma rede. </p></content-text>
</page>
<page type="OneColumn" id="tl1404050602">
<content-media type="StaticGraphic" id="cm7970608026">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050600/tl1404050602/cm7970608026.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050600/tl1404050602/cm7970608026text.xml"/></content-media>
<content-text><p><b>Utilizando o comando </b><span class="cmd"><b>show</b></span></p> <p>O comando <span class="cmd"><b>show</b></span> exibe informações estáticas. Utilize os comandos <span class="cmd"><b>show</b></span> ao coletar fatos para isolar problemas em redes interconectadas, inclusive problemas com interfaces, nós, mídias, servidores, clientes ou aplicativos. Você também pode usá-lo sempre para confirmar se as alterações feitas na configuração foram implementadas.</p> <p>A figura fornece um exemplo do comando <span class="cmd"><b>show protocols</b></span>. O guia de comandos do IOS Cisco lista 1.463 comandos <span class="cmd"><b>show</b></span>. Quando você estiver no prompt de comando, digite <span class="cmd"><b>show ?</b></span> para obter uma lista de comandos <span class="cmd"><b>show</b></span> disponíveis para o nível e o modo de operação.</p></content-text>
</page>
<page type="OneColumn" id="tl1404050603">
<content-media type="StaticGraphic" id="cm3023473605">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050600/tl1404050603/cm3023473605.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050600/tl1404050603/cm3023473605text.xml"/></content-media>
<content-text><p><b>Utilizando o comando </b><span class="cmd"><b>debug</b></span></p> <p>Ao configurar um roteador, os comandos que você digita iniciam muito mais processos do que os que você vê na linha de código simples. Por isso, o rastreamento das suas configurações digitadas linha por linha não revela todas as possibilidades de erro. Em vez disso, você precisa de uma forma de capturar dados dos dispositivos à medida que cada etapa em um processo em execução é iniciado.</p> <p>Por padrão, o roteador envia a saída dos comandos <span class="cmd"><b>debug</b></span> e as mensagens de erro do sistema para a console. Lembre-se de que você pode redirecionar a saída do comando debug para um servidor syslog.</p> <p><b>Nota:</b> a saída do comando de depuração recebe prioridade alta na fila de processos da <content-link target="{553626E2-B675-44AE-9FBA-B8F65077C560}" type="glossary">CPU</content-link> e, por isso, pode interferir em processos de produção normais em uma rede. Por isso, utilize comandos <span class="cmd"><b>debug</b></span> durante momentos de inatividade e somente para identificar e solucionar problemas específicos.</p> <p>O comando <span class="cmd"><b>debug</b></span> exibe dados e eventos dinâmicos. Utilize o <span class="cmd"><b>debug</b></span> para verificar o fluxo do tráfego de protocolo em busca de problemas, bugs em protocolo ou configurações incorretas. O comando <span class="cmd"><b>debug</b></span> fornece um fluxo de informações sobre o tráfego visto (ou não) em uma interface, mensagens de erro geradas por nós na rede, pacotes de diagnóstico específicos de protocolo e outros dados de identificação e solução de problemas. Utilize comandos <span class="cmd"><b>debug</b></span> quando as operações no roteador ou na rede precisarem ser exibidas para determinar se eventos ou pacotes estão funcionando corretamente.</p> <p>Todos os comandos <span class="cmd"><b>debug</b></span> são digitados no modo EXEC privilegiado, e a maioria dos comandos <span class="cmd"><b>debug</b></span> não tem nenhum argumento. Para listar e ver uma descrição resumida de todas as opções de comando de depuração, digite <span class="cmd"><b>debug ?</b></span> no modo EXEC privilegiado.</p> <p><b>Cuidado:</b> é importante desativar a depuração quando você terminar a identificação e solução de problemas. A melhor forma de assegurar que não haja nenhuma operação de depuração prolongada é utilizando o comando <span class="cmd"><b>no debug all</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1404050604">
<content-media type="StaticGraphic" id="cm6055469736">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050600/tl1404050604/cm6055469736.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050600/tl1404050604/cm6055469736text.xml"/></content-media>
<content-text><p><b>Considerações durante a utilização do comando </b><span class="cmd"><b>debug</b></span></p> <p>Um caso é utilizar comandos <span class="cmd"><b>debug</b></span> para identificar e solucionar problemas em uma rede de laboratório sem o tráfego do aplicativo de usuário final. Outro caso é utilizar os comandos <span class="cmd"><b>debug</b></span> em uma rede de produção da qual usuários dependem para o fluxo de dados. Sem as precauções apropriadas, o impacto de um comando <span class="cmd"><b>debug</b></span> poderia piorar as coisas.</p> <p>Com a utilização apropriada, seletiva e temporária dos comandos <span class="cmd"><b>debug</b></span>, você pode obter informações possivelmente úteis sem precisar de um analisador de protocolo ou de outra ferramenta de terceiros.</p> <p>Outras considerações para a utilização dos comandos <span class="cmd"><b>debug</b></span> são as seguintes:</p> <p><ul><li>Quando as informações necessárias do comando <span class="cmd"><b>debug</b></span> são interpretadas e a depuração (e qualquer outra configuração relacionada, se houver) for concluída, o roteador poderá retomar sua comutação mais rápidamente. A solução de problemas pode ser reiniciada, um melhor plano de ação pode ser criado e o problema da rede, resolvido.</li><li>Saiba que os comandos <span class="cmd"><b>debug</b></span> podem gerar muito mais dados do que a pouca utilização para um determinado problema. Normalmente, o conhecimento do protocolo ou dos protocolos em depuração é obrigatório para a interpretação apropriada das saídas do comando <span class="cmd"><b>debug</b></span>.</li><li>Ao utilizar ferramentas de identificação e solução de problemas <span class="cmd"><b>debug</b></span>, lembre-se de que os formatos da saída do comando variam de acordo com cada protocolo. Alguns geram uma única linha de saída do comando por pacote, outros geram várias linhas de saída do comando por pacote. Alguns comandos <span class="cmd"><b>debug</b></span> geram grandes quantidades de saída de comando; outros só geram saída de comando ocasional. Alguns geram linhas de texto e outros geram informações no formato de campo.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1404050605">
<content-media type="StaticGraphic" id="cm4945776973">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050600/tl1404050605/cm4945776973.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050600/tl1404050605/cm4945776973text.xml"/></content-media>
<content-text><p><b>Comandos relacionados ao comando </b><span class="cmd"><b>debug</b></span></p> <p>Para utilizar as ferramentas de depuração efetivamente, você deve considerar o seguinte:</p> <p><ul><li>Impacto que uma ferramenta de identificação e solução de problemas tem no desempenho do roteador</li><li>Utilização mais seletiva e concentrada da ferramenta de diagnóstico</li><li>Como minimizar o impacto da identificação e solução de problemas em outros processos que competem pelos recursos no dispositivo de rede</li><li>Como parar a ferramenta de identificação e solução de problemas quando o diagnóstico for concluído para que o roteador possa retomar sua comutação mais eficiente</li></ul></p> <p>Para otimizar a utilização eficiente do comando <span class="cmd"><b>debug</b></span>, estes comandos podem ajudar:</p> <p><ul><li>O comando <span class="cmd"><b>service timestamps</b></span> é utilizado para adicionar um registro de data e hora a uma mensagem de depuração ou log. Esse recurso pode fornecer informações importantes sobre quando houve elementos de depuração e o tempo entre os eventos.</li><li>O comando <span class="cmd"><b>show processes</b></span> exibe a utilização da CPU para cada processo. Esses dados podem influenciar decisões sobre a utilização de um comando debug se indicarem que o sistema de produção já está sendo muito utilizado na adição de um comando debug.</li><li>O comando <span class="cmd"><b>no debug all</b></span> desabilita todos os comandos debug. Esse comando pode liberar recursos do sistema depois que você conclui a depuração.</li><li>O comando <span class="cmd"><b>terminal monitor</b></span> exibe a saída do comando debug e as mensagens de erro do sistema do terminal e da sessão atuais. Ao executar Telnet em um dispositivo e emitir um comando <span class="cmd"><b>debug</b></span>, você não verá nenhuma saída do comando, a menos que esse comando seja digitado.</li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1404050700">
<title><content-text>Recuperando uma senha de roteador</content-text></title>
<page type="OneColumn" id="tl1404050701">
<content-media type="StaticGraphic" id="cm4098248353">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050700/tl1404050701/cm4098248353.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050700/tl1404050701/cm4098248353text.xml"/></content-media>
<content-text><p><b>Sobre a recuperação de senha</b></p> <p>Você já se esqueceu da senha de um roteador? Talvez não, mas algum dia na sua carreira, você certamente conhecerá alguém que se esquecerá e precisará recuperá-la.</p> <p>A primeira coisa que precisa saber sobre a recuperação de senha é que, por razões de segurança, você deve ter acesso físico ao roteador. Você conecta o seu PC ao roteador por meio de um cabo de console.</p> <p>As senhas enable password e enable secret password protegem o acesso aos modos EXEC privilegiado e de configuração. A enable password pode ser recuperada, mas a enable secret é criptografada, devendo ser substituída por uma nova senha.</p> <p>O <content-link target="{5EB9EDBA-363A-4348-B008-CEBE651612E7}" type="glossary">registro de configuração</content-link> é um conceito sobre qual você obterá mais informações posteriormente nos seus estudos. O registro de configuração é semelhante às configuração da BIOS do seu PC, que controlam o processo de inicialização. Entre outras coisas, a BIOS informa ao PC que disco rígido inicializar. Em um roteador, um registro de configuração, representado por um único valor hexadecimal, informa ao roteador que etapas específicas executar quando ligá-lo. Os registros de configuração têm muitas utilizações e a recuperação de senha costuma ser a mais utilizada.</p></content-text>
</page>
<page type="OneColumn" id="tl1404050702">
<content-media type="StaticGraphic" id="cm7745591695">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404050000/tl1404050700/tl1404050702/cm7745591695.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404050000/tl1404050700/tl1404050702/cm7745591695text.xml"/></content-media>
<content-text><p><b>Procedimento de recuperação de senha do roteador</b></p> <p>Para recuperar a senha de um roteador, faça o seguinte:</p> <p><b>Preparar o dispositivo</b></p> <p><b>Etapa 1.</b> Conectar-se à porta de console.</p> <p><b>Etapa 2.</b> Mesmo perdida a enable password, ainda assim você teria acesso ao modo EXEC usuário. Digite <span class="cmd"><b>show version</b></span> no prompt e grave a definição do registro de configuração. </p> <span class="cmd"><p>R>#<b>show version</b></p></span> <span class="cmd"><p><i>&lt;saída do comando show omitida></i></p></span> <span class="cmd"><p>Configuration register is 0x2102</p></span> <span class="cmd"><p>R1></p></span> <p>O registro de configuração normalmente é definido como 0x2102 ou 0x102. Se não puder mais acessar o roteador (porque um login ou uma senha TACACS foi perdido), você poderá supor tranquilamente que o registro de configuração esteja definido como 0x2102.</p> <p><b>Etapa 3.</b> Utilizar a chave liga/desliga para desligar o roteador e ligá-lo novamente.</p> <p><b>Etapa 4.</b> Emita um sinal de <b>break </b>no terminal em 60 segundos após ligar o roteador no ROMmon. Um sinal de break é enviado utilizando uma sequência de chaves de interrupção apropriada ao programa terminal e ao sistema operacional.</p> <p><b>Clique no botão Ignorar inicialização na figura.</b></p> <p><b>Etapa 5.</b> Digitar <span class="cmd"><b>confreg 0x2142</b></span> no prompt <span class="cmd">rommon 1></span>. Isso faz o roteador ignorar a configuração de inicialização na qual a enable password esquecida é armazenada.</p> <p><b>Etapa 6.</b> Digitar <span class="cmd"><b>reset</b></span> no prompt <span class="cmd">rommon 2></span>. O roteador é reinicializado, mas ignora a configuração salva.</p> <p><b>Etapa 7.</b> Digitar <span class="cmd"><b>no</b></span> depois de cada pergunta de configuração ou pressionar <b>Ctrl-C</b> para ignorar o procedimento de configuração inicial.</p> <p><b>Etapa 8.</b> Digitar <span class="cmd"><b>enable</b></span> no prompt <span class="cmd">Router></span>. Isso leva você ao modo enable, devendo ser capaz de ver o prompt <span class="cmd">Router#</span>.</p> <p><b>Clique no botão Acessar NVRAM na figura.</b></p> <p><b>Etapa 9.</b> Digitar <span class="cmd"><b>copy startup-config running-config</b></span> para copiar o conteúdo da NVRAM para a memória RAM. Tome cuidado! Não digite <span class="cmd"><b>copy running-config startup-config</b></span>, ou você apagará a sua configuração de inicialização.</p> <p><b>Etapa 10.</b> Digitar <span class="cmd"><b>show running-config</b></span>. Nessa configuração, o comando <span class="cmd"><b>shutdown</b></span> é exibido em todas as interfaces porque todas elas estão desativadas no momento. Mas o mais importante é que agora você pode ver as senhas (enable password, enable secret, vty, console) nos formatos criptografado ou não-criptografado. Você pode reutilizar senhas não-criptografadas. Você deve alterar senhas criptografadas para uma nova senha.</p> <p><b>Clique no botão Redefinir senhas na figura.</b></p> <p><b>Etapa 11.</b> Digitar <span class="cmd"><b>configure terminal</b></span>. O prompt <span class="cmd">R1(config)#</span> é exibido.</p> <p><b>Etapa 12.</b> Digitar <span class="cmd"><b>enable secret </b><i>password</i></span> para alterar a senha enable secret. Por exemplo: </p> <p><span class="cmd">R1(config)# <b>enable secret cisco</b></span></p> <p><b>Etapa 13.</b> Emitir o comando <span class="cmd"><b>no shutdown</b></span> em todas as interfaces desejadas. Você pode emitir um comando <span class="cmd"><b>show ip interface brief</b></span> para confirmar se a configuração da sua interface está correta. Todas as interfaces que você deseja usar devem ser exibidas como ativadas.</p> <p><b>Etapa 14.</b> Digitar <span class="cmd"><b>config-register </b><i>configuration_register_setting</i></span>. <span class="cmd"><i>configuration_register_setting</i></span> é o valor registrado na Etapa 2 ou 0x2102. Por exemplo: </p> <p><span class="cmd">R1(config)#<b>config-register 0x2102</b></span></p> <p><b>Etapa 15.</b> Pressionar <b>Ctrl-Z</b> ou digitar <span class="cmd"><b>end</b></span> para sair do modo de configuração. O prompt <span class="cmd">R1#</span> é exibido.</p> <p><b>Etapa 16.</b> Digitar <span class="cmd"><b>copy running-config startup-config</b></span> para confirmar as alterações.</p> <p>Agora você concluiu a recuperação de senha. A digitação do comando <span class="cmd"><b>show version</b></span> irá confirmar que o roteador utilizará a definição do registro de configuração configurado na próxima reinicialização.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1404060000">
<title><content-text>Laboratórios do capítulo</content-text></title>
<topic type="" id="tl1404060100">
<title><content-text>Configuração básica de segurança</content-text></title>
<page type="OneColumn" id="tl1404060101">
<content-media type="ActivityLab" id="cm9304799322">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404060000/tl1404060100/tl1404060101/cm9304799322/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1404000000/tl1404060000/tl1404060100/tl1404060101/cm9304799322/icontext.xml"/></content-media>
<content-text><p>Neste laboratório, você irá aprender a configurar a segurança básica de rede usando a rede mostrada no diagrama de topologia. Você saberá como configurar a segurança do roteador de três maneiras diferentes: utilizando a CLI, o recurso auto-secure e o Cisco SDM. Você também aprenderá a gerenciar o software IOS Cisco. </p></content-text>
</page>
</topic>
<topic type="" id="tl1404060200">
<title><content-text>Configuração avançada de segurança</content-text></title>
<page type="OneColumn" id="tl1404060201">
<content-media type="ActivityLab" id="cm6268979545">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404060000/tl1404060200/tl1404060201/cm6268979545/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1404000000/tl1404060000/tl1404060200/tl1404060201/cm6268979545/icontext.xml"/></content-media>
<content-text><p>Neste laboratório, você irá configurar a segurança usando a rede mostrada no diagrama de topologia. Se você precisar de assistência, consulte o laboratório básico de segurança. No entanto, tente fazer o máximo possível. Para este laboratório, não use a proteção por senha ou login em nenhuma linha de console porque isso pode causar o logout acidental. No entanto, você ainda deve proteger a linha de console usando outros meios. Utilize <b>ciscoccna</b> em todas as senhas deste laboratório. </p></content-text>
</page>
</topic>
<topic type="" id="tl1404060300">
<title><content-text>Identificação e solução de problemas de configuração de segurança</content-text></title>
<page type="OneColumn" id="tl1404060301">
<content-media type="ActivityLab" id="cm7541640364">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404060000/tl1404060300/tl1404060301/cm7541640364/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1404000000/tl1404060000/tl1404060300/tl1404060301/cm7541640364/icontext.xml"/></content-media>
<content-text><p>Sua empresa contratou recentemente um novo engenheiro de rede que criou alguns problemas de segurança na rede com configurações incorretas e omissões. Seu chefe lhe pediu para corrigir os erros que o novo engenheiro cometeu ao configurar os roteadores. Enquanto corrige os problemas, verifique se todos os dispositivos estão seguros, mas ainda acessíveis para administradores, e que todas as redes são alcançáveis. Todos os roteadores devem ser acessíveis com SDM do PC1. Verificar se um dispositivo é seguro usando ferramentas como Telnet e ping. O uso não autorizado dessas ferramentas deve ser bloqueado. Por outro lado, o uso autorizado deve ser permitido. Para este laboratório, não use a proteção por login ou senha em nenhuma linha de console para impedir o bloqueio acidental. Use <b>ciscoccna</b> para todas as senhas deste cenário.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1404070000">
<title><content-text>Resumo do capítulo</content-text></title>
<topic type="" id="tl1404070100">
<title><content-text>Resumo do capítulo</content-text></title>
<page type="OneColumn" id="tl1404070101">
<content-media type="StaticGraphic" id="cm1850904879">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404070000/tl1404070100/tl1404070101/cm1850904879.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404070000/tl1404070100/tl1404070101/cm1850904879text.xml"/></content-media>
<content-text><p>A importância da segurança de rede não pode ser subestimada. Este capítulo enfatizou a importância de desenvolver uma política de segurança efetiva e de aceitar o que ela exige que você faça. Você conhece as ameaças à sua rede, tanto internas quanto externas, e sabe as etapas básicas que você precisa executar para se proteger dessas ameaças. Além disso, agora você compreende os requisitos para equilibrar segurança em relação a acesso. </p> <p>Os ataques de rede vêm de todas as direções e de muitas formas. Os ataques de senha são fáceis de iniciar e fáceis de se conter. As táticas da engenharia social exigem que os usuários desenvolvam um determinado nível de desconfiança e cuidado. Quando consegue acesso à rede, um atacante podem literalmente abrir todos os trincos. Mas os atacantes nem sempre obtêm acesso para acabar com tudo. Os ataques de negação de serviço podem ser iniciados, sobrecarregando os recursos de rede ao ponto em que não conseguem mais funcionar. Worms, vírus e cavalos-de-Troia podem penetrar redes e continuar se espalhando e infectando os dispositivos.</p> <p>Uma das principais tarefas na proteção de uma rede é proteger os roteadores. Os roteadores são o gateway da rede, sendo os alvos óbvios. Conversas administrativas básicas incluindo segurança física, manutenção do IOS e backup dos arquivos de configuração já são um começo. O software IOS Cisco fornece vários recursos de segurança para proteger roteadores e bloquear acessosos por portas e serviços utilizados, e a maioria deles pode ser feito utilizando-se o recurso de bloqueio em uma etapa do Cisco SDM.</p></content-text>
</page>
<page type="FullScreen" id="tl1404070102">
<content-media type="ChapterSummary" id="cm9180026423">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404070000/tl1404070100/tl1404070102/cm9180026423.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1404000000/tl1404070000/tl1404070100/tl1404070102/cm9180026423text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl1404070103">
<content-media type="ActivityPKA" id="cm2898938218">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404070000/tl1404070100/tl1404070103/cm2898938218/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1404000000/tl1404070000/tl1404070100/tl1404070103/cm2898938218/icontext.xml"/></content-media>
<content-text><p>Esta atividade é uma revisão cumulativa do capítulo que abrange o roteamento e a autenticação de OSPF e a atualização da imagem do IOS Cisco.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E4_PTAct_4_7_1.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1404080000">
<title><content-text>Teste do capítulo</content-text></title>
<topic type="" id="tl1404080100">
<title><content-text>Teste do capítulo</content-text></title>
<page type="FullScreen" id="tl1404080101">
<content-media type="ChapterQuiz" id="cm9162402892">	<title><content-text></content-text></title>	<media ref="tl1404000000/tl1404080000/tl1404080100/tl1404080101/cm9162402892/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1404000000/tl1404080000/tl1404080100/tl1404080101/cm9162402892/icontext.xml"/></content-media>
<content-text><p>Teste do capítulo</p></content-text>
</page>
</topic>
</section>
</chapter>
