<chapter type="" id="tl1302000000">
<title><content-text>Configuração e conceitos básicos de switch</content-text></title>
<section type="ChapterIntroduction" id="tl1302000000">
<title><content-text>Introdução do capítulo</content-text></title>
<topic type="" id="tl1302000100">
<title><content-text>Introdução do capítulo</content-text></title>
<page type="OneColumn" id="tl1302000101">
<content-media type="StaticGraphic" id="cm8811092258">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302000000/tl1302000100/tl1302000101/cm8811092258.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302000000/tl1302000100/tl1302000101/cm8811092258text.xml"/></content-media>
<content-text><p>Neste capítulo, você aproveitará as habilidades aprendidas em CCNA Exploration 4.0: Fundamentos de rede, revisando e reforçando essas habilidades com atividades de prática detalhadas. Você obterá informações sobre algumas ameaças mal-intencionadas importantes a switches e aprenderá a habilitar um switch com uma configuração inicial segura.</p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1302010000">
<title><content-text>Introdução a redes locais Ethernet/802.3</content-text></title>
<topic type="" id="tl1302010100">
<title><content-text>Principais elementos de redes Ethernet/802.3</content-text></title>
<page type="OneColumn" id="tl1302010101">
<content-media type="AnimationPartialScreen" id="cm6599066154">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010100/tl1302010101/cm6599066154.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010100/tl1302010101/cm6599066154text.xml"/></content-media>
<content-text><p>Neste tópico, você obterá informações sobre os principais componentes do padrão Ethernet que têm um papel significativo no design e na implementação de redes comutadas. Você explorará como funciona a comunicação Ethernet e como os switches têm um papel no processo de comunicação.</p> <p><b>CSMA/CD</b></p> <p>Os sinais Ethernet são transmitidos para todos os hosts conectados à LAN que usam um conjunto especial de regras para determinar que estação pode acessar a rede. O conjunto de regras que a Ethernet usa se baseia na tecnologia de detecção de colisão/acesso múltiplo com verificação de operadora (<content-link target="{E7409730-B57D-4D24-BD8E-55A1E6825361}" type="glossary">CSMA/CD</content-link>) IEEE. Você pode se lembrar de Exploração CCNA: Fundamentos de Rede que o CSMA/CD só costuma ser usado com uma comunicação half-duplex normalmente encontrada em hubs. Switches em full duplex não usam CSMA/CD. </p> <p><b>Verificação de operadora</b></p> <p>No <content-link target="{A3CE1583-9B6D-465F-813B-5A6009A7F183}" type="glossary">método de acesso</content-link> CSMA/CD, todos os dispositivos de rede com <content-link target="{256CF550-F074-48E5-8103-B69B5027EE37}" type="glossary">mensagens</content-link> a serem enviadas devem ouvir antes de transmitir. </p> <p>Se detectar um sinal de outro dispositivo, um dispositivo aguardará um tempo especificado antes de tentar transmitir. </p> <p>Quando não há tráfego detectado, um dispositivo transmite sua mensagem. Enquanto essa transmissão ocorre, o dispositivo continua ouvindo o tráfego ou as <content-link target="{F5466B4B-AE68-4A1C-A958-20226B006365}" type="glossary">colisões</content-link> na rede local. Depois que a mensagem é enviada, o dispositivo retorna a seu modo ouvinte padrão. </p> <p><b>Multiacesso</b></p> <p>Se a distância entre dispositivos for tanta que a latência dos sinais de um dispositivo significa que esses sinais não são detectados por um segundo dispositivo, este também poderá começar a transmitir. O meio agora tem dois dispositivos transmitindo sinais ao mesmo tempo. As mensagens se propagarão pelo meio até se encontrarem. A essa altura, os sinais se misturam e as mensagens são destruídas; houve uma colisão. Embora as mensagens estejam corrompidas, o restante dos sinais continua se propagando pelo meio.</p> <p><b>Detecção de colisões</b></p> <p>Quando um dispositivo está no modo ouvinte, ele não pode detectar a ocorrência de uma colisão na mídia compartilhada, porque todos os dispositivos podem detectar um aumento na <content-link target="{FEC68528-1A02-4F3F-8B23-DA717000C367}" type="glossary">amplitude</content-link> do sinal acima do nível normal.</p> <p>Quando ocorre uma colisão, os outros dispositivos no modo ouvinte, bem como todos os dispositivos transmissores, detectam o aumento na amplitude do sinal. Todos os dispositivos transmissores continuam transmitindo para assegurar que todos os dispositivos na rede detectem a colisão. </p> <p><b>Sinal de interferência e <content-link target="{A2B2A844-4968-4B3E-B753-DAF1E83B8CCA}" type="glossary">backoff</content-link></b> aleatório</p> <p>Quando uma colisão é detectada, os dispositivos transmissores enviam um sinal de interferência. O sinal de interferência notifica os demais dispositivos sobre uma colisão, para que eles possam invocar um um <content-link target="{5811B475-9F2B-4629-8D35-61A4F8AA3170}" type="glossary">algoritmo</content-link> back off. Esse algoritmo de back off faz com que todos os dispositivos parem de transmitir por um intervalo aleatório, o que permite a redução dos sinais de colisão. </p> <p>Depois que o <content-link target="{F670155B-3440-4CF2-9B70-4D9D6FCC3BE9}" type="glossary">atraso</content-link> expira em um dispositivo, este retorna ao modo "ouvir antes de transmitir". Um período de back off aleatório assegura que os dispositivos envolvidos na colisão não tentem reenviar o tráfego ao mesmo tempo, o que poderia fazer com que todo o processo fosse repetido. No entanto, durante o período de back off, um terceiro dispositivo pode transmitir antes de qualquer um dos dois dispositivos envolvidos na colisão ter uma chance de retransmitir. </p> <p><b>Clique no botão Reproduzir para ver a animação.</b></p></content-text>
</page>
<page type="OneColumn" id="tl1302010102">
<content-media type="InteractiveGraphicHotspots" id="cm6592500901">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010100/tl1302010102/cm6592500901.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010100/tl1302010102/cm6592500901text.xml"/></content-media>
<content-text><p><b>Comunicação Ethernet</b></p> <p>Consulte a área Comunicação Ethernet selecionada na figura.</p> <p>A comunicação em uma rede local comutada ocorre de três formas: <content-link target="{E58DFCA8-F518-4924-80E4-F117A1079B68}" type="glossary">unicast</content-link>, broadcast e <content-link target="{10A4A01F-1FA1-4A6E-8F19-91771518A1C7}" type="glossary">multicast</content-link>:</p> <p><b>Unicast:</b> Comunicação na qual um quadro é enviado de um host e endereçado a um destino específico. Na transmissão unicast, há apenas um remetente e um receptor. A transmissão unicast é a forma predominante de transmissão em redes locais e na Internet. Entre os exemplos de protocolos que usam transmissões unicast estão HTTP, <content-link target="{24CE73E3-8272-411F-A003-3BCA8A0A690F}" type="glossary">SMTP</content-link>, FTP e <content-link target="{7D425FA9-6AB1-4533-BDDE-C464A5411AB4}" type="glossary">Telnet</content-link>.</p> <p><b>Broadcast:</b> Comunicação na qual um quadro é enviado de um endereço para todos os outros endereços. Nesse caso, há apenas um remetente, mas as informações são enviadas para todos os receptores conectados. A transmissão de broadcast é essencial durante o envio da mesma mensagem para todos os dispositivos na rede local. Um exemplo de transmissão de broadcast é a consulta de resolução de endereço que o protocolo de resolução de endereços (<content-link target="{F76C8C60-1FFB-4488-96C0-8D598F58CF2D}" type="glossary">ARP</content-link>, Address Resolution Protocol) envia para todos os computadores em uma rede local.</p> <p><b>Multicast:</b> Comunicação na qual um quadro é enviado para um grupo específico de dispositivos ou clientes. Os clientes da transmissão multicast devem ser membros de um <content-link target="{911B0C25-02FF-4A99-8506-EC16E30CA08F}" type="glossary">grupo multicast</content-link> lógico para receber as informações. Um exemplo de transmissão multicast é a transmissão de vídeo e de voz associada a uma reunião de negócios colaborativa, com base em rede.</p> <p><b>Quadro Ethernet</b></p> <p><b>Clique no botão Quadro Ethernet na figura.</b></p> <p>O primeiro curso da nossa série, Exploração CCNA: Fundamentos de Rede, descreveu a estrutura do quadro Ethernet em detalhes. Como uma revisão rápida, a estrutura do quadro Ethernet adiciona <content-link target="{88388721-FF55-4516-9245-6EEBC2FD0FC9}" type="glossary">cabeçalhos</content-link> e <content-link target="{834B9EB6-4485-47BB-B899-C346CA11DF41}" type="glossary">trailers</content-link> na <content-link target="{53DC00C5-BE36-4B98-B7BA-5E311EFD191B}" type="glossary">PDU</content-link> da Camada 3 para encapsular a mensagem enviada. O cabeçalho e o trailer Ethernet têm várias seções (ou campos) de informações usadas pelo protocolo Ethernet. A figura mostra a estrutura do quadro Ethernet padrão atual, o IEEE 802.3 (Ethernet) revisado.</p> <p><b>Passe o mouse sobre cada nome de campo para ver sua descrição.</b></p> <p><b>Campos Preâmbulo e Início do delimitador de quadro</b></p> <p>Os campos Preâmbulo (7 <content-link target="{8A09C115-BA8C-4B23-88F4-12EC0E8455C0}" type="glossary">bytes</content-link>) e Início do delimitador de quadro (SFD) (1 byte) são usados na <content-link target="{6D6BEFFD-E8CD-40F7-9420-14816B287743}" type="glossary">sincronização</content-link> entre os dispositivos remetentes e receptores. Esses primeiros oito bytes do quadro são usados para chamar a atenção dos nós receptores. Basicamente, os primeiros bytes informam aos receptores para se prepararem para receber um novo quadro. </p> <p><b>Campo Endereço MAC de destino</b></p> <p>O campo Endereço MAC de Destino (6 bytes) é o identificador do receptor desejado. Esse endereço é usado pela Camada 2 para auxiliar um dispositivo a determinar se um quadro está endereçado a ele. O endereço no quadro é comparado com o endereço MAC no dispositivo. Se houver correspondência, o dispositivo aceitará o quadro.</p> <p><b>Campo Endereço <content-link target="{273330A2-89C5-4CE1-AA04-48ED03991731}" type="glossary">MAC de origem</content-link></b></p> <p>O campo Endereço MAC de origem (6 bytes) identifica a placa de rede (<content-link target="{C799F83E-7595-445C-9A96-EA4F4F9A378A}" type="glossary">NIC</content-link>) ou a interface de origem do quadro. Os switches usam esse endereço para adicionar a suas tabelas de pesquisa.</p> <p><b>Campo Tamanho/Tipo</b></p> <p>O campo Tamanhp/Tipo (2 bytes) define o comprimento exato do campo de dados do quadro. Esse campo é usado posteriormente como parte da Sequência de verificação do quadro (<content-link target="{FE317C1A-61F3-44CD-AC03-1ED78EBA92FB}" type="glossary">FCS</content-link>) para assegurar que a mensagem tenha sido recebida corretamente. Apenas um comprimento ou um tipo de quadro pode ser informado aqui. Se a finalidade do campo for designar um tipo, o campo Tipo descreverá que protocolo está implementado. Quando um nó recebe um quadro e o quadro Tamanho/Tipo designa um tipo, o nó determina que protocolo de camada superior está presente. Se o valor de dois <content-link target="{DA3063BD-7918-4C3C-8B26-ADA718AD1F8B}" type="glossary">octetos</content-link> for igual ou maior que 0x0600 <content-link target="{65FDCD2C-4FE9-4ABE-93B9-4C5649541C14}" type="glossary">hexadecimal</content-link> ou 1536 decimal, o conteúdo do campo Dados será decodificado de acordo com o protocolo indicado; se o valor de dois bytes for inferior a 0x0600, o valor representará o comprimento dos dados no quadro.</p> <p><b>Campos Dados e Pad</b></p> <p>Os campos Dados e Pad (de 46 a 1500 bytes) contêm os dados encapsulados de uma camada de nível superior, que é uma PDU de Camada 3 genérica ou, mais normalmente, um pacote <content-link target="{A2FC74BA-9345-4EEF-9664-0AD95F5A5C92}" type="glossary">IPv4</content-link>. Todos os quadros devem ter pelo menos 64 bytes (tamanho máximo auxilia na detecção de colisões). Se um pacote pequeno for encapsulado, o campo Pad será usado para aumentar o tamanho do quadro até o mínimo. </p> <p><b>Campo Sequência de verificação de quadro</b></p> <p>O campo FCS (4 bytes) detecta erros em um quadro. Ele usa uma verificação de redundância cíclica (<content-link target="{C38A8B93-FE0C-4E17-9A4C-B9D46C98A765}" type="glossary">CRC</content-link>). O dispositivo emissor inclui os resultados de uma CRC no campo FCS do quadro. O dispositivo receptor recebe o quadro e gera uma CRC para procurar erros. Se o cálculo for correspondente, é sinal de que não ocorreu nenhum erro. Se os cálculos não corresponderem, o quadro será ignorado.</p> <p><b>Endereço MAC</b></p> <p><b>Clique no botão Endereço MAC na figura.</b></p> <p>Em Exploração CCNA: Fundamentos de Rede, você obteve informações sobre o endereço MAC. Um endereço MAC Ethernet é um valor em duas partes com 48 <content-link target="{E4E8253D-0EB6-4C29-81F9-30ECB57AA1BD}" type="glossary">bits</content-link> <content-link target="{AC522937-7EA0-4264-8B9E-05980C4FA2F4}" type="glossary">binário</content-link> expresso como 12 dígitos hexadecimais. Os formatos de endereço podem ser semelhantes a 00-05-9A-3C-78-00, 00:05:9A:3C:78:00 ou 0005.9A3C.7800. </p> <p>Todos os dispositivos conectados a uma rede local Ethernet têm interfaces com endereços MAC. A placa de rede usa o endereço MAC para determinar se uma mensagem deve ser passada às camadas superiores para processamento. O endereço MAC é codificado permanentemente em um chip ROM em uma placa de rede. Esse tipo de endereço MAC é conhecido como um endereço gravado na ROM (BIA). Alguns fornecedores permitem a modificação local do endereço MAC. O endereço MAC é composto do identificador exclusivo organizacional (<content-link target="{7E24C459-A5F6-4723-94D9-8618D6D02800}" type="glossary">OUI</content-link>) e o número de atribuição do fornecedor.</p> <p><b>Passe o mouse sobre cada nome de campo para ver sua descrição.</b></p> <p><b>Identificador exclusivo organizacional</b></p> <p>A OUI é a primeira parte de um endereço MAC. Ela tem 24 bits e identifica o fabricante da placa de rede. O IEEE regula a atribuição de números OUI. No OUI, há dois bits que só têm significado quando usados no endereço de destino, da seguinte forma:</p> <p>Bit de broadcast ou multicast: Indica para a interface receptora que o destino do quadro é todos ou um grupo de estações finais no segmento de rede local.</p> <p>Bit de endereço administrado localmente: Se o endereço MAC atribuído por fornecedor puder ser modificado localmente, esse bit deverá ser definido.</p> <p><b>Número de atribuição do fornecedor</b></p> <p>A parte atribuída por fornecedor do endereço MAC tem 24 bits e identifica exclusivamente o hardware Ethernet. Ela pode ser BIA ou modificado pelo software indicado pelo bit local.</p></content-text>
</page>
<page type="OneColumn" id="tl1302010103">
<content-media type="StaticGraphic" id="cm8521414499">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010100/tl1302010103/cm8521414499.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010100/tl1302010103/cm8521414499text.xml"/></content-media>
<content-text><p><b>Configurações bidirecionais</b></p> <p>Há dois tipos de configurações bidirecionais usados na comunicação em uma rede Ethernet: <content-link target="{F55CFE4F-6445-42B7-8941-484B0EF94737}" type="glossary">half duplex</content-link> e <content-link target="{BA9A8765-4A88-4B3E-9568-CC8358D9B081}" type="glossary">full duplex</content-link>. A figura mostra as duas configurações bidirecionais disponíveis em equipamentos de rede modernos.</p> <p><b>Half duplex:</b> A comunicação em half duplex depende do fluxo de dados unidirecional quando o envio e o recebimento de dados não são executados ao mesmo tempo. Isso é semelhante à forma de funcionamento de walkie-talkies ou rádios bidirecionais à medida que apenas uma pessoa pode falar por vez. Se alguém fala com outra pessoa já falando, ocorre uma colisão. Dessa forma, a comunicação em half duplex implementa CSMA/CD para ajudar a reduzir o potencial de colisões e as detectar quando elas acontecerem. A comunicação em half duplex tem problemas de desempenho devido à espera constante, porque os dados só podem fluir em uma direção por vez. A conexão em half duplex costuma ser vista em hardwares mais antigos, como hubs. Os nós acoplados a hubs que compartilham sua conexão com uma porta de switch devem funcionar em modo half duplex porque os computadores finais devem ser capazes de detectar colisões. Os nós poderão funcionar em um modo half duplex se a placa de rede não puder ser configurada para operações em full duplex. Nesse caso, a porta no switch também usa como padrão um modo half duplex. Por causa dessas limitações, a comunicação em full duplex substituiu half duplex nos hardwares mais atuais.</p> <p><b>Full duplex:</b> Na comunicação em full duplex, como o fluxo de dados é bidirecional, os dados podem ser enviados e recebidos ao mesmo tempo. O suporte bidirecional aprimora o desempenho, reduzindo o tempo de espera entre as transmissões. Grande parte das placas de rede Ethernet, Fast Ethernet e Gigabit Ethernet vendidas atualmente oferece recursos em full duplex. No modo full duplex, o <content-link target="{7529E04B-CF9A-49E0-8417-902362DCCADC}" type="glossary">circuito</content-link> de detecção de colisões é desabilitado. Os quadros enviados pelos dois nós finais conectados não podem colidir porque os nós finais usam dois circuitos separados no cabo de rede. Cada conexão em full duplex usa apenas uma porta. As conexões em full duplex exigem um switch que suporte full duplex ou uma conexão direta entre dois nós em que cada um suporte full duplex. Os nós acoplados diretamente a uma porta de switch dedicada com placas de rede que suportam full duplex devem ser conectados a portas de switch configuradas para funcionar no modo full duplex. </p> <p>A eficiência da configuração Ethernet compartilhada, padrão, baseada em hub costuma ser de 50 a 60 por cento da largura de banda 10-Mb/s. A Fast Ethernet em full duplex, em comparação com a largura de banda de 10-Mb/s, oferece 100 por cento de eficiência em ambas as direções (100-Mb/s na transmissão e 100-Mb/s na recepção).</p></content-text>
</page>
<page type="OneColumn" id="tl1302010104">
<content-media type="StaticGraphic" id="cm8926194326">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010100/tl1302010104/cm8926194326.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010100/tl1302010104/cm8926194326text.xml"/></content-media>
<content-text><p><b>Configurações de porta de switch</b></p> <p>Uma porta em um switch precisa ser configurada com configurações bidirecionais correspondentes ao tipo de meio. Posteriormente neste capítulo, você definirá configurações bidirecionais. Os switches Cisco Catalyst têm três configurações:</p> <p><ul><li>A opção <span class="cmd"><b>auto</b></span> define a negociação automática do modo bidirecional. Com a negociação automática habilitada, as duas portas se comunicam para decidir o melhor modo de funcionamento.</li><li>A opção <span class="cmd"><b>full</b></span> define o modo full duplex.</li><li>A opção <span class="cmd"><b>half</b></span> define o modo half duplex.</li></ul></p> <p>Para as portas Fast Ethernet e 10/100/1000, o padrão é auto. Para portas <content-link target="{6C2B457D-DF85-43D7-93BC-A81B60EEB889}" type="glossary">100BASE-FX</content-link>, o padrão é full. As portas 10/100/1000 funcionam no modo half ou full duplex quando são definidas como 10 ou 100 Mb/s, mas quando definidas como 1.000 Mb/s, elas funcionam apenas no modo full duplex. </p> <p><b>Nota:</b> A negociação automática pode gerar resultados imprevisíveis. Por padrão, quando a negociação automática falha, o switch Catalyst define a porta de switch correspondente no modo half duplex. Esse tipo de falha acontece quando um dispositivo acoplado não suporta a negociação automática. Se for configurado manualmente para funcionar no modo half duplex, o dispositivo corresponderá ao modo padrão do switch. No entanto, erros de negociação automática poderão acontecer se o dispositivo for configurado manualmente para funcionar no modo full duplex. Ter half duplex em uma extremidade e full duplex em outra causa erros de colisão na extremidade half duplex. Para evitar essa situação, defina manualmente os parâmetros bidirecionais do switch de acordo com o dispositivo acoplado. Se a porta de switch estiver no modo full duplex e o dispositivo acoplado estiver no modo half duplex, verifique os erros de FCS na porta full duplex do switch.</p> <p><b>auto-MDIX</b></p> <p>As conexões entre dispositivos específicos, como switch-a-switch ou switch-a-roteador, costumavam exigir o uso de determinados tipos de cabo (crossover, straight-through). Na verdade, agora é possível usar o comando de configuração da interface <span class="cmd"><b>mdix auto</b></span> na CLI para ativar o recurso de interface que depende do meio automático (auto-MDIX). </p> <p>Quando o recurso auto-MDIX é habilitado, o switch detecta o tipo de cabo exigido para conexões Ethernet de cobre e configura as interfaces corretamente. Por isso, é possível usar um cabo crossover ou straight-through para conexões com uma porta 10/100/1000 de cobre no switch, independentemente do tipo de dispositivo na outra extremidade da conexão. </p> <p>Por padrão, o recurso auto-MDIX é habilitado em switches que executam o Cisco IOS versão 12.2(18)SE ou posterior. Para versões entre o Cisco IOS versão 12.1(14)EA1 e 12.2(18)SE, o recurso auto-MDIX é desabilitado por padrão. </p></content-text>
</page>
<page type="OneColumn" id="tl1302010105">
<content-media type="InteractiveGraphicHotspots" id="cm1113921920">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010100/tl1302010105/cm1113921920.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010100/tl1302010105/cm1113921920text.xml"/></content-media>
<content-text><p><b>Endereçamento MAC e tabelas de endereços MAC do switch</b></p> <p>Os switches usam endereços MAC para direcionar a comunicação de rede por meio da trama do switch para a porta apropriada no sentido do nó de destino. A trama do switch são os circuitos integrados e a programação da máquina complementar que permite os caminhos de dados em todo o switch a ser controlado. Para que um switch saiba qual porta usar para transmitir um quadro unicast, ele deve aprender primeiro quais são os nós em cada uma de suas portas.</p> <p>Um switch determina como tratar estruturas de dados recebidos, usando sua tabela de endereços MAC. Um switch cria sua tabela de endereços MAC, registrando os endereços MAC dos nós conectados a cada uma de suas portas. Quando um endereço MAC de um nó específico em uma porta específica é registrado na tabela de endereços, o switch sabe enviar tráfego com destino a esse nó específico pela porta mapeada para esse nó em transmissões subseqüentes.</p> <p>Quando uma estrutura de dados de entrada é recebida por um switch e o endereço MAC de destino não está na tabela, o switch encaminha o quadro por todas as portas, com exceção da porta em que foi recebido. Quando o nó de destino responde, o switch registra o endereço MAC do nó na tabela de endereços do campo de endereço de origem do quadro. Em redes com vários switches interconectados, as tabelas de endereços MAC registram vários endereços MAC para as portas que conectam os switches que refletem o que há além do nó. Normalmente, as portas de switch usadas para interconectar dois switches têm vários endereços MAC registrados na tabela de endereços MAC. </p> <p>Para ver como isso funciona,<b> clique nas etapas na figura.</b></p> <p>Isto descreve esse processo:</p> <p><b>Etapa 1.</b> O switch recebe um quadro de broadcast do PC 1 na Porta 1.</p> <p><b>Etapa 2.</b> O switch insere o endereço MAC de origem e a porta de switch que recebeu o quadro na tabela de endereços.</p> <p><b>Etapa 3.</b> Como o endereço de destino é um broadcast, o switch <content-link target="{64998211-9AE3-4C1B-9B1D-1E8EB818B9A8}" type="glossary">inunda</content-link> o quadro a todas as portas, exceto a porta em que ele recebeu o quadro.</p> <p><b>Etapa 4.</b> O dispositivo de destino responde ao broadcast com um quadro unicast endereçado a PC 1.</p> <p><b>Etapa 5. </b>O switch insere o endereço MAC de origem de PC 2 e o número de porta do switch que recebeu o quadro na tabela de endereços. O endereço de destino do quadro e de sua porta associada é encontrado na tabela de endereços MAC.</p> <p><b>Etapa 6.</b> Agora o switch pode encaminhar quadros entre os dispositivos de origem e de destino sem envio, porque tem entradas na tabela de endereços que identificam as portas associadas.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302010200">
<title><content-text>Considerações de design para redes Ethernet/802.3</content-text></title>
<page type="OneColumn" id="tl1302010201">
<content-media type="StaticGraphic" id="cm5792244204">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010200/tl1302010201/cm5792244204.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010200/tl1302010201/cm5792244204text.xml"/></content-media>
<content-text><p>Neste tópico, você obterá informações sobre as diretrizes de design Ethernet necessárias à interpretação de designs de rede hierárquica para pequenas e médias empresas. Este tópico se concentra no broadcast e em <content-link target="{ECA59FA7-8A15-452C-94AA-61143905D420}" type="glossary">domínios de colisão</content-link>, além da forma como eles afetam os designs de rede local.</p> <p><b>Largura de banda e produtividade</b></p> <p>Uma grande desvantagem das redes Ethernet 802.3 são as colisões. Colisões ocorrem quando dois hosts transmitem quadros simultaneamente. Quando uma colisão ocorre, os quadros transmitidos são danificados ou destruídos. Os hosts de envio param de enviar mais transmissões durante um período aleatório, com base nas regras Ethernet 802.3 de CSMA/CD. </p> <p>Como a Ethernet não tem como controlar que nó estará em transmissão em qualquer momento, sabemos que as colisões ocorrerão quando mais de um nó tentar obter acesso à rede. A resolução de Ethernet para colisões não ocorre instantaneamente. Além disso, um nó envolvido em uma colisão não pode começar a transmitir até que o assunto seja resolvido. Na medida em que mais dispositivos são adicionados ao meio compartilhada, cresce a probabilidade de colisões. Por isso, é importante compreender que, durante a declaração da largura de banda da rede Ethernet de 10 Mb/s, a largura de banda completa para transmissão só está disponível após a resolução de todas as colisões. A produtividade líquida da porta (os dados médios efetivamente transmitidos) será reduzida consideravelmente em decorrência da função de quantos nós desejam usar a rede. Um hub não oferece nenhum mecanismo para eliminar ou reduzir essas colisões, e a largura de banda disponível que qualquer nó precisa transmitir é reduzida de maneira correspondente. Dessa forma, o número de nós que compartilham a rede Ethernet afetará a produtividade da rede.</p> <p><b>Domínios de colisão</b></p> <p>Durante a expansão de uma rede local Ethernet para acomodar mais usuários com mais requisitos de largura de banda, o potencial de colisões aumenta. Para reduzir o número de nós em um determinado segmento de rede, é possível criar segmentos de rede física separados, chamados de domínios de colisão.</p>  <p>A área de rede na qual quadros têm origem e colidem é chamada de domínio de colisão. Todos os ambientes de meio compartilhados, como os criados usando-se hubs, são domínios de colisão. Quando um host é conectado a uma porta de switch, o switch cria uma conexão dedicada. Essa conexão é considerada um domínio de colisão individual porque o tráfego é mantido separado de todos os demais tráfegos, o que elimina o potencial para uma colisão. A figura mostra domínios de colisão exclusivos em um ambiente comutado. Por exemplo, se um switch com 12 portas tem um dispositivo conectado em cada porta, 12 domínios de colisão são criados. </p> <p>Como você sabe agora, um switch cria uma tabela de endereços MAC, aprendendo os endereços MAC dos hosts conectados a cada porta de switch. Quando dois hosts conectados desejam se comunicar, o switch usa a tabela de comutação para estabelecer uma conexão entre as portas. O circuito é mantido até que a <content-link target="{C6ADF545-2A49-405F-9EBC-367F87845567}" type="glossary">sessão</content-link> seja finalizada. Na figura, Host A e Host B desejam se comunicar. O switch cria a conexão conhecida como um microssegmento. O microssegmento se comporta como se a rede tivesse apenas dois hosts, um host de envio e um de recebimento, fornecendo utilização máxima da largura de banda disponível.</p> <p>Os switches reduzem colisões e melhoram o uso da largura de banda em segmentos de rede porque eles fornecem largura de banda dedicada a cada segmento de rede.</p></content-text>
</page>
<page type="OneColumn" id="tl1302010202">
<content-media type="AnimationPartialScreen" id="cm1362364655">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010200/tl1302010202/cm1362364655.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010200/tl1302010202/cm1362364655text.xml"/></content-media>
<content-text><p><b>Domínios de broadcast</b></p> <p>Embora os switches <content-link target="{EA3669E0-11A9-4DBE-94B2-350BB62B299F}" type="glossary">filtrem</content-link> a maioria dos quadros com base nos endereços MAC, eles não filtram quadros de broadcast. Para que outros switches na LAN obtenham quadros difundidos, estes devem ser encaminhados por switches. Uma coleção de switches interconectados forma um único domínio de broadcast. Apenas uma <content-link target="{EF413246-D5D4-463C-8011-B0CE06BF3176}" type="glossary">entidade</content-link> da Camada 3, como um roteador ou uma rede LAN virtual (VLAN), pode parar um domínio de broadcast da Camada 3. Os roteadores e as VLANs são usados para segmentar os domínios de colisão e de broadcast. O uso de VLANs para segmentar domínios de broadcast será abordado no próximo capítulo.</p> <p>Quando um dispositivo deseja enviar um broadcast de Camada 2, o endereço MAC de destino no quadro é definido como unidade. Definindo o destino como esse valor, todos os dispositivos aceitam e processam o quadro difundido.</p> <p>O domínio de broadcast na Camada 2 é conhecido como o domínio de broadcast MAC. O domínio de broadcast MAC consiste em todos os dispositivos na rede local que recebem broadcasts de quadro por um host em todas as demais máquinas na rede local. Isso é mostrado na primeira metade da animação.</p> <p>Quando um switch recebe um quadro difundido, ele encaminha o quadro para todas as suas portas, exceto a porta de entrada em que o switch recebeu o quadro de broadcast. Cada dispositivo acoplado reconhece o quadro de broadcast e o processa. Isso acarreta uma eficiência de rede reduzida, porque a largura de banda é usada para propagar o tráfego de broadcast. </p> <p>Quando dois switches são conectados, o domínio de broadcast aumenta. Neste exemplo, um quadro de broadcast é encaminhado para todas as portas conectadas no switch S1. O switch S1 é conectado ao switch S2. O quadro é propagado para todos os dispositivos conectados ao switch S2. Isso é mostrado na segunda metade da animação.</p></content-text>
</page>
<page type="OneColumn" id="tl1302010203">
<content-media type="AnimationPartialScreen" id="cm1585525660">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010200/tl1302010203/cm1585525660.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010200/tl1302010203/cm1585525660text.xml"/></content-media>
<content-text><p><b>Latência de rede</b></p> <p>Latência é o tempo que um quadro ou um pacote demora para ir da estação de origem para o destino final. Os usuários dos aplicativos baseados em rede enfrentam latência quando precisam aguardar muitos minutos para acessar os dados armazenados em uma central de dados ou quando um site demora muitos minutos para ser carregado em um <content-link target="{C454A437-B916-41F2-9530-DFE82203CD3C}" type="glossary">navegador</content-link>. A latência tem pelo menos três origens.</p> <p>Primeiro, existe o tempo necessário para que a placa de rede de origem insira pulsos de tensão no fio e o tempo necessário à placa de rede de destino para interpretar esses pulsos. Às vezes, isso é chamado de atraso de placa de rede, normalmente cerca de um microssegundo para uma placa de rede <content-link target="{4C126DA3-7185-440A-9E1E-F20201083B06}" type="glossary">10BASE-T</content-link>. </p> <p>Segundo, existe o <content-link target="{24B23177-1D7E-4850-AADE-BE60496F7CBF}" type="glossary">atraso de propagação</content-link> real à medida que o sinal demora para percorrer o cabo. Normalmente, são aproximadamente 0,556 microssegundos por 100 m para UTP Cat 5. O cabo mais longo e a velocidade nominal menor da propagação (<content-link target="{26FDAD06-9C5E-480A-B980-0AA447870110}" type="glossary">NVP</content-link>) resultam em mais atraso de propagação. </p> <p>Terceiro, a latência é adicionada com base nos dispositivos de rede que estão no caminho entre dois dispositivos. Eles são dispositivos de camadas 1, 2 ou 3. Essas três contribuições para com a latência podem ser identificadas na animação na medida em que o quadro atravessa a rede.</p> <p>A latência não depende exclusivamente da distância e do número de dispositivos. Por exemplo, se três switches configurados corretamente separarem dois computadores, os computadores poderão apresentar menos latência que se dois roteadores configurados corretamente os separassem. Isso é porque os roteadores realizam funções mais complexas e demoradas. Por exemplo, um roteador deve analisar os dados da Camada 3, enquanto os switches apenas analisam os dados da Camada 2. Como os dados da Camada 2 estão presentes na estrutura do quadro antes dos dados da Camada 2, os switches podem processar o quadro mais rapidamente. Os switches também suportam as altas taxas de transmissão das redes de voz, vídeo e dados, empregando circuitos integrados específicos de aplicativo (ASIC) para fornecer suporte a hardware para muitas tarefas de networking. Os recursos de switch adicionais, como o <content-link target="{3361AC74-9520-45AC-B2CC-5034B603EA5C}" type="glossary">armazenamento em buffer</content-link> da memória baseada na porta, a QoS do nível de porta e o gerenciamento de <content-link target="{787578BC-C491-4CE8-A277-B211C26B4438}" type="glossary">congestionamento</content-link>, também ajudam a reduzir a latência de rede.</p> <p>A latência com base no switch também pode se dever à trama do switch substituída. Muitos switches de nível de entrada não têm produtividade interna o suficiente para gerenciar os recursos da largura de banda completa em todas as portas simultaneamente. O switch precisa ser capaz de gerenciar a quantidade de dados de pico esperada na rede. Na medida em que a tecnologia de comutação melhora, a latência no switch deixa de ser o problema. A causa predominante da latência de rede em uma rede local comutada é mais uma função da mídia transmitida, os <content-link target="{1266F2E0-C8B0-4A7F-A079-F7D77F0AF291}" type="glossary">protocolos de roteamento</content-link> usados e os tipos de aplicativos executados na rede.</p></content-text>
</page>
<page type="OneColumn" id="tl1302010204">
<content-media type="AnimationPartialScreen" id="cm7454716557"><title><content-text></content-text></title><media ref="tl1302000000/tl1302010000/tl1302010200/tl1302010204/cm7454716557.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010200/tl1302010204/cm7454716557text.xml"/></content-media>
<content-text><p><b>Congestionamento de rede</b></p> <p>O principal motivo para segmentar uma rede local em partes menores é isolar o tráfego e obter um uso melhor da largura de banda por usuário. Sem segmentação, uma rede local fica rapidamente obstruída com tráfego e colisões. A figura mostra uma rede sujeita ao congestionamento por vários dispositivos de nó em uma rede com base em hub.</p> <p>Estas são as causas mais comuns do congestionamento de rede:</p> <p><ul><li> tecnologias de computador e de rede cada vez mais eficientes. Hoje, CPUs, barramentos e periféricos são muito mais rápidos e eficientes que os usados nas primeiras redes locais, logo, eles podem enviar mais dados em taxas maiores pela rede, podendo processar mais dados com taxas maiores.</li><li> Maior volume do tráfego da rede. O tráfego da rede agora é mais comum porque os recursos remotos são necessários para realizar o trabalho básico. Além disso, as mensagens de broadcast, como consultas de resolução enviadas por ARP, podem afetar negativamente a estação final e o desempenho da rede.</li><li> Aplicativos de largura de banda alta. Os aplicativos estão ficando cada vez mais avançados em sua funcionalidade, exigindo mais e mais largura de banda. Editoração eletrônica, design de engenharia, vídeo sob demanda (<content-link target="{6AFC4EA7-E702-40E4-ACA1-7FF21B65F944}" type="glossary">VoD</content-link>), aprendizagem eletrônica (e-learning) e streaming de vídeo, todos exigem uma eficiência e uma velocidade de processamento considerável.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1302010205">
<content-media type="StaticGraphic" id="cm5464365176">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010200/tl1302010205/cm5464365176.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010200/tl1302010205/cm5464365176text.xml"/></content-media>
<content-text><p><b>Segmentação de rede local</b></p> <p>As redes locais são segmentadas em vários domínios de colisão e de broadcast menores usando roteadores e switches. Anteriormente, eram usadas bridges, mas esse tipo de equipamento de rede é raramente visto em uma rede local comutada moderna. A figura mostra os roteadores e os switches que segmentam uma rede local.</p> <p>Na figura, a rede é segmentada em quatro domínios de colisão que usam o switch. </p> <p><b>Passe o mouse sobre o domínio de colisão</b> para ver o tamanho de cada domínio de colisão.</p> <p>No entanto, o domínio de broadcast na figura abrange toda a rede.</p> <p><b>Passe o mouse sobre o domínio de broadcast</b> para ver o tamanho do domínio de broadcast.</p> <p><b>Bridges e switches</b></p> <p>Embora as bridges e os switches compartilhem muitos atributos, várias distinções diferenciam essas tecnologias. As bridges costumam ser usadas para segmentar uma rede local para um alguns segmentos menores. Os switches costumam ser usados para segmentar uma rede local grande em muitos segmentos menores. As bridges só têm algumas portas para conectividade de rede local, e os switches têm muitas.</p> <p><b>Roteadores</b></p> <p>Embora o <content-link target="{BB4D34B1-0900-4A0E-82EE-244A3DBD4446}" type="glossary">switch de rede local</content-link> reduza o tamanho dos domínios de colisão, todos os hosts conectados ao switch e na mesma VLAN ainda estão no mesmo domínio de broadcast. Como os roteadores não encaminham tráfego de broadcast por padrão, eles podem ser usados para criar domínios de broadcast. Criar domínios de broadcast adicionais, menores, com um roteador reduz o tráfego de broadcast e fornece mais largura de banda disponível para uma comunicação unicast. Cada interface do roteador se conecta a uma rede separada, contendo tráfego de broadcast no segmento de rede local no qual se originou.</p> <p><b>Clique no botão Domínio de colisão e de broadcast com controle</b> para ver o efeito da introdução de roteadores e mais switches na rede.</p> <p><b>Passe o mouse sobre as duas áreas de texto</b> para identificar os domínios de broadcast e de colisão diferentes.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302010300">
<title><content-text>Considerações sobre o design da rede local</content-text></title>
<page type="OneColumn" id="tl1302010301">
<content-media type="InteractiveGraphicHotspots" id="cm5646437508">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010300/tl1302010301/cm5646437508.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010300/tl1302010301/cm5646437508text.xml"/></content-media>
<content-text><p><b>Controlando latência de rede</b></p> <p>Ao criar uma rede para reduzir a latência, você precisa considerar a latência causada por cada dispositivo na rede. Os switches podem introduzir latência em uma rede quando estão em excesso em uma rede ocupada. Por exemplo, se um switch do nível de núcleo precisar suportar 48 portas, cada uma sendo capaz de funcionar em full duplex 1000 Mb/s, o switch deverá suportar cerca de 96 Gb/s de produtividade interna se precisar manter velocidade de fio total em todas as portas simultaneamente. Nesse exemplo, os requisitos de produtividade informados são típicos de switches do nível de núcleo, e não de switches do nível de acesso.</p> <p>O uso de dispositivos de camada mais alta também pode aumentar a latência em uma rede. Quando um dispositivo da Camada 3, como um roteador, precisa examinar as informações de endereçamento da Camada 3 contidas no quadro, ele deve ir além do quadro de um dispositivo da Camada 2, que cria um tempo de processamento maior. Limitar o uso de dispositivos de camada mais alta pode ajudar a reduzir a latência de rede. No entanto, o uso apropriado de dispositivos da Camada 3 ajuda a evitar a contenção no tráfego de broadcast em um domínio de broadcast grande ou a taxa de colisão alta em um domínio de colisão grande.</p> <p><b>Removendo gargalos</b></p> <p>Gargalos em uma rede são locais em que um alto congestionamento de rede resulta em desempenho lento.</p> <p><b>Clique no botão Removendo gargalos de rede na figura.</b></p> <p>Nesta figura, que mostra seis computadores conectados a um switch, um único servidor também é conectado ao mesmo switch. Cada estação de trabalho e o servidor são todos conectados usando uma placa de rede 1000 Mb/s. O que acontece quando todos os seis computadores tentam acessar o servidor ao mesmo tempo? Cada estação de trabalho obtém um acesso dedicado de 1000 Mb/s ao servidor? Não, todos os computadores precisam compartilhar a conexão de 1000 Mb/s que o servidor tem com o switch. Cumulativamente, os computadores são capazes de 6000 Mb/s com o switch. Se cada conexão fosse usada com total capacidade, cada computador poderia usar apenas 167 Mb/s, um sexto da largura de banda de 1000 Mb/s. Para reduzir o gargalo no servidor, placas de rede adicionais podem ser instaladas, o que aumenta a largura de banda total que o servidor é capaz de receber. A figura mostra cinco placas de rede no servidor e aproximadamente cinco vezes a largura de banda. A mesma lógica se aplica a topologias de rede. Quando switches com vários nós são interconectados por uma única conexão de 1000 Mb/s, um gargalo é criado nessa única interconexão. </p> <p>Links de maior capacidade (por exemplo, atualizando de conexões de 100 Mb/s para 1000 Mb/s) e usar tecnologias de agregação de links para vários links (por exemplo, integrando dois links como se eles fossem um para dobrar a capacidade de uma conexão) podem ajudar a reduzir os gargalos criados por links de inter-switch e de roteador. Embora a configuração da agregação de link esteja fora do escopo deste curso, é importante considerar os recursos de um dispositivo ao avaliar as necessidades de uma rede. Quantas portas e de que velocidade o dispositivo é capaz? Qual é a produtividade interna do dispositivo? Ele pode tratar as cargas de tráfego antecipadas considerando sua posição na rede?</p></content-text>
</page>
<page type="FullScreen" id="tl1302010302">
<content-media type="ActivityCustom" id="cm8784091560">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302010000/tl1302010300/tl1302010302/cm8784091560.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302010000/tl1302010300/tl1302010302/cm8784091560text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="tl1302020000">
<title><content-text>Encaminhando quadros usando um switch</content-text></title>
<topic type="" id="tl1302020100">
<title><content-text>Métodos de encaminhamento de switch</content-text></title>
<page type="OneColumn" id="tl1302020101">
<content-media type="InteractiveGraphicHotspots" id="cm8927355598">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302020000/tl1302020100/tl1302020101/cm8927355598.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302020000/tl1302020100/tl1302020101/cm8927355598text.xml"/></content-media>
<content-text><p><b>Métodos de encaminhamento de pacotes do switch</b></p> <p>Neste tópico, você saberá como os switches encaminham quadros Ethernet em uma rede. Os switches podem funcionar em modos diferentes, que podem ter efeitos positivos e negativos. </p> <p>Antigamente, os switches usavam um dos seguintes métodos de encaminhamento para comutar dados entre portas de rede: armazenar e encaminhar ou direta. Consultar o botão Métodos de Encaminhamento do Switch mostra esses dois métodos. No entanto, armazenar e encaminhar é o único método de encaminhamento usado nos modelos atuais dos switches Cisco Catalyst.</p> <p><b>Comutação armazenar e encaminhar</b></p> <p>Na comutação armazenar e encaminhar, quando o switch recebe o quadro, ele armazena os dados em buffers até que o quadro completo seja recebido. Durante o processo de armazenamento, o switch analisa o quadro para obter informações sobre seu destino. Nesse processo, o switch também executa uma verificação de erros usando a porção de trailer da verificação de redundância cíclica (CRC) do quadro Ethernet. </p> <p>A CRC usa uma fórmula matemática, baseada no número de bits (1s) no quadro, para determinar se o quadro recebido tem um erro. Depois de confirmar a integridade do quadro, o quadro é encaminhado pela porta apropriada até seu destino. Quando um erro é detectado em um quadro, o switch descarta o quadro. Descartar quadros com erros reduz a quantidade de largura de banda consumida por dados corrompidos. A comutação armazenar e encaminhar é obrigatória para a análise da Qualidade de Serviço (QoS) em redes convergidas nas quais a classificação de quadro para priorização de tráfego é necessária. Por exemplo, os fluxos de dados de voz sobre IP precisam ter prioridade sobre o tráfego da navegação na Web. </p> <p><b>Clique no botão Comutação “armazenar e encaminhar” e reproduza a animação</b> para uma demonstração do processo armazenar e encaminhar.</p> <p><b>Comutação direta</b></p> <p>Na comutação direta, o switch age nos dados assim que eles são recebidos, mesmo que a transmissão não seja concluída. O switch armazena em buffer o suficiente do quadro para ler o endereço MAC de destino de forma que possa determinar para qual porta encaminhar os dados. O endereço MAC de destino está localizado nos seis primeiros bytes do quadro após o preâmbulo. O switch observa o endereço MAC de destino em sua tabela de comutação, determina a porta da interface de saída e encaminha o quadro para seu destino pela porta de switch designada. O switch não executa nenhuma verificação de erros no quadro. Como o switch não precisa aguardar que todo quadro seja armazenado em buffer e como ele não executa nenhuma verificação de erros, a comutação direta é mais rápida que a comutação armazenar e encaminhar. No entanto, como o switch não executa nenhuma verificação de erros, ele encaminha quadros corrompidos ao longo da rede. Os quadros corrompidos consomem largura de banda enquanto são encaminhados. A placa de rede de destino acaba descartando os quadros corrompidos. </p> <p><b>Clique no botão Comutação direta e reproduza a animação</b> para uma demonstração do processo de comutação direta.</p> <p>Há duas variantes da comutação direta:</p> <p><ul><li>Comutação fast forward: A comutação fast forward oferece o nível mais baixo de latência. A comutação fast forward encaminha imediatamente um pacote depois de ler o endereço de destino. Como a comutação fast forward inicia o encaminhamento antes de todo o pacote ser recebido, talvez haja momentos em que os pacotes sejam retransmitidos com erros. Isso raramente ocorre, e o <content-link target="{CC725D46-A3BF-435E-A6B8-DFA80A737083}" type="glossary">adaptador</content-link> de rede de destino descarta o pacote com defeito assim que ele é recebido. No modo fast forward, a latência é medida do primeiro bit recebido até o primeiro bit transmitido. A comutação fast forward é o método direto típico de comutação.</li><li>Comutação sem fragmentos: Na comutação sem fragmentos, o switch armazena os primeiros 64 bytes do quadro antes de encaminhar. A comutação sem fragmentos pode ser vista como um compromisso entre as comutações armazenar e encaminhar e direta. O motivo pelo qual a comutação sem fragmentos armazena apenas os primeiros 64 bytes do quadro é que a maioria dos erros de rede e das colisões ocorre durante os primeiros 64 bytes. A comutação sem fragmentos tenta aprimorar a comutação direta, executando uma pequena verificação de erros nos primeiros 64 bytes do quadro para assegurar que uma colisão não tenha ocorrido antes do encaminhamento do quadro. A comutação sem fragmentos é um compromisso entre a latência alta e a integridade alta da comutação armazenar e encaminhar e a baixa latência e a integridade reduzida da comutação direta.</li></ul></p> <p>Alguns switches são configurados para executar a comutação direta base por base até que um limite de erro definido pelo usuário seja alcançado e, em seguida, eles alteram automaticamente para armazenar e encaminhar. Quando a taxa de erros fica abaixo do limite, a porta retorna automaticamente à comutação direta. </p></content-text>
</page>
</topic>
<topic type="" id="tl1302020200">
<title><content-text>Comutação simétrica e assimétrica</content-text></title>
<page type="OneColumn" id="tl1302020201">
<content-media type="StaticGraphic" id="cm8770582878">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302020000/tl1302020200/tl1302020201/cm8770582878.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302020000/tl1302020200/tl1302020201/cm8770582878text.xml"/></content-media>
<content-text><p><b>Comutação simétrica e assimétrica</b></p> <p>Neste tópico, você saberá as diferenças entre a comutação simétrica e assimétrica em uma rede. A comutação de rede local pode ser classificada como simétrica ou assimétrica com base na forma como a largura de banda é alocada para portas de switch. </p> <p>A comutação simétrica fornece conexões comutadas entre portas com a mesma largura de banda, como todas as portas de 100 Mb/s ou todas as portas de 1000 Mb/s. Um switch de rede local assimétrico fornece conexões comutadas entre portas de largura de banda diferente, como uma combinação de portas de 10 Mb/s, 100 Mb/s e 1000 Mb/s. A figura mostra as diferenças entre as comutações simétrica e assimétrica.</p> <p><b>Assimétrica</b></p> <p>A comutação assimétrica permite que mais largura de banda seja dedicada a uma porta de switch do servidor para impedir um gargalo. Isso permite fluxos de tráfego melhores onde vários clientes estão se comunicando com um servidor ao mesmo tempo. O armazenamento em buffer da memória é obrigatório em um switch assimétrico. Para que o switch seja compatível com as taxas de dados diferentes em portas diferentes, todos os quadros são mantidos no buffer da memória e movidos para a porta um a um conforme necessário.</p> <p><b>Simétrica</b></p> <p>Em um switch simétrico, todas as portas têm a mesma largura de banda. A comutação simétrica é otimizada para uma carga de tráfego distribuída razoavelmente, como em um ambiente da área de trabalho ponto-a-ponto. </p> <p>Um gerente de rede deve avaliar a quantidade necessária da largura de banda para conexões entre os dispositivos para acomodar o fluxo de dados dos aplicativos baseados na rede. A maioria dos switches atuais é assimétrica porque esse tipo de switch oferece a maior flexibilidade.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302020300">
<title><content-text>Armazenamento em buffer da memória</content-text></title>
<page type="OneColumn" id="tl1302020301">
<content-media type="StaticGraphic" id="cm6550736017">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302020000/tl1302020300/tl1302020301/cm6550736017.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302020000/tl1302020300/tl1302020301/cm6550736017text.xml"/></content-media>
<content-text><p><b>Armazenamento em buffer na memória compartilhada e baseado na porta</b></p> <p>Como você aprendeu em um tópico anterior, um switch analisa alguns ou todos os pacotes antes de encaminhá-los para o host de destino com base no método de encaminhamento. O switch armazena o pacote enquanto ele está em um buffer de memória. Neste tópico, você saberá como dois tipos de buffers de memória são usados durante o encaminhamento do switch.</p> <p>Um switch Ethernet pode usar uma técnica de armazenamento em buffer para armazenar quadros antes de encaminhá-los. O armazenamento em buffer também poderá ser usado quando a <content-link target="{ABABC373-9634-45E2-B00C-B3993E9C39B9}" type="glossary">porta de destino</content-link> estiver ocupada devido ao congestionamento e o switch armazenará o quadro até que ele possa ser transmitido. O uso da memória para armazenar os dados é chamado de armazenamento em buffer de memória. O armazenamento em buffer de memória é criado no hardware do switch e, diferentemente do aumento da quantidade de memória disponível, não é configurável. </p> <p>Há dois métodos de armazenamento em buffer de memória: memória compartilhada e baseada na porta.</p> <p><b>Armazenamento em buffer da memória baseado na porta</b></p> <p>No armazenamento em buffer de memória baseada na porta, os quadros são armazenados em <content-link target="{C6389BDB-8FDE-4DDC-B136-F1D76AD113DA}" type="glossary">filas</content-link> vinculadas a portas de entrada e de saída específicas. Um quadro só será transmitido para a porta de saída quando todos os quadros à frente dele na fila forem transmitidos com êxito. É possível para um único quadro atrasar a transmissão de todos os quadros na memória por conta de uma porta de destino ocupada. Esse atraso ocorre mesmo que os demais quadros possam ser transmitidos para portas de destino abertas.</p> <p><b>Armazenamento em buffer de memória compartilhada </b></p> <p>O armazenamento em buffer de memória compartilhada deposita todos os quadros em um buffer de memória comum compartilhado por todas as portas no compartilhamento do switch. A quantidade da memória de buffer exigida por uma porta é alocada dinamicamente. Os quadros no buffer são vinculados dinamicamente à porta de destino. Isso permite que o pacote seja recebido em uma porta e, em seguida, transmitido em outra porta, sem movê-lo para uma fila diferente.</p> <p>O switch mantém um mapa do quadro para links de porta que mostra onde um pacote precisa ser transmitido. O link de mapa será limpo depois que o quadro for transmitido com êxito. O número de quadros armazenados no buffer é restringido pelo tamanho de todo o buffer de memória, não estando limitado a um único buffer de porta. Isso permite a transmissão de quadros maiores com menos quadros descartados. Isso é importante para a comutação assimétrica, em que os quadros são trocados entre portas de taxas diferentes.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302020400">
<title><content-text>Comutação das camadas 2 e 3</content-text></title>
<page type="OneColumn" id="tl1302020401">
<content-media type="StaticGraphic" id="cm2677008305">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302020000/tl1302020400/tl1302020401/cm2677008305.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302020000/tl1302020400/tl1302020401/cm2677008305text.xml"/></content-media>
<content-text><p><b>Comutação das camadas 2 e 3</b></p> <p>Neste tópico, você revisará o conceito da comutação de Camada 2 e obterá informações sobre a comutação de Camada 3. </p> <p>Um switch de rede local de Camada 2 executa a comutação e a filtragem exclusivamente com base no endereço MAC (Camada 2) <content-link target="{EBD44657-E367-4341-A9E8-9869F4C8F211}" type="glossary">camada de enlace de dados</content-link> de OSI. Um switch da Camada 2 é totalmente transparente a protocolos de rede e aplicativos de usuário. Lembre-se de que um switch da Camada 2 cria uma tabela de endereços MAC usada para tomar decisões de encaminhamento.</p> <p>Um switch da Camada 3, como o Catalyst 3560, funciona de maneira semelhante ao switch da Camada 2, como o Catalyst 2960, mas em vez de usar apenas as informações de endereço MAC da Camada 2 para decisões de encaminhamento, um switch da Camada 3 também pode usar as informações de <content-link target="{78086AFB-D7A5-484C-8EBF-75E58648F035}" type="glossary">endereço IP</content-link>. Em vez de apenas aprender que endereços MAC estão associados a quais portas, um switch da Camada 3 também pode aprender quais endereços IP estão associados às suas interfaces. Isso permite ao switch da Camada 3 direcionar tráfego por toda a rede com base nas informações de endereço IP. </p> <p>Os switches da Camada 3 também são capazes de executar funções de roteamento da Camada 3, o que reduz a necessidade de roteadores dedicados em uma rede local. Como os switches da Camada 3 têm hardware de comutação especializado, eles normalmente podem rotear dados com a mesma velocidade que os comutam.</p></content-text>
</page>
<page type="OneColumn" id="tl1302020402">
<content-media type="StaticGraphic" id="cm8588206458">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302020000/tl1302020400/tl1302020402/cm8588206458.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302020000/tl1302020400/tl1302020402/cm8588206458text.xml"/></content-media>
<content-text><p><b>Comparação entre switch e roteador da Camada 3</b></p> <p>No tópico anterior, você aprendeu que os switches da Camada 3 examinam informações da Camada 3 em um pacote Ethernet para tomar decisões de encaminhamento. Os switches da Camada 3 podem rotear pacotes entre segmentos de rede local diferentes para roteadores dedicados de maneira semelhante. No entanto, os switches da Camada 3 não substituem por completo a necessidade de roteadores em uma rede.</p> <p>Os roteadores executam serviços adicionais de Camada 3 que os switches da Camada 3 não são capazes de realizar. Os roteadores também são capazes de executar tarefas de encaminhamento de pacotes não encontradas em switches da Camada 3, como estabelecer conexões de acesso remoto com redes remotas e dispositivos. Os roteadores dedicados são mais flexíveis quanto ao suporte de placas de interface WAN (WIC), o que faz deles os preferenciais e, apenas às vezes, a opção para se conectar a uma WAN. Os switches da Camada 3 podem fornecer funções de roteamento básicas em uma rede local e reduzir a necessidade de roteadores dedicados.</p></content-text>
</page>
<page type="FullScreen" id="tl1302020403">
<content-media type="ActivityCustom" id="cm6482546125">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302020000/tl1302020400/tl1302020403/cm6482546125.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302020000/tl1302020400/tl1302020403/cm6482546125text.xml"/></content-media>
<content-text></content-text>
</page>
</topic>
</section>
<section type="" id="tl1302030000">
<title><content-text>Configuração do gerenciamento do switch</content-text></title>
<topic type="" id="tl1302030100">
<title><content-text>Navegando nos modos da interface de linha de comando</content-text></title>
<page type="OneColumn" id="tl1302030101">
<content-media type="StaticGraphic" id="cm7468029910">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030100/tl1302030101/cm7468029910.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030100/tl1302030101/cm7468029910text.xml"/></content-media>
<content-text><p><b>Os modos da interface de linha de comando</b></p> <p>Neste tópico, você revisará o que aprendeu em Exploração CCNA: Fundamentos de rede sobre como navegar nos vários modos da interface de linha de comando (<content-link target="{F05D9C81-B737-4B28-BAC0-0B648043D086}" type="glossary">CLI</content-link>).</p> <p>Como recurso de segurança, o <content-link target="{D6B6D994-6D7F-48CF-8B32-4F45277B15FD}" type="glossary">software IOS Cisco</content-link> separou as sessões <content-link target="{A7FAF74F-3D5A-4E16-91A8-7A340D79B558}" type="glossary">EXEC</content-link> nestes níveis de acesso:</p> <p><ul><li><b>EXEC do usuário:</b> Permite a uma pessoa acessar apenas um número limitado de comandos de monitoramento básicos. O modo EXEC do usuário é o modo padrão em que você ingressa depois de fazer login em um switch Cisco na CLI. O modo EXEC do usuário é identificado pelo <span class="cmd">></span> prompt.</li><li><b>EXEC privilegiado:</b> Permite a uma pessoa acessar todos os comandos do dispositivo, como os usados na configuração e no gerenciamento, podendo ser protegido por senha para só permitir que usuários autorizados acessem o dispositivo. O modo EXEC privilegiado é identificado pelo <span class="cmd">#</span> prompt.</li></ul></p> <p>Para passar do modo EXEC do usuário para o modo EXEC privilegiado, digite o comando <span class="cmd"><b>enable</b></span>. Para passar do modo EXEC privilegiado para o modo EXEC do usuário, digite o comando <span class="cmd"><b>disable</b></span>. Em uma rede real, o switch solicita a senha. Digite a senha correta. Por padrão, a senha não é configurada. A figura mostra os comandos do Cisco IOS usados para navegar do modo EXEC do usuário para o modo EXEC privilegiado e vice-versa.</p> <p><b>Clique no botão EXEC do usuário e modo EXEC privilegiado na figura.</b></p> <p><b>Navegando em modos de configuração</b></p> <p>Ao ingressar no modo EXEC privilegiado no switch Cisco, você pode acessar outros modos de configuração. O software IOS Cisco usa uma hierarquia de comandos em sua estrutura do modo de comandos. Cada modo de comandos suporta comandos do Cisco IOS específicos relacionados a um tipo de operação no dispositivo.</p> <p>Há muitos modos de configuração. Por ora, você explorará como navegar em dois modos de configuração comuns: modo de configuração global e modo de configuração de interface. </p> <p><b>Clique no botão Navegando em modos de configuração na figura.</b></p> <p><b>Modo de configuração global</b></p> <p>O exemplo começa com o switch no modo EXEC privilegiado. Para configurar parâmetros de switch globais, como o nome de host do switch ou o endereço IP do switch usado para fins de gerenciamento, use o modo de configuração global. Para acessar o modo de configuração local, digite o comando <span class="cmd"><b>configure terminal</b></span> no modo EXEC privilegiado. O prompt muda para <span class="cmd">(config)#</span>.</p> <p><b>Modo de configuração de interface</b></p> <p>Configurar parâmetros específicos de interface é uma tarefa comum. Para acessar o modo de configuração da interface no modo de configuração global, digite o comando <span class="cmd"><b>interface</b><i> &lt;interface name></i></span> command. O prompt muda para <span class="cmd">(config-if)#</span>. Para sair do modo de configuração da interface, use o comando <span class="cmd"><b>exit</b></span>. O prompt muda novamente para <span class="cmd">(config)#</span>, informando você de que está no modo de configuração global. Para sair do modo de configuração global, digite novamente o comando <span class="cmd"><b>exit</b></span>. O prompt muda para <span class="cmd">#</span>, o que significa modo EXEC privilegiado.</p></content-text>
</page>
<page type="OneColumn" id="tl1302030102">
<content-media type="InteractiveGraphicHotspots" id="cm1391034365">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030100/tl1302030102/cm1391034365.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030100/tl1302030102/cm1391034365text.xml"/></content-media>
<content-text><p><b>Alternativas baseadas na interface gráfica do usuário à CLI</b></p> <p>Há várias alternativas de gerenciamento gráfico ao gerenciamento de um switch Cisco. Usar uma interface gráfica do usuário (<content-link target="{29A75FAE-A910-4511-BA53-5B9BD02A3A79}" type="glossary">GUI</content-link>) oferece um gerenciamento de switch simplificado e uma configuração sem conhecimento detalhado da Cisco CLI.</p> <p><b>Clique no botão Assistente de rede Cisco na figura.</b></p> <p><b>Assistente de rede Cisco</b> </p> <p>Assistente de rede Cisco é um aplicativo de <content-link target="{87A658F6-A903-42E4-A602-6FD161885153}" type="glossary">gerenciamento de rede</content-link> da interface gráfica do usuário baseada em PC otimizada para redes locais de pequenas e médias empresas. É possível configurar e gerenciar grupos de switches ou switches autônomos. A figura mostra a interface de gerenciamento do Assistente de Rede. O Assistente de rede Cisco está disponível a nenhum custo, podendo ser baixado em Cisco (nome de usuário/senha CCO obrigatórios): </p> <p><content-link target="http://www.cisco.com/en/US/prod/collateral/netmgtsw/ps6504/ps5931/product_data_sheet0900aecd8068820a.html" type="external">http://www.cisco.com/en/US/prod/collateral/netmgtsw/ps6504/ps5931/product_data_sheet0900aecd8068820a.html </content-link></p> <p><b>Clique no botão <content-link target="{C23A6A1F-2DAF-4DED-876D-F1359938E327}" type="glossary">CiscoView</content-link> na figura.</b></p> <p><b>Aplicativo CiscoView </b></p> <p>O aplicativo de gerenciamento de dispositivo CiscoView mostra uma exibição física do switch que é possível usar para definir parâmetros de configuração e exibir o status do switch e as informações de desempenho. O aplicativo CiscoView, comprado separadamente, pode ser um aplicativo autônomo ou parte de um protocolo de gerenciamento de rede comum (<content-link target="{EAAB3788-F914-4994-861D-BCE100321A88}" type="glossary">SNMP</content-link>). A figura mostra a interface de gerenciamento do CiscoView Device Manager. Obtenha mais informações sobre o CiscoView Device Manager em:</p> <p><content-link target="http://www.cisco.com/en/US/products/sw/cscowork/ps4565/prod_bulletin0900aecd802948b0.html" type="external">http://www.cisco.com/en/US/products/sw/cscowork/ps4565/prod_bulletin0900aecd802948b0.html</content-link> (em inglês)</p> <p><b>Clique no botão Gerenciador de dispositivo Cisco na figura.</b></p> <p><b>Gerente de dispositivo Cisco</b> </p> <p>Gerente de dispositivo Cisco é um software baseado na Web armazenado na memória do switch. É possível usar o Device Manager para configurar e gerenciar switches. É possível acessar o Device Manager em qualquer lugar da sua rede usando um navegador. A figura mostra a interface de gerenciamento.</p> <p><b>Clique no botão Gerenciamento de rede SNMP na figura.</b></p> <p><b>Gerenciamento de rede SNMP</b> </p> <p>É possível gerenciar switches em uma estação de gerenciamento compatível com SNMP, como HP OpenView. O switch pode fornecer informações de gerenciamento abrangentes e fornecer quatro grupos de monitoramento remoto (<content-link target="{B32DF816-3AAF-4474-828F-D91DDAA2FCEB}" type="glossary">RMON</content-link>). O gerenciamento de rede SNMP é mais comum em redes de grandes empresas.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302030200">
<title><content-text>Usando o recurso de ajuda</content-text></title>
<page type="OneColumn" id="tl1302030201">
<content-media type="StaticGraphic" id="cm9830909638">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030200/tl1302030201/cm9830909638.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030200/tl1302030201/cm9830909638text.xml"/></content-media>
<content-text><p><b>Ajuda sensível ao contexto</b></p> <p>A CLI do Cisco IOS oferece dois tipos de ajuda:</p> <p><ul><li><b>Ajuda da palavra:</b> Se você não se lembrar de um comando inteiro, mas se lembrar dos primeiros caracteres, digite a seqüência de caracteres seguida de um ponto de interrogação (<span class="cmd"><b>?</b></span>). Não inclua um espaço antes do ponto de interrogação. </li></ul></p> <p>Uma lista de comandos que começam com os caracteres digitados é exibida. Por exemplo, digitar <span class="cmd"><b>sh?</b></span> retorna uma lista de todos os comandos que começam com a seqüência de caracteres sh.</p> <p><ul><li><b>Ajuda da sintaxe de comando:</b> Se você não estiver familiarizado com os comandos disponíveis em seu contexto atual na CLI do Cisco IOS ou se você não souber os parâmetros obrigatórios ou disponíveis para concluir um determinado comando, digite o comando <span class="cmd"><b>?</b></span>. </li></ul></p> <p>Quando apenas <span class="cmd"><b>?</b></span> é digitado, uma lista de todos os comandos disponíveis no contexto atual é exibida. Se o comando <span class="cmd"><b>?</b></span> for digitado depois de um comando específico, os argumentos do comando serão exibidos. Se <span class="cmd">&lt;cr></span> for exibido, nenhum outro argumento será necessário para fazer o comando funcionar. Não se esqueça de incluir um espaço antes do ponto de interrogação para impedir que a CLI do Cisco IOS execute a ajuda de palavra, e não a ajuda de sintaxe do comando. Por exemplo, digite <span class="cmd"><b>show ?</b></span> para obter uma lista das opções de comando suportadas pelo comando <span class="cmd"><b>show</b></span>.</p> <p>A figura mostra as funções de ajuda Cisco.</p> <p>Usando o exemplo da configuração do relógio do dispositivo, vejamos como a ajuda de CLI funciona. Se o relógio do dispositivo precisar ser definido, mas a sintaxe de comando <span class="cmd"><b>clock</b></span> não for conhecida, a janela sensível ao contexto fornecerá um meio de verificar a sintaxe.</p> <p>A ajuda sensível ao contexto fornece todo o comando, mesmo que você digite apenas a primeira parte do comando, como <span class="cmd"><b>cl?</b></span>.</p> <p>Se você digitar o comando <span class="cmd"><b>clock</b></span> seguido da tecla Enter, uma mensagem de erro indicará que o comando está incompleto. Para exibir os parâmetros exigidos do comando <span class="cmd"><b>clock</b></span>, digite <span class="cmd"><b>?</b></span>, antecedido por um espaço. No exemplo <span class="cmd"><b>clock ?</b></span>, a saída de comando da ajuda mostra que a palavra-chave <span class="cmd"><b>set</b></span> é obrigatória depois de <span class="cmd"><b>clock</b></span>.</p>  <p>Se agora você digitar o comando <span class="cmd"><b>clock set</b></span>, outra mensagem de erro será exibida, indicando que o comando ainda está incompleto. Agora adicione um espaço e digite o comando <span class="cmd"><b>?</b></span> para exibir uma lista de argumentos do comando que estão disponíveis a essa altura para o determinado comando.</p> <p>Os argumentos adicionais necessários à definição do relógio são exibidos: a hora atual que usa horas, minutos e segundos. Para obter um excelente recurso sobre como usar a CLI do Cisco IOS, visite:</p> <p><content-link target="http://www.cisco.com/univercd/cc/td/doc/product/software/ios124/124cg/hcf_c/ch10/index.htm" type="external">http://www.cisco.com/univercd/cc/td/doc/product/software/ios124/124cg/hcf_c/ch10/index.htm</content-link> (em inglês).</p></content-text>
</page>
<page type="OneColumn" id="tl1302030202">
<content-media type="StaticGraphic" id="cm9919448934">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030200/tl1302030202/cm9919448934.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030200/tl1302030202/cm9919448934text.xml"/></content-media>
<content-text><p><b>Mensagens de erro da console</b></p> <p>As mensagens de erro da console ajudam a identificar problemas quando um comando incorreto é digitado. A figura fornece mensagens de erro de exemplo, o que elas significam e como obter ajuda quando elas são exibidas. </p></content-text>
</page>
</topic>
<topic type="" id="tl1302030300">
<title><content-text>Acessando o histórico de comandos</content-text></title>
<page type="OneColumn" id="tl1302030301">
<content-media type="StaticGraphic" id="cm5520714968">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030300/tl1302030301/cm5520714968.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030300/tl1302030301/cm5520714968text.xml"/></content-media>
<content-text><p><b>O buffer do histórico de comandos</b></p> <p>Quando você está configurando muitas interfaces em um switch, é possível economizar tempo ao redigitar comandos, usando o buffer do histórico de comandos do Cisco IOS. Neste tópico, você aprenderá a configurar o buffer do histórico de comandos para suportar suas iniciativas de configuração. </p> <p>A CLI Cisco fornece um histórico ou um registro de comandos digitados. Esse recurso, chamado de histórico de comandos, é especialmente útil para ajudar a relembrar comandos ou entradas longas ou complexas.</p> <p>Com o recurso do histórico de comandos, é possível concluir as seguintes tarefas:</p> <p><ul><li>Exiba o conteúdo do buffer de comandos.</li><li>Defina o tamanho do buffer do histórico de comandos.</li><li>Lembre comandos digitados anteriormente armazenados no buffer do histórico. Há um buffer para cada modo de configuração.</li></ul></p> <p>Por padrão, o histórico de comandos é habilitado e o sistema registra as últimas dez linhas de comando em seu buffer de histórico. É possível usar o comando <span class="cmd"><b>show history</b></span> para exibir os comandos EXEC digitados recentemente.</p></content-text>
</page>
<page type="OneColumn" id="tl1302030302">
<content-media type="StaticGraphic" id="cm4292848946">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030300/tl1302030302/cm4292848946.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030300/tl1302030302/cm4292848946text.xml"/></content-media>
<content-text><p><b>Configurar o buffer do histórico de comandos</b></p> <p>Nos produtos de rede Cisco que suportam o software Cisco IOS, o histórico de comandos permanece habilitado por padrão e as últimas dez linhas de comando são registradas no buffer do histórico. </p> <p>O histórico de comandos pode ser desabilitado durante a sessão terminal atual apenas usando o comando <span class="cmd"><b>terminal no history</b></span> no modo EXEC do usuário ou privilegiado. Quando o histórico de comandos é desabilitado, o dispositivo deixa de manter todas as linhas de comando digitadas anteriormente.</p>  <p>Para restaurar o valor padrão de dez linhas para o tamanho do histórico do terminal, digite o comando <span class="cmd"><b>terminal no history size</b></span> no modo EXEC privilegiado. A figura fornece uma explicação e um exemplo desses comandos do Cisco IOS.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302030400">
<title><content-text>A sequência de inicialização do switch</content-text></title>
<page type="OneColumn" id="tl1302030401">
<content-media type="StaticGraphic" id="cm1450538754">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030400/tl1302030401/cm1450538754.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030400/tl1302030401/cm1450538754text.xml"/></content-media>
<content-text><p><b>Descrever a sequência de inicialização</b></p> <p>Neste tópico, você aprenderá a sequência de comandos do Cisco IOS que um switch executa no estado desligado para exibir o prompt de login. Depois que um switch Cisco for ligado, ele passará pela seguinte seqüência de inicialização: </p> <p>O switch carrega o software boot loader. Boot loader é um programa pequeno armazenado na ROM, sendo executado quando o switch é ligado pela primeira vez.</p> <p>O boot loader:</p> <p><ul><li>Executa a inicialização de CPU de baixo nível. Ele inicializa os registradores de CPU, que controlam onde a memória física é mapeada, a quantidade de memória e sua velocidade. </li><li>Executa auto-teste de inicialização (<content-link target="{C3353D0F-DA92-4C6F-A1F7-BFACD98940CC}" type="glossary">POST</content-link>, power-on self-test) no subsistema de CPU. Ele testa a <content-link target="{B646BF74-37F2-428C-A443-1D878A4D6B4B}" type="glossary">DRAM</content-link> da CPU e a porção do dispositivo de rede que constitui o sistema de arquivos flash. </li><li>Inicializa o sistema de arquivos flash na placa do sistema. </li><li>Carrega uma imagem do software de sistema operacional padrão na memória e inicializa o switch. O boot loader localiza a imagem do Cisco IOS no switch, procurando inicialmente um diretório com o mesmo nome do arquivo da imagem (exceto a extensão .bin). Se ele não localizá-la lá, o software boot loader pesquisa todos os subdiretórios antes de continuar pesquisando o diretório original.</li></ul></p> <p>Em seguida, o sistema operacional inicializa as interfaces usando os comandos do Cisco IOS localizados no arquivo de configuração do sistema operacional, config.text, armazenado na memória flash do switch.</p> <p><b>Recuperando-se de uma falha do sistema</b></p> <p>O boot loader também fornecerá acesso no switch se o sistema operacional não puder ser usado. O boot loader tem um recurso de linha de comando que fornece acesso aos arquivos armazenados na <content-link target="{54277BBD-F779-42A2-8778-65F7AACBFBA0}" type="glossary">memória flash</content-link> antes do sistema operacional ser carregado. Na linha de comando do boot loader, é possível digitar comandos para formatar o sistema de arquivos da memória flash, reinstalar a imagem de software do sistema operacional ou recuperar uma senha perdida ou esquecida.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302030500">
<title><content-text>Preparar a configuração do switch</content-text></title>
<page type="OneColumn" id="tl1302030501">
<content-media type="InteractiveGraphicHotspots" id="cm8130178885">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030500/tl1302030501/cm8130178885.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030500/tl1302030501/cm8130178885text.xml"/></content-media>
<content-text><p><b>Preparar a configuração do switch</b></p> <p>A inicialização inicial de um switch Catalyst exige a conclusão das seguintes etapas:</p> <p><b>Etapa 1.</b> Antes de iniciar o switch, verifique o seguinte:</p> <p>Todas as conexões de cabo do rede estão seguras. </p> <p>O seu PC ou terminal está conectado à porta console.</p> <p>O seu aplicativo emulador terminal, como HyperTerminal, está em execução e configurado corretamente.</p> <p>A figura ilustra como conectar um PC a um switch que usa a porta console. </p> <p><b>Clique no botão Configurar HyperTerminal na figura.</b></p> <p>A figura mostra a configuração correta do HyperTerminal, que pode ser usado para exibir a console de um dispositivo Cisco.</p> <p><b>Etapa 2.</b> Acople o cabo de energia ao soquete da fonte de alimentação do switch. O switch será reiniciado. Alguns switches Catalyst, inclusive a série Cisco Catalyst 2960, não têm botões de energia.</p> <p><b>Etapa 3.</b> Observe a seguinte seqüência de inicialização:</p> <p>Quando o switch for ligado, o POST começará. Durante o POST, os <content-link target="{AD8F3D9F-FA55-496B-9ECE-E4F3537DA05A}" type="glossary">LEDs</content-link> piscam enquanto uma série de testes determinam se o switch está funcionando corretamente. Quando o POST é concluído, o LED SYST pisca rapidamente em verde. Se houver falha no switch durante o POST, o LED SYST acenderá em âmbar. Quando um switch falha durante o teste POST, é necessário repará-lo.</p> <p>Observe o texto da saída de comando do software Cisco IOS na console.</p> <p><b>Clique no botão Exibir processo de inicialização na console na figura.</b></p> <p>A figura mostra o processo de inicialização na console de um switch Cisco.</p> <p>Durante a inicialização inicial do switch, se forem detectadas falhas durante o POST, elas serão informadas à console, e o switch não iniciará. Se o POST for concluído com êxito, e o switch não tiver sido configurado antes, você será solicitado a configurar o switch.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302030600">
<title><content-text>Configuração básica do switch</content-text></title>
<page type="OneColumn" id="tl1302030601">
<content-media type="InteractiveGraphicHotspots" id="cm2534687127">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030600/tl1302030601/cm2534687127.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030600/tl1302030601/cm2534687127text.xml"/></content-media>
<content-text><p><b>Considerações sobre a interface de gerenciamento</b></p> <p>Um switch da camada de acesso é muito semelhante a um PC quanto à sua necessidade de configurar um endereço IP, uma <content-link target="{0E05A28B-B532-42D1-9841-778E4C029AA7}" type="glossary">máscara de sub-rede</content-link> e um gateway padrão. Para gerenciar um switch remotamente usando <content-link target="{9008538D-A177-4909-9433-6A2C8AF6863E}" type="glossary">TCP/IP</content-link>, você precisa atribuir um endereço IP ao switch. Na figura, você deseja gerenciar S1 em PC1, um computador usado para gerenciar a rede. Para fazer isso, você precisa atribuir um endereço IP ao switch S1. Esse endereço IP é atribuído a uma interface virtual chamada rede LAN virtual (VLAN), logo, é necessário assegurar que a VLAN seja atribuída a uma porta específica ou portas no switch. </p> <p>Na configuração padrão do switch, seu gerenciamento é controlado por meio da VLAN 1. Porém, uma prática recomendada para a configuração básica do switch é alterar a VLAN de gerenciamento para outra que não seja a VLAN 1. Os motivos para isso são explicados no próximo capítulo. A figura ilustra o uso de VLAN 99 como a VLAN de gerenciamento. No entanto, é importante considerar que uma interface diferente de VLAN 99 pode ser considerada para a interface de gerenciamento. </p> <p><b>Nota:</b> Você obterá mais informações sobre VLANs no próximo capítulo. Aqui o foco está em como fornecer acesso de gerenciamento ao switch que usa uma VLAN alternativa. Alguns dos comandos apresentados aqui são explicados mais detalhadamente no próximo capítulo. </p> <p>Por ora, a VLAN 99 é criada e recebe um endereço IP. Dessa forma, a porta apropriada no switch S1 é atribuída à VLAN 99. A figura também mostra essas informações de configuração.</p> <p><b>Clique no botão Configurar interface de gerenciamento na figura.</b></p> <p><b>Configurar interface de gerenciamento</b></p> <p>Para configurar um endereço IP e a máscara de sub-rede na VLAN de gerenciamento do switch, você deve estar no modo de configuração de interface VLAN. Use o comando <span class="cmd"><b>interface vlan 99</b></span> e digite o comando de configuração do endereço IP. Você deve usar o comando de configuração da interface <span class="cmd"><b>no shutdown</b></span> para tornar essa interface da Camada 3 operacional. Quando você vê "interface VLAN x", isso se refere à interface da Camada 3 associada à VLAN x. Apenas a VLAN de gerenciamento tem uma VLAN de interface associada. </p> <p>Observe que um switch da Camada 2, como o Cisco Catalyst 2960, só permite a uma única interface VLAN ser ativa por vez. Isso significa que a interface da Camada 3, a interface VLAN 99, está ativa, mas que a interface da Camada 3, a interface VLAN 1, não. </p> <p><b>Clique no botão Configurar gateway padrão na figura.</b></p> <p><b>Configurar gateway padrão </b></p> <p>Você precisa configurar o switch para que ele possa encaminhar pacotes IP para redes distantes. O gateway padrão é o mecanismo para fazer isso. O switch encaminha pacotes IP com endereços IP de destino fora da rede local para o gateway padrão. Na figura, o roteador R1 é o roteador de próximo salto. Seu endereço IP é 172.17.99.1.</p> <p>Para configurar um gateway padrão para o switch, use o comando <span class="cmd"><b>ip default-gateway</b></span>. Digite o endereço IP da interface do roteador de próximo salto conectada diretamente ao switch em que há um gateway padrão em configuração. Não se esqueça de salvar a configuração de execução em um switch ou roteador. Use o comando <span class="cmd"><b>copy running-config startup-config</b></span> para fazer backup da sua configuração.</p> <p><b>Clique no botão Verificar configuração na figura.</b></p> <p><b>Verificar configuração</b></p> <p>A captura de tela na parte superior da figura é uma saída de comando na tela abreviada mostrando que a VLAN 99 foi configurada com um endereço IP e uma máscara de sub-rede, e que uma porta Fast Ethernet F0/18 recebeu a interface de gerenciamento VLAN 99.</p> <p><b>Mostrar as interfaces IP</b></p> <p>Use <span class="cmd"><b>show ip interface brief</b></span> para verificar o funcionamento e o status da porta. Você praticará usando o comando <span class="cmd"><b>switchport access vlan 99</b></span> em um laboratório prático e uma atividade do Packet Tracer.</p> <p><b>O </b><b>comando </b><span class="cmd"><b>mdix auto</b></span></p> <p>Você costuma ser solicitado a usar determinados tipos de cabo (crossover, straight-through) ao conectar dispositivos específicos, switch-a-switch ou switch-a-roteador. Na verdade, agora é possível usar o comando de configuração da interface <span class="cmd"><b>mdix auto</b></span> na CLI para ativar o recurso de interface que depende do meio automático (auto-MDIX).</p> <p>Quando o recurso auto-MDIX é habilitado, o switch detecta o tipo de cabo exigido para conexões Ethernet de cobre e configura as interfaces corretamente. Por isso, é possível usar um cabo crossover ou straight-through para conexões com uma porta 10/100/1000 de cobre no switch, independentemente do tipo de dispositivo na outra extremidade da conexão.</p> <p>O recurso auto-MDIX foi apresentado no Cisco IOS Release 12.2(25)FX. </p></content-text>
</page>
<page type="OneColumn" id="tl1302030602">
<content-media type="StaticGraphic" id="cm4233752072">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030600/tl1302030602/cm4233752072.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030600/tl1302030602/cm4233752072text.xml"/></content-media>
<content-text><p><b>Configurar o modo duplex e a velocidade</b></p> <p>É possível usar o comando de configuração da interface <span class="cmd"><b>duplex</b></span> para especificar o modo bidirecional de funcionamento das portas de switch. É possível definir o modo bidirecional e a velocidade das portas de switch manualmente para evitar problemas do inter-fornecedor com negociação automática. Embora possa haver problemas quando você define configurações bidirecionais da porta de switch como <span class="cmd"><b>auto</b></span>, neste exemplo, os switches S1 e S2 têm as mesmas configurações bidirecionais e velocidades. A figura descreve as etapas para configurar a porta F0/1 no switch S1.</p></content-text>
</page>
<page type="OneColumn" id="tl1302030603">
<content-media type="StaticGraphic" id="cm5177368130">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030600/tl1302030603/cm5177368130.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030600/tl1302030603/cm5177368130text.xml"/></content-media>
<content-text><p><b>Configurar uma interface da Web</b></p> <p>Os switches Cisco modernos têm várias ferramentas de configuração baseadas na Web que exigem a configuração do switch como um servidor HTTP. Entre esses aplicativos estão a interface de usuário do navegador Cisco e os aplicativos Cisco Router and Security Device Manager (SDM) e IP Phone and Cisco IOS Telephony Service. </p> <p>Para controlar quem pode acessar os serviços HTTP no switch, é possível configurar a <content-link target="{EFD863AA-47F7-4AF2-9A39-61FFF67469D3}" type="glossary">autenticação</content-link>. Os métodos de autenticação podem ser complexos. Você pode ter tantas pessoas usando os serviços HTTP que acaba precisando de um servidor separado para tratar especificamente a autenticação do usuário. Os modos de autenticação <content-link target="{66C17097-1FF6-4E87-814F-9070BF6EB051}" type="glossary">AAA</content-link> e <content-link target="{5AA06912-471A-453C-934A-3E5B4E13F4FF}" type="glossary">TACACS</content-link> são exemplos que usam esse tipo de método de autenticação remota. AAA e TACACS são protocolos de autenticação que podem ser usados em redes para validar credenciais de usuário. Talvez você precise ter um método de autenticação menos complexo. O método <span class="cmd"><b>enable</b></span> exige que os usuários usem a senha de habilitar do servidor. O método de autenticação local exige que o usuário use o nome de usuário de login, a senha e o acesso do nível de privilégio especificados na configuração do sistema local (com o comando de configuração global <span class="cmd"><b>username</b></span>). </p> <p>Para obter mais informações sobre TACACS, visite: <content-link target="http://www.cisco.com/en/US/tech/tk583/tk642/tsd_technology_support_sub-protocol_home.html" type="external">http://www.cisco.com/en/US/tech/tk583/tk642/tsd_technology_support_sub-protocol_home.html</content-link> (em inglês). </p> <p>Para obter mais informações sobre AAA, visite: <content-link target="http://www.cisco.com/en/US/products/ps6638/products_data_sheet09186a00804fe332.html" type="external">http://www.cisco.com/en/US/products/ps6638/products_data_sheet09186a00804fe332.html</content-link> (em inglês).</p></content-text>
</page>
<page type="OneColumn" id="tl1302030604">
<content-media type="StaticGraphic" id="cm2928660128">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030600/tl1302030604/cm2928660128.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030600/tl1302030604/cm2928660128text.xml"/></content-media>
<content-text><p><b>Gerenciando a tabela de endereços MAC</b></p> <p>Os switches usam tabelas de endereços MAC para determinar como encaminhar tráfego entre portas. Essas tabelas MAC incluem endereços dinâmicos e estáticos. A figura mostra uma tabela de endereços MAC de exemplo da saída de comando <span class="cmd"><b>show mac-address-table</b></span> que inclui endereços MAC estáticos e dinâmicos.</p> <p><b>Nota:</b> A tabela de endereços MAC era conhecida como memória endereçável de conteúdo (<content-link target="{5B9B6AB3-CB78-4DF1-B89E-C78D348ABA4F}" type="glossary">CAM</content-link>) ou como tabela CAM.</p> <p>Os endereços dinâmicos são endereços MAC de origem que o switch aprende, expirando quando não estão em uso. É possível alterar a configuração de tempo limite para endereços MAC. O tempo padrão é de 300 segundos. Definir uma tempo limite muito breve pode fazer com que os endereços sejam removidos prematuramente da tabela. Dessa forma, quando o switch recebe um pacote para um destino desconhecido, ele envia o pacote a todas as portas na mesma rede local (ou VLAN) como a porta receptora. Este envio desnecessário pode afetar o desempenho. Definir uma tempo limite muito longa pode fazer com que a tabela de endereços seja preenchida com endereços não usados, o que impede a aprendizagem de novos endereços. Isso também pode causar envio excessivo (flooding). </p> <p>O switch fornece endereçamento dinâmico, aprendendo o endereço MAC de origem de todos os quadros recebidos em cada porta e adicionando o endereço MAC de origem e seu número de porta associado à tabela de endereços MAC. Na medida em que os computadores são adicionados à ou removidos da rede, o switch atualiza a tabela de endereços MAC, adicionando novas entradas e expirando as que não estiverem em uso no momento.</p> <p>Um <content-link target="{E60126D1-1821-4556-98C2-FC58D7D2E9C9}" type="glossary">administrador de rede</content-link> pode atribuir especificamente endereços MAC estáticos a determinadas portas. Os endereços estáticos não expiram e o switch sempre sabe que porta usar para enviar o tráfego com destino a esse endereço MAC específico. Dessa forma, não há necessidade de reaprender ou atualizar a porta a que o endereço MAC está conectado. Uma razão para implementar endereços MAC estáticos é dar ao administrador de rede controle completo sobre o acesso à rede. Apenas esses dispositivos conhecidos do administrador de rede podem se conectar à rede.</p> <p>Para criar um mapeamento estático na tabela de endereços MAC, use o comando <span class="cmd"><b>mac-address-table static </b>&lt;<i>MAC address</i>> <b>vlan</b> {<b>1-4096</b>, <b>ALL</b>} <b>interface </b><i>interface-id</i></span>.</p> <p>Para remover um mapeamento estático na tabela de endereços MAC, use o comando <span class="cmd"><b>no mac-address-table static </b>&lt;<i>MAC address</i>> <b>vlan</b> {<b>1-4096</b>, <b>ALL</b>} <b>interface </b><i>interface-id</i></span>.</p> <p>O tamanho máximo da tabela de endereços MAC varia de switch para switch. Por exemplo, o switch da série Catalyst 2960 pode armazenar até 8.192 endereços MAC. Há outros protocolos que podem limitar o número absoluto de endereço MAC disponíveis para um switch.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302030700">
<title><content-text>Verificando a configuração do switch</content-text></title>
<page type="OneColumn" id="tl1302030701">
<content-media type="InteractiveGraphicHotspots" id="cm6721870875">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030700/tl1302030701/cm6721870875.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030700/tl1302030701/cm6721870875text.xml"/></content-media>
<content-text><p><b>Usando os comandos show</b></p> <p>Agora que executou a configuração inicial do switch, você deve confirmar se o switch foi configurado corretamente. Neste tópico, você aprenderá a verificar a configuração do switch usando vários comandos <span class="cmd"><b>show</b></span>.</p> <p><b>Clique no botão Comandos show na figura.</b></p> <p>Quando você precisa verificar a configuração do seu switch Cisco, o comando <span class="cmd"><b>show</b></span> é muito útil. O comando <span class="cmd"><b>show</b></span> é executado no modo EXEC privilegiado. A figura apresenta algumas das principais opções do comando <span class="cmd"><b>show</b></span> que verificam praticamente todos os recursos configuráveis do switch. Há muitos comandos <span class="cmd"><b>show</b></span> adicionais que você aprenderá ao longo deste curso.</p> <p><b>Clique no botão show running-config na figura.</b></p> <p>Um dos comandos <span class="cmd"><b>show</b></span> mais importantes é o comando <span class="cmd"><b>show running-config</b></span>. Esse comando exibe a configuração atualmente em execução no switch. Use esse comando para verificar se você configurou o switch corretamente. A figura mostra uma saída de comando abreviada do comando <span class="cmd"><b>show running-config</b></span>. As reticências indicam um conteúdo não encontrado. A figura realçou a saída de comando na tela do switch S1 que mostra:</p> <p><ul><li>Interface Fast Ethernet 0/18 configurada com a VLAN 99 de gerenciamento</li><li>VLAN 99 configurada com um endereço IP 172.17.99.11 255.255.0.0</li><li>Gateway padrão definido como 172.17.50.1</li><li>Servidor HTTP configurado</li></ul></p> <p><b>Clique no botão show interfaces na figura.</b></p> <p>Outro comando muito usado é o comando <span class="cmd"><b>show interfaces</b></span>, que exibe informações estatísticas e de status sobre as interfaces de rede do switch. O comando <span class="cmd"><b>show interfaces</b></span> costuma ser usado durante a configuração e o monitoramento dos dispositivos de rede. Lembre-se de que é possível digitar comandos parciais no prompt de comando e, desde que nenhuma outra opção de comando seja igual, o software Cisco IOS interpreta o comando corretamente. Por exemplo, é possível usar <span class="cmd"><b>show int</b></span> para este comando. A figura mostra a saída de comando de um comando <span class="cmd"><b>show interfaces FastEthernet 0/1</b></span>. A primeira linha realçada na figura indica que o a interface Fast Ethernet 0/1 está ativa e em execução. A próxima linha realçada mostra que o bidirecional é automático e que a velocidade é automática.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302030800">
<title><content-text>Gerenciamento básico do switch</content-text></title>
<page type="OneColumn" id="tl1302030801">
<content-media type="StaticGraphic" id="cm7245447679">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030800/tl1302030801/cm7245447679.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030800/tl1302030801/cm7245447679text.xml"/></content-media>
<content-text><p><b>Fazer backup e restaurar configurações de switch</b></p> <p>Um trabalho típico para um técnico de rede iniciante é carregar um switch com uma configuração. Neste tópico, você aprenderá como carregar e armazenar uma configuração na memória flash do switch e em um servidor <content-link target="{7E2130AA-5FC7-4CEE-A0E2-4277EB748ACA}" type="glossary">TFTP</content-link>.</p> <p><b>Clique no botão Fazer backup de configurações na figura.</b></p> <p><b>Fazendo backup da configuração</b></p> <p>Você já aprendeu como fazer backup da configuração de execução de um switch no arquivo de configuração de inicialização. Você usou o comando EXEC privilegiado <span class="cmd"><b>copy running-config startup-config</b></span> para fazer backup das configurações feitas até então. Como você talvez já saiba, a configuração de execução é salva na DRAM, e a configuração de inicialização é armazenada na seção NVRAM da memória Flash. Quando você emite o comando <span class="cmd"><b>copy running-config startup-config</b></span>, o software Cisco IOS copia a configuração de execução para NVRAM de forma que, quando o switch for inicializado, o startup-config com sua nova configuração seja carregado.</p> <p>Você nem sempre deseja salvar alterações feitas na configuração de execução de um switch. Por exemplo, você talvez queira alterar a configuração por um curto período, e não permanentemente. </p> <p>Se quiser manter vários arquivos startup-config diferentes no dispositivo, você poderá copiar a configuração para nomes de arquivos diferentes, usando o comando <span class="cmd"><b>copy startup-config flash:</b><i>filename</i></span>. Armazenar várias versões de startup-config permite restaurar um ponto caso a sua configuração tenha problemas. A figura mostra três exemplos de backup da configuração feitos na memória flash. O primeiro é a sintaxe formal e completa. O segundo é a sintaxe mais usada. Use a primeira sintaxe quando você não estiver familiarizado com o dispositivo de rede com o qual está trabalhando e use a segunda sintaxe quando você souber que o destino é a NVRAM flash instalada no switch. O terceiro é a sintaxe usada para salvar uma cópia do arquivo startup-config na memória flash.</p> <p><b>Clique no botão Restaurar configurações na figura.</b></p> <p><b>Restaurando a Configuração</b></p> <p>Restaurar uma configuração é um processo simples. Basta copiar a configuração salva sobre a configuração atual. Por exemplo, se tivesse uma configuração salva chamada config.bak1, você poderia restaurá-la sobre seu startup-config existente, digitando este comando do Cisco IOS <span class="cmd"><b>copy flash:config.bak1 startup-config</b></span>. Quando a configuração foi restaurada no startup-config, você reinicia o switch para que ele recarregue a nova configuração de inicialização, usando o comando <span class="cmd"><b>reload</b></span> no modo EXEC privilegiado. </p> <p>O comando <span class="cmd"><b>reload</b></span> pára o sistema. Se o sistema for definido para ser reiniciado em caso de erro, ele será reinicializado. Use o comando <span class="cmd"><b>reload</b></span> depois que as informações de configuração forem inseridas em um arquivo e salvas na configuração de inicialização.</p>  <p><b>Nota:</b> Não será possível recarregar a partir de um terminal virtual, se o switch não estiver definido para inicialização automática. Essa restrição impede que o sistema seja descartado no monitor de <content-link target="{91CCE895-661D-473F-A0C6-347628052E56}" type="glossary">ROM</content-link> (ROMMON), fazendo com que o sistema seja retirado do controle de usuário remoto. </p> <p>Após a emissão do comando <span class="cmd"><b>reload</b></span>, o sistema solicita a você responder se você deve ou não salvar a configuração. Normalmente, você indicaria "sim", mas neste caso específico, você precisa responder "não". Se você respondesse "sim", o arquivo que você acabou de restaurar seria substituído. Em todos os casos, você precisa considerar se a configuração de execução é ou não a que você deseja ativar depois de recarregar. </p> <p>Para obter mais detalhes sobre o comando <span class="cmd"><b>reload</b></span>, revise o Cisco IOS Configuration Fundamentals Command Reference, Release 12.4, encontrado neste site: <content-link target="http://www.cisco.com/en/US/docs/ios/fundamentals/command/reference/cf_book.html" type="external">http://www.cisco.com/en/US/docs/ios/fundamentals/command/reference/cf_book.html</content-link> (em inglês).</p> <p><b>Nota:</b> Também existe a opção de digitar o comando <span class="cmd"><b>copy startup-config running-config</b></span>. Infelizmente, esse comando não substitui por completo a configuração de execução; ele só adiciona comandos existentes da configuração de inicialização à configuração de execução. Como isso pode causar resultados não desejados, tome cuidado ao fazê-lo.</p></content-text>
</page>
<page type="OneColumn" id="tl1302030802">
<content-media type="StaticGraphic" id="cm9735931942">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030800/tl1302030802/cm9735931942.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030800/tl1302030802/cm9735931942text.xml"/></content-media>
<content-text><p><b>Fazer backup de arquivos de configuração para um servidor TFTP</b></p> <p>Depois de configurar o seu switch com todas as opções que deseja definir, é uma boa idéia fazer backup da configuração na rede em que ela pode ser arquivada com o restante dos dados de rede em backup durante a noite. Ter a configuração armazenada com segurança fora do switch a protege em caso de um grande problema de proporções catastróficas com o seu switch. </p> <p>Algumas configurações de switch demoram muitas horas para funcionar corretamente. Se você perdeu a configuração por conta de uma falha no hardware do switch, um novo switch precisará ser configurado. Se houver uma configuração de backup para o switch com falha, ela poderá ser carregada rapidamente no novo switch. Se não houver nenhuma configuração de backup, você deverá configurar o novo switch do zero.</p> <p>É possível usar TFTP para fazer backup dos seus arquivos de configuração na rede. O software Cisco IOS acompanha um cliente TFTP interno que permite a conexão com um servidor TFTP na sua rede.</p> <p><b>Nota:</b> Há pacotes de software do servidor TFTP gratuitos disponíveis na Internet que é possível usar caso você ainda não tenha um servidor TFTP em execução. Um servidor TFTP normalmente usado é de <content-link target="http://www.solarwinds.com/" type="external">www.solarwinds.com</content-link>.</p> <p><b>Fazendo backup da configuração</b></p> <p>Para carregar um arquivo de configuração de um switch para um servidor TFTP para armazenamento, siga estas etapas: </p> <p><b>Etapa 1. </b>Verifique se o servidor TFTP está em execução na sua rede.</p> <p><b>Etapa 2.</b> Faça login no switch usando a porta console ou uma sessão Telnet. Habilite o switch e execute ping no servidor TFTP.</p> <p><b>Etapa 3.</b> Carregue a configuração do switch no servidor TFTP. Especifique o endereço IP ou o nome de host do servidor TFTP e o nome do arquivo de destino. O comando do Cisco IOS é: <span class="cmd">#<b>copy system:running-config tftp:</b>[[[//<i>location</i>]/<i>directory</i>]/<i>filename</i>]</span> ou <span class="cmd">#<b>copy nvram:startup-config tftp:</b>[[[//<i>location</i>]/<i>directory</i>]/<i>filename</i>]</span>.</p> <p>A figura mostra um exemplo do backup da configuração feitos em um servidor TFTP.</p> <p><b>Restaurando a configuração</b></p> <p>Depois que a configuração for armazenada com êxito no servidor TFTP, ela poderá ser copiada para o switch usando as seguintes etapas:</p> <p><b>Etapa 1.</b> Copie o arquivo de configuração para o TFTP diretório apropriado no servidor TFTP, se ele ainda não estiver lá.</p> <p><b>Etapa 2.</b> Verifique se o servidor TFTP está em execução na sua rede.</p> <p><b>Etapa 3.</b> Faça login no switch usando a porta console ou uma sessão Telnet. Habilite o switch e execute ping no servidor TFTP.</p> <p><b>Etapa 4.</b> Faça o download do arquivo de configuração no servidor TFTP para configurar o switch. Especifique o endereço IP ou o nome de host do servidor TFTP e o nome do arquivo de download. O comando do Cisco IOS é: <span class="cmd">#<b>copy tftp:</b>[[[//<i>location</i>]/<i>directory</i>]/<i>filename</i>] <b>system:running-config</b></span> ou <span class="cmd">#<b>copy tftp:</b>[[[//<i>location</i>]/<i>directory</i>]/<i>filename</i>] <b>nvram:startup-config</b></span>.</p> <p>Se o download do arquivo de configuração for feito no running-config, os comandos serão executados na medida em que o arquivo é analisado linha a linha. Se o download do arquivo de configuração for feito no startup-config, o switch deverá ser recarregado para que as alterações entrem vigor.</p></content-text>
</page>
<page type="OneColumn" id="tl1302030803">
<content-media type="StaticGraphic" id="cm9142420648">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030800/tl1302030803/cm9142420648.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302030000/tl1302030800/tl1302030803/cm9142420648text.xml"/></content-media>
<content-text><p><b>Limpando informações de configuração </b></p> <p>É possível limpar as informações de configuração da configuração de inicialização. Você pode fazer isso para preparar um switch usado a ser enviado para um cliente ou para um departamento diferente, e você deseja assegurar que o switch seja reconfigurado. Quando você apaga o arquivo de configuração de inicialização durante a reinicialização, ele entra no programa de configuração de forma que seja possível reconfigurar o switch usando novas configurações. </p> <p>Para limpar o conteúdo da configuração de inicialização, use o comando <span class="cmd"><b>erase nvram:</b></span> ou o comando EXEC privilegiado <span class="cmd"><b>erase startup-config</b></span>. A figura mostra um exemplo de como apagar os arquivos de configuração armazenados na NVRAM.</p> <p><b>Cuidado:</b> Como não é possível restaurar o arquivo de configuração de inicialização depois que ele foi apagado, verifique se você tem um backup da configuração caso você precise restaurá-lo posteriormente.</p> <p><b>Excluindo um arquivo de configuração armazenado </b></p> <p>Você talvez esteja trabalhando em uma tarefa de configuração complexa e armazenou muitas cópias de backup dos seus arquivos na memória flash. Para excluir um arquivo da memória flash, use o comando EXEC privilegiado <span class="cmd"><b>delete flash:</b><i>filename</i></span>. Dependendo da configuração do comando de configuração global do prompt de arquivo, você pode ser solicitado a confirmar antes de excluir um arquivo. Por padrão, o switch solicita a confirmação durante a exclusão de um arquivo.</p> <p>Cuidado: Como não é possível restaurar o arquivo de configuração de inicialização depois que ele foi excluído, verifique se você tem um backup da configuração caso você precise restaurá-lo posteriormente. </p> <p>Depois que a configuração for apagada ou excluída, você poderá recarregar o switch para iniciar uma nova configuração para o switch.</p></content-text>
</page>
<page type="OneColumn" id="tl1302030804">
<content-media type="ActivityPKA" id="cm3420878518">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302030000/tl1302030800/tl1302030804/cm3420878518/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302030000/tl1302030800/tl1302030804/cm3420878518/icontext.xml"/></content-media>
<content-text><p>O gerenciamento básico de switch é essencial para configurar switches. Esta atividade vai ensinar a navegar em modos de interface de linha de comando, usar funções de ajuda, acessar o histórico de comandos, configurar parâmetros de seqüência de inicialização, definir velocidade e configurações bidirecionais, e gerenciar a tabela de endereços MAC e o arquivo de configuração do switch. Habilidades aprendidas nesta atividade são necessárias para configurar a segurança de switch básica em capítulos posteriores. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo. </p> <p><content-link target="E3_PTAct_2_3_8.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1302040000">
<title><content-text>Configurando a segurança do switch</content-text></title>
<topic type="" id="tl1302040100">
<title><content-text>Configurar opções de senha</content-text></title>
<page type="OneColumn" id="tl1302040101">
<content-media type="StaticGraphic" id="cm2569718792">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040100/tl1302040101/cm2569718792.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040100/tl1302040101/cm2569718792text.xml"/></content-media>
<content-text><p><b>Configurar o acesso à console</b> </p> <p>Neste tópico, você aprenderá a configurar senhas para o acesso de console, terminal virtual e modo EXEC. Você também aprenderá como criptografar e recuperar senhas em um switch.</p> <p>Os dados são muito importantes, devendo ser cuidadosamente guardados e protegidos. O Federal Bureau of Investigation (FBI) dos Estados Unidos estima que as empresas percam US$ 67,2 bilhões anualmente por conta de crimes relacionados a computador. Os dados pessoais do cliente específico são especificamente vendidos por preços altos. Estes são alguns dos preços atuais para dados roubados:</p> <p><ul><li>caixa eletrônico ou cartão de débito com PIN (Número de Identificação Pessoal): $500 </li><li>O número da carteira de habilitação: $150 </li><li>Número da Previdência Social: $100 </li><li>Número do cartão de crédito com data de validade: de US$ 15 a US$ 20 </li></ul></p> <p>A proteção dos seus switches começa com a proteção contra o acesso não autorizado.</p> <p>É possível executar todas as opções de configuração diretamente na console. Para acessar a console, você precisa ter um acesso físico local ao dispositivo. Se você não protegesse a porta console corretamente, um usuário mal-intencionado poderia comprometer a configuração do switch.</p> <p><b>Proteger a console</b></p> <p>Para proteger a porta console do acesso não autorizado, defina uma senha na porta console usando o comando do modo de configuração da linha <span class="cmd"><b>password </b><i>&lt;password></i></span>. Use o comando <span class="cmd"><b>line console 0</b></span> para passar do modo de configuração da linha para o modo de configuração da linha para o console 0, que é a porta console em switches Cisco. O prompt muda para <span class="cmd">(config-line)#</span>, o que indica que o switch agora está no modo de configuração da linha. No modo de configuração da linha, é possível definir a senha para o console, digitando o comando <span class="cmd"><b>password </b><i>&lt;password></i></span>. Para assegurar que um usuário na porta console seja obrigado a digitar a senha, use o comando <span class="cmd"><b>login</b></span>. Mesmo quando uma senha está definida, não é necessário digitá-la até que o comando <span class="cmd"><b>login</b></span> seja emitido.</p> <p>A figura mostra os comandos usados para configurar e exigir a senha para o acesso ao console. Lembre-se de que é possível usar o comando <span class="cmd"><b>show running-config</b></span> para verificar a sua configuração. Antes de concluir a configuração do switch, não se esqueça de salvar o arquivo de configuração de execução na configuração de inicialização. </p> <p><b>Remover senha da console</b></p> <p>Se você precisar remover a senha e o requisito para digitar a senha durante o login, use as seguintes etapas:</p> <p><b>Etapa 1.</b> Alterne do modo EXEC privilegiado para o modo de configuração global. Digite o comando <span class="cmd"><b>configure terminal</b></span>.</p> <p><b>Etapa 2.</b> Passe do modo de configuração global para o modo de configuração de linha para o console 0. O prompt de comando <span class="cmd">(config-line)#</span> indica que você está no modo de configuração de linha. Digite o comando <span class="cmd"><b>line console 0</b></span>.</p> <p><b>Etapa 3.</b> Remova a senha da linha de console usando o comando <span class="cmd"><b>no password</b></span>.</p> <p><b>Etapa 4.</b> Remova o requisito para digitar a senha durante o login para a linha de console, usando o comando <span class="cmd"><b>no login</b></span>.</p> <p><b>Etapa 5.</b> Saia do modo de configuração de linha e volte ao modo EXEC privilegiado, usando o comando <span class="cmd"><b>end</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040102">
<content-media type="StaticGraphic" id="cm4549809228">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040100/tl1302040102/cm4549809228.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040100/tl1302040102/cm4549809228text.xml"/></content-media>
<content-text><p><b>Proteger as portas vty</b></p> <p>As portas vty em um switch Cisco permitem acessar o dispositivo remotamente. É possível executar todas as opções de configuração usando as portas de terminal vty. Como você não precisa de acesso físico ao switch para acessar as portas vty, é muito importante proteger as portas vty. Qualquer usuário com acesso de rede ao switch pode estabelecer uma conexão de terminal remota vty. Se as portas vty não fossem devidamente protegidas, um usuário mal-intencionado poderia comprometer a configuração do switch.</p> <p>Para proteger as portas vty do acesso não autorizado, é possível definir uma senha vty obrigatória antes do acesso ser concedido.</p> <p>Para definir a senha nas portas vty, você deve estar no modo de configuração de linha.</p> <p>Talvez haja muitas portas vty disponíveis em um switch Cisco. Várias portas permitem a mais de um administrador se conectar e gerenciar o switch. Para proteger todas as linhas vty, verifique se uma senha está definida e se o login foi aplicado em todas as linhas. Deixar algumas linhas desprotegidas compromete a segurança e permite a usuários não autorizados acessar o switch.</p> <p>Use o comando <span class="cmd"><b>line vty 0 4</b></span> para passar do modo de configuração global para o modo de configuração de linha das linhas vty de 0 a 4.</p> <p><b>Nota:</b> Se o switch tiver mais linhas vty disponíveis, ajuste a faixa para proteger todas elas. Por exemplo, um Cisco 2960 tem linhas de 0 a 15 disponíveis.</p> <p>A figura mostra os comandos usados para configurar e exigir a senha para o acesso a vty. É possível usar o comando <span class="cmd"><b>show running-config</b></span> para verificar a sua configuração e o comando <span class="cmd"><b>copy running-config startup config</b></span> para salvar o seu trabalho. </p> <p><b>Remover a senha vty</b></p> <p>Se você precisar remover a senha e o requisito para digitar a senha durante o login, use as seguintes etapas:</p> <p><b>Etapa 1.</b> Alterne do modo EXEC privilegiado para o modo de configuração global. Digite o comando <span class="cmd"><b>configure terminal</b></span>.</p> <p><b>Etapa 2.</b> Passe do modo de configuração global para o modo de configuração de linha para os terminais vty de 0 a 4. O prompt de comando <span class="cmd">(config-line)#</span> indica que você está no modo de configuração de linha. Digite o comando <span class="cmd"><b>line vty 0 4</b></span>. </p> <p><b>Etapa 3.</b> Remova a senha das linhas vty usando o comando <span class="cmd"><b>no password</b></span>.</p> <p>Cuidado: Se nenhuma senha for definida e o login continuar habilitado, não haverá nenhum acesso às linhas vty.</p> <p><b>Etapa 4.</b> Remova o requisito para digitar a senha durante o login para as linhas vty, usando o comando <span class="cmd"><b>no login</b></span>.</p> <p><b>Etapa 5.</b> Saia do modo de configuração de linha e volte ao modo EXEC privilegiado, usando o comando <span class="cmd"><b>end</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040103">
<content-media type="StaticGraphic" id="cm8502610046">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040100/tl1302040103/cm8502610046.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040100/tl1302040103/cm8502610046text.xml"/></content-media>
<content-text><p><b>Configurar senhas no modo EXEC</b></p> <p>O modo EXEC privilegiado permite a qualquer usuário que habilite esse modo em um switch Cisco configurar qualquer opção disponível no switch. Também é possível exibir todas as configurações definidas atualmente no switch, inclusive algumas das senhas não criptografadas! Por essas razões, é importante proteger o acesso ao modo EXEC privilegiado.</p> <p>O comando de configuração global <span class="cmd"><b>enable password</b></span> permite especificar uma senha para restringir o acesso ao modo EXEC privilegiado. No entanto, uma problema com o comando <span class="cmd"><b>enable password</b></span> é que ele armazena a senha em texto legível no startup-config e no running-config. Se alguém fosse ganhar acesso a um arquivo startup-config armazenado ou acesso temporário a uma sessão Telnet ou de console registrados no modo EXEC privilegiado, essa pessoa poderia ver a senha. Dessa forma, a Cisco apresentou uma nova opção de senha para controlar o acesso ao modo EXEC privilegiado que armazena a senha em um formato criptografado. </p> <p>É possível atribuir uma forma criptografada da senha de habilitar, chamada de senha secreta de habilitação, digitando o comando <span class="cmd"><b>enable secret</b></span> com a senha desejada no prompt do modo de configuração global. Se a senha secreta de habilitação for configurada, ela será usada em lugar da senha de habilitar, não em adição a ela. Também há uma proteção incorporada no software Cisco IOS que notifica quando a definição da senha secreta de habilitação usada para a senha de habilitar. Se forem digitadas senhas idênticas, o IOS aceitará a senha, mas avisará que elas são iguais e orientará uma nova digitação de uma nova senha.</p> <p>A figura mostra os comandos usados para configurar senhas no modo EXEC privilegiado. É possível usar o comando <span class="cmd"><b>show running-config</b></span> para verificar a sua configuração e o comando <span class="cmd"><b>copy running-config startup config</b></span> para salvar o seu trabalho. </p> <p><b>Remover senha no modo EXEC</b></p> <p>Se precisar remover o requisito de senha para acessar o modo EXEC privilegiado, será possível usar os comandos <span class="cmd"><b>no enable password</b></span> e <span class="cmd"><b>no enable secret</b></span> no modo de configuração global.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040104">
<content-media type="StaticGraphic" id="cm9124564690">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040100/tl1302040104/cm9124564690.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040100/tl1302040104/cm9124564690text.xml"/></content-media>
<content-text><p><b>Configurar senhas criptografadas</b></p> <p>Durante a configuração de senhas na CLI do Cisco IOS, por padrão, todas as senhas, exceto a senha secreta de habilitação, são armazenadas em formato de texto sem formatação em startup-config e running-config. A figura mostra uma saída de comando abreviada na tela do comando <span class="cmd"><b>show running-config</b></span> no switch S1. As senhas de texto sem formatação são realçadas em laranja. É universalmente aceito que as senhas devem ser criptografadas, e não armazenadas em formato de texto sem formatação. O comando <span class="cmd"><b>service password-encryption</b></span> do Cisco IOS permite a <content-link target="{2DB3E6F4-960D-470C-856F-75E4923A3A1D}" type="glossary">criptografia</content-link> da senha de serviço. </p> <p>Quando o comando <span class="cmd"><b>service password-encryption</b></span> é digitado no modo de configuração global, todas as senhas de sistema são armazenadas em uma forma criptografada. Assim que o comando for digitado, todas as senhas atualmente definidas são convertidas em senhas criptografadas. Na parte inferior da figura, as senhas criptografadas são realçadas em laranja.</p> <p>Se você quiser remover o requisito para armazenar todas as senhas de sistema em um formato criptografado, digite o comando <span class="cmd"><b>no service password-encryption</b></span> no modo de configuração global. Remover a criptografia de senha não converte senhas criptografadas atualmente em texto legível. No entanto, todas as senhas recém-definidas são armazenadas em formato de texto sem formatação.</p> <p><b>Nota:</b> O padrão de criptografia usado pelo comando <span class="cmd"><b>service password-encryption</b></span> é conhecido como tipo 7. Esse padrão de criptografia é muito fraco, e há ferramentas facilmente acessíveis na Internet para descriptografar senhas criptografadas com esse padrão. O Tipo 5 é mais seguro, mas deve ser invocado manualmente para cada senha configurada.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040105">
<content-media type="StaticGraphic" id="cm7562908535">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040100/tl1302040105/cm7562908535.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040100/tl1302040105/cm7562908535text.xml"/></content-media>
<content-text><p><b>Habilitar recuperação de senha</b></p> <p>Depois de definir senhas para controlar o acesso à CLI do Cisco IOS, você precisará ter certeza de que se lembra delas. Caso você tenha perdido ou esquecido as senhas de acesso, a Cisco tem um mecanismo de recuperação de senha que permite aos administradores obter acesso aos dispositivos Cisco. O processo de recuperação de senha exige acesso físico ao dispositivo. A figura mostra uma captura de tela do vídeo da exibição na console que indica que a recuperação de senha foi habilitada. Você verá essa exibição depois da Etapa 3 abaixo. </p> <p>Observe que você talvez não possa recuperar efetivamente as senhas no dispositivo Cisco, especialmente se a criptografia de senha foi habilitada, mas você pode redefini-las com um novo valor.</p> <p>Para obter mais informações sobre o procedimento de senha, visite: <content-link target="http://www.cisco.com/en/US/products/sw/iosswrel/ps1831/products_tech_note09186a00801746e6.shtml" type="external">http://www.cisco.com/en/US/products/sw/iosswrel/ps1831/products_tech_note09186a00801746e6.shtml</content-link> (em inglês).</p> <p>Para recuperar a senha em um switch Cisco 2960, siga as seguintes etapas:</p> <p><b>Etapa 1.</b> Conecte um terminal ou PC com software da emulação de terminal com a porta console de switch.</p> <p><b>Etapa 2.</b> Defina a velocidade de linha no software de emulação como 9600 bauds.</p> <p><b>Etapa 3.</b> Desligue o switch. Reconecte o cabo de alimentação para o switch e, em 15 segundos, pressione o botão Modo enquanto o LED de sistema ainda estiver piscando em verde. Continue pressionando o botão Modo até que o LED de sistema permaneça em âmbar rapidamente e, em seguida, em verde permanentemente. Em seguida, solte o botão Modo.</p> <p><b>Etapa 4.</b> Inicialize o sistema de arquivos da memória flash, usando o comando <span class="cmd"><b>flash_init</b></span>.</p> <p><b>Etapa 5. </b>Carregue todos os arquivos auxiliares usando o comando <span class="cmd"><b>load_helper</b></span>.</p> <p><b>Etapa 6.</b> Exibe o conteúdo da memória flash usando o comando <span class="cmd"><b>dir flash</b></span>:</p> <p>O sistema de arquivos de switch aparece: </p> <span class="cmd"><p>Directory of flash:</p></span> <span class="cmd"><p> 13 drwx 192 Mar 01 1993 22:30:48 c2960-lanbase-mz.122-25.FX</p></span> <span class="cmd"><p> 11 -rwx 5825 Mar 01 1993 22:31:59 config.text</p></span> <span class="cmd"><p> 18 -rwx 720 Mar 01 1993 02:21:30 vlan.dat</p></span> <span class="cmd"><p>16128000 bytes total (10003456 bytes free)</p></span> <p><b>Etapa 7.</b> Renomeie o arquivo de configuração para config.text.old, que contém a definição de senha, usando o comando <span class="cmd"><b>rename flash:config.text flash:config.text.old</b></span>.</p> <p><b>Etapa 8.</b> Inicialize o sistema usando o comando <span class="cmd"><b>boot</b></span>. </p> <p><b>Etapa 9.</b> É solicitado que você inicie o programa de configuração. Digite <b>N</b> no prompt e, em seguida, quando o sistema perguntar se você deseja continuar na caixa de diálogo da configuração, digite <b>N</b>.</p> <p><b>Etapa 10.</b> No prompt de switch, digite o modo EXEC privilegiado, usando o comando <span class="cmd"><b>enable</b></span>.</p> <p><b>Etapa 11.</b> Renomeie o arquivo de configuração para seu nome original, usando o comando <span class="cmd"><b>rename flash:config.text.old flash:config.text</b></span>.</p> <p><b>Etapa 12.</b> Copie o arquivo de configuração para a memória, usando o comando <span class="cmd"><b>copy flash:config.text system:running-config</b></span>. Depois que esse comando for digitado, isto será exibido no console:</p> <p><span class="cmd">Source filename [config.text]? </span></p> <p><span class="cmd">Destination filename [running-config]?</span></p> <p>Pressione Retornar em resposta à solicitação da confirmação. O arquivo de configuração foi recarregado e você já pode alterar a senha.</p> <p><b>Etapa 13.</b> Entre no modo de configuração global, usando o comando <span class="cmd"><b>configure terminal</b></span>.</p> <p><b>Etapa 14.</b> Altere a senha, usando o comando <span class="cmd"><b>enable secret </b><i>password</i></span>.</p> <p><b>Etapa 15.</b> Retorne ao modo EXEC privilegiado, usando o comando <span class="cmd"><b>exit</b></span>.</p> <p><b>Etapa 16.</b> Grave a configuração de execução no arquivo de configuração de inicialização, usando o comando <span class="cmd"><b>copy running-config startup-config</b></span>.</p> <p><b>Etapa 17.</b> Recarregue o switch, usando o comando <span class="cmd"><b>reload</b></span>.</p> <p><b>Nota:</b> Como o procedimento para recuperação de senha pode ser diferente dependendo da série de switches Cisco, você deve consultar a documentação de produto antes de tentar uma recuperação de senha.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302040200">
<title><content-text>Banners de login</content-text></title>
<page type="OneColumn" id="tl1302040201">
<content-media type="StaticGraphic" id="cm4741792921">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040200/tl1302040201/cm4741792921.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040200/tl1302040201/cm4741792921text.xml"/></content-media>
<content-text><p><b>Configurar um banner de login</b></p> <p>O conjunto de comandos do Cisco IOS inclui um recurso que permite configurar mensagens que qualquer pessoa que tiver feito login no switch verá. Essas mensagens são chamadas de banners de login e banners da mensagem do dia (MOTD). Neste tópico, você aprenderá a configurá-las.</p> <p>É possível definir um banner personalizado a ser exibido antes dos prompts do nome de usuário e senha e de login, usando o comando <span class="cmd"><b>banner login</b></span> no modo de configuração global. Inclua o texto do banner entre aspas ou usando um delimitador diferente de qualquer caracter exibido na cadeia de caracteres MOTD.</p> <p>A figura mostra o switch S1 configurado com um banner de login <b>Authorized Personnel Only!</b> (Somente pessoal autorizado!)</p> <p>Para remover o banner MOTD, digite o formato <span class="cmd"><b>no</b></span> desse comando no modo de configuração global, por exemplo, <span class="cmd">S1(config)#<b>no banner login</b></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040202">
<content-media type="StaticGraphic" id="cm4236082457">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040200/tl1302040202/cm4236082457.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040200/tl1302040202/cm4236082457text.xml"/></content-media>
<content-text><p><b>Configurar um banner MOTD</b></p> <p>O banner MOTD é exibido em todos os terminais conectados no login, sendo útil para enviar mensagens que afetam todos os usuários de rede (como desligamentos de sistema impedidos). O banner MOTD será exibido antes do banner de login for configurado.</p> <p>Defina o banner MOTD usando o comando <span class="cmd"><b>banner motd</b></span> no modo de configuração global. Inclua o texto do banner entre aspas.</p> <p>A figura mostra o switch S1 configurado com um banner MOTD para exibir <b>Device maintenance will be occurring on Friday!</b> (Manutenção de desempenho ocorrerá na sexta-feira!)</p> <p>Para remover o banner de login, digite o formato <span class="cmd"><b>no</b></span> desse comando no modo de configuração global, por exemplo, <span class="cmd">S1(config)#<b>no banner motd</b></span>.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302040300">
<title><content-text>Configurar Telnet e SSH</content-text></title>
<page type="OneColumn" id="tl1302040301">
<content-media type="StaticGraphic" id="cm2723179533">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040300/tl1302040301/cm2723179533.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040300/tl1302040301/cm2723179533text.xml"/></content-media>
<content-text><p><b>Telnet e SSH</b></p> <p>Os switches mais antigos talvez não suportem a comunicação segura com Shell Seguro (SSH). Este tópico ajudará a escolher entre os métodos Telnet e SSH de comunicação com um switch.</p> <p>Há duas opções para acessar remotamente um vty em um switch Cisco.</p> <p>Telnet é o método original suportado nos primeiros modelos de switch Cisco. Telnet é um protocolo popular usado em acesso terminal porque a maioria dos sistemas operacionais atuais acompanha um cliente Telnet integrado. No entanto, Telnet é uma forma insegura de acessar um dispositivo de rede, porque ela envia todas as comunicações através da rede em texto sem formatação. Usando o software de monitoramento de rede, um invasor pode ler todos os pressionamentos de tecla enviados entre o cliente Telnet e o serviço Telnet em execução no switch Cisco. Por conta das preocupações de segurança do protocolo Telnet, SSH se tornou o protocolo preferido para acessar linhas de terminal virtual (vty) remotamente em um dispositivo Cisco.</p> <p>SSH dá o mesmo tipo de acesso como Telnet com o benefício adicional de segurança. A comunicação entre o cliente e o servidor SSH é criptografada. SSH passou por alguns versões, com dispositivos Cisco que atualmente suportam SSHv1 e SSHv2. É recomendável que você implemente SSHv2 quando possível, porque ele usa um algoritmo de criptografia de segurança mais aprimorado que SSHv1.</p> <p>A figura apresenta as diferenças entre os dois protocolos.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040302">
<content-media type="StaticGraphic" id="cm5977735748">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040300/tl1302040302/cm5977735748.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040300/tl1302040302/cm5977735748text.xml"/></content-media>
<content-text><p><b>Configurando Telnet</b></p> <p>Telnet é o protocolo suportado por vty padrão em um switch Cisco. Quando um endereço IP de gerenciamento é atribuído ao switch Cisco, é possível se conectar a ele usando um cliente Telnet. Inicialmente, as linhas vty não são protegidas, o que permite acesso a qualquer usuário que se conecte a elas.</p> <p>No tópico anterior, você aprendeu a proteger o acesso ao switch pelas linhas vty, exigindo uma autenticação por senha. Isso torna a execução do serviço Telnet um pouco mais segura.</p> <p>Como Telnet é o transporte padrão para as linhas vty, você não precisa especificá-lo depois que a configuração inicial do switch é executada. No entanto, se trocou o protocolo de transporte nas linhas vty para permitir apenas SSH, você precisará habilitar o protocolo Telnet para permitir o acesso Telnet manualmente.</p> <p>Se você precisar reabilitar o protocolo Telnet em um switch Cisco 2960, use o seguinte comando no modo de configuração de linha: <span class="cmd">(config-line)#<b>transport input telnet</b></span> or <span class="cmd">(config-line)#<b>transport input all</b></span>.</p> <p>Permitindo todos os protocolos de transporte, você continua permitindo o acesso SSH, bem como o acesso Telnet.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040303">
<content-media type="StaticGraphic" id="cm6672293821">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040300/tl1302040303/cm6672293821.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040300/tl1302040303/cm6672293821text.xml"/></content-media>
<content-text><p><b>Configurando SSH</b></p> <p>SSH é um recurso de segurança criptográfica sujeito a restrições de exportação. Para usar esse recurso, uma imagem criptográfica deve ser instalada no seu switch. </p> <p>O recurso SSH tem um servidor SSH e um cliente integrado SSH, que são aplicativos executados no switch. É possível usar qualquer cliente SSH em execução em um PC ou o cliente SSH Cisco em execução no switch para se conectar a um switch em execução no servidor SSH.</p> <p>O switch suporta SSHv1 ou SSHv2 para o componente do servidor. O switch suporta apenas SSHv1 para o componente cliente. </p> <p>SSH suporta o algoritmo de criptografia padrão de dados (<content-link target="{D6D25928-2873-443A-8F81-F28770B2C6A1}" type="glossary">DES</content-link>), o algoritmo Triple DES (3DES), além da autenticação de usuário baseada em senha. DES oferece uma criptografia de 56 bits e 3DES oferece uma criptografia de 168 bits. A criptografia é demorada, mas DES demora menos hora para criptografar texto que 3DES. Normalmente, como os padrões de criptografia são especificados pelo cliente, se você tiver que configurar SSH, pergunte qual usar. (A discussão dos métodos de criptografia de dados está além do escopo deste curso.)</p> <p>Para implementar SSH, você precisa gerar chaves RSA. RSA envolve uma chave pública, mantida em um servidor RSA público, e uma chave particular, mantida apenas pelo remetente e pelo receptor. A chave pública pode ser conhecida por todos, sendo usada para criptografar mensagens. As mensagens criptografadas com a chave pública só podem ser descriptografadas usando a chave particular. Isso é conhecido como criptografia assimétrica, sendo abordado com mais detalhes no curso CCNA Exploration: Acessando a WAN. </p> <p>Você precisa gerar as chaves RSA criptografadas que usam o comando <span class="cmd"><b>crypto key generate rsa</b></span>. </p> <p>Esse procedimento será obrigatório se você estiver configurando o switch como um servidor SSH. Começando no modo EXEC privilegiado, siga estas etapas para configurar um nome de host e um nome de domínio IP, além de gerar um par de chaves RSA. </p> <p><b>Etapa 1.</b> Entre no modo de configuração global, usando o comando <span class="cmd"><b>configure terminal</b></span>.</p> <p><b>Etapa 2.</b> Configure um nome de host para o seu switch usando o comando <span class="cmd"><b>hostname </b><i>hostname</i></span>.</p> <p><b>Etapa 3.</b> Configure um domínio de host para o seu switch usando o comando <span class="cmd"><b>ip domain-name </b><i>domain_name</i></span> command.</p> <p><b>Etapa 4.</b> Habilite o servidor SSH para a autenticação local e remota no switch e gere um par de chaves RSA usando o comando <span class="cmd"><b>crypto key generate rsa</b></span>. </p> <p>Ao gerar chaves RSA, você é solicitado a digitar um comprimento de módulo. A Cisco recomenda usar um tamanho de módulo de 1024 bits. Um comprimento de módulo mais longo pode ser mais seguro, mas demora mais para gerar e ser usado.</p> <p><b>Etapa 5.</b> Retorne ao modo EXEC privilegiado, usando o comando <span class="cmd"><b>end</b></span>.</p> <p><b>Etapa 6.</b> Mostre o status do servidor SSH no switch, usando o comando <span class="cmd"><b>show ip ssh</b></span> ou <span class="cmd"><b>show ssh</b></span>.</p> <p>Para excluir o par de chaves RSA, use o comando de configuração global <span class="cmd"><b>crypto key zeroize rsa</b></span>. Depois que o par de chaves RSA for excluído, o servidor SSH será desabilitado automaticamente. </p> <p><b>Configurando o servidor SSH</b> </p> <p>Começando no modo EXEC privilegiado, siga estas etapas para configurar o servidor SSH.</p> <p><b>Etapa 1.</b> Entre no modo de configuração global, usando o comando <span class="cmd"><b>configure terminal</b></span>. </p> <p><b>Etapa 2.</b> (Opcional) Configure o switch para executar SSHv1 ou SSHv2 usando o comando <span class="cmd"><b>ip ssh version</b> [<b>1</b> | <b>2</b>]</span>. </p> <p>Se você não digitar esse comando ou não especificar uma palavra-chave, o servidor SSH selecionará a versão SSH mais recente suportada pelo cliente SSH. Por exemplo, se o cliente SSH suportar SSHv1 e SSHv2, o servidor SSH selecionará SSHv2. </p> <p><b>Etapa 3.</b> Configure os parâmetros de controle SSH: </p> <p><ul><li>Especifique o valor do <content-link target="{91D92E01-B382-412B-AAB3-3C1AEA3A7B43}" type="glossary">tempo limite</content-link> em segundos; o padrão é de 120 segundos. O intervalo é de 0 a 120 segundos. Para que uma conexão SSH seja estabelecida, várias fases devem ser concluídas, como conexão, protocolo, negociação e negação de parâmetro. O valor de tempo limite se aplica ao tempo que o switch permite ao estabelecimento de uma conexão. </li></ul></p> <p>Por padrão, estão disponíveis até cinco conexões SSH criptografadas, simultâneas, para várias sessões baseadas em CLI na rede (da sessão 0 à sessão 4). Depois que o shell de execução é iniciado, o valor de tempo limite da sessão baseada em CLI retorna ao padrão de 10 minutos. </p> <p><ul><li>Especifique por quantas horas um cliente pode se reautenticar no servidor. O padrão é 3; o intervalo é de 0 a 5. Por exemplo, um usuário pode permitir que a sessão SSH permaneça por mais 10 minutos três vezes antes do encerramento da sessão SSH.</li></ul></p> <p>Repita essa etapa ao configurar ambos os parâmetros. Para configurar ambos os parâmetros, use o comando <span class="cmd"><b>ip ssh</b> {<b>timeout </b><i>seconds</i> | <b>authentication-retries </b><i>number</i>}</span>.</p> <p><b>Etapa 4.</b> Retorne ao modo EXEC privilegiado, usando o comando end.</p> <p><b>Etapa 5.</b> Exiba o status das conexões do servidor SSH no switch, usando o comando <span class="cmd"><b>show ip ssh</b></span> ou o comando <span class="cmd"><b>show ssh</b></span>.</p> <p><b>Etapa 6.</b> (Opcional) Salve suas entradas no arquivo de configuração de inicialização, usando o comando <span class="cmd"><b>copy running-config startup-config</b></span>.</p> <p>Se você quiser impedir conexões que não sejam SSH, adicione o comando <span class="cmd"><b>transport input ssh</b></span> no modo de configuração de linha para limitar o switch apenas a conexões SSH. As conexões Telnet diretas (que não são SSH) são recusadas.</p> <p>Para obter uma discussão detalhada sobre SSH, visite: <content-link target="http://www.cisco.com/en/US/tech/tk583/tk617/tsd_technology_support_protocol_home.html" type="external">http://www.cisco.com/en/US/tech/tk583/tk617/tsd_technology_support_protocol_home.html</content-link>. </p> <p>Para obter uma visão geral da tecnologia RSA, visite <content-link target="http://en.wikipedia.org/wiki/Public-key_cryptography" type="external">http://en.wikipedia.org/wiki/Public-key_cryptography</content-link>.</p> <p>Para obter uma discussão detalhada sobre a tecnologia RSA, visite: <content-link target="http://www.rsa.com/rsalabs/node.asp?id=2152" type="external">http://www.rsa.com/rsalabs/node.asp?id=2152</content-link>.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302040400">
<title><content-text>Ataques à segurança comuns</content-text></title>
<page type="OneColumn" id="tl1302040401">
<content-media type="InteractiveGraphicHotspots" id="cm4622571143">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040400/tl1302040401/cm4622571143.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040400/tl1302040401/cm4622571143text.xml"/></content-media>
<content-text><p><b>Ataques à segurança</b></p> <p>Infelizmente, a segurança de switch básica não impede ataques mal-intencionados. Neste tópico, você obterá informações sobre alguns ataques à segurança comuns e como eles são perigosos. Este tópico fornece informações em nível introdutório sobre ataques à segurança. Os detalhes de como alguns desses ataques comuns funcionam estão além do escopo do curso. Se achar uma segurança de rede de interesse, você deve explorar a curso CCNA Exploração: Acessando a WAN.</p> <p><b>Envio de endereço MAC</b></p> <p>O envio (flooding) de endereço MAC é um ataque comum. Lembre-se de que a tabela de endereços MAC em um switch contém os endereços MAC disponíveis em uma determinada porta física de um switch e os parâmetros de VLAN associados. Quando um switch da Camada 2 recebe um quadro, o switch procura na tabela de endereços MAC o endereço MAC de destino. Todos os modelos de switch Catalyst usam uma tabela de endereços MAC para a comutação da Camada 2. Na medida em que os quadros chegam a portas de switch, os endereços MAC de origem são aprendidos e registrados na tabela de endereços MAC. Se houver uma entrada para o endereço MAC, o switch encaminhará o quadro para a porta de endereço MAC designada na tabela de endereços MAC. Se não houver o endereço MAC, o switch funcionará como um hub e encaminhará o quadro por todas as demais portas no switch. Às vezes, os ataques de sobrecarga da tabela de endereços MAC são conhecidos como ataques de envio MAC. Para compreender o mecanismo de um ataque de sobrecarga da tabela de endereços MAC, lembre-se do funcionamento básico de um switch.</p> <p><b>Clique no botão Etapa 1 na figura </b>para ver como começa o ataque de sobrecarga da tabela de endereços MAC.</p> <p>Na figura, o host A envia tráfego para o host B. O switch recebe os quadros e pesquisa os endereços MAC de destino em sua tabela de endereços MAC. Se o switch não conseguir localizar o MAC de destino na tabela de endereços MAC, o switch copiará o quadro e o difundirá por todas as portas de switch. </p> <p><b>Clique no botão Etapa 2 na figura </b>para ver a próxima etapa.</p> <p>O host B recebe o quadro e envia uma resposta para o host A. Dessa forma, o switch sabe que o endereço MAC do host B está localizado na porta 2 e grava essas informações na tabela de endereços MAC.</p> <p>O host C também recebe o quadro do host A para o host B, mas como o endereço MAC de destino desse quadro é o host B, o host C descarta esse pacote.</p> <p><b>Clique no botão Etapa 3 na figura </b>para ver a próxima etapa.</p> <p>Agora, qualquer quadro enviado pelo host A (ou qualquer outro host) para o host B é encaminhado para a porta 2 do switch, não o difundindo por todas as portas.</p> <p>A chave para compreender como os ataques de sobrecarga da tabela de endereços MAC é saber que as tabelas de endereços MAC têm o tamanho limitado. O envio MAC usa essa limitação para bombardear o switch com falsos endereços MAC de origem até que a tabela de endereços MAC do switch fique cheia. Em seguida, o switch entra naquilo que é conhecido como modo aberto a falhas, começando a funcionar como um <content-link target="{7671AC0D-EC0D-4CDF-8E5F-21CAD5FFF066}" type="glossary">hub</content-link>, e difunde pacotes para todas as máquinas na rede. Dessa forma, o invasor pode ver todos os quadros enviados de um host de vítima para outro host sem uma entrada na tabela de endereços MAC.</p> <p><b>Clique no botão Etapa 4 na figura </b>para ver como um invasor usa ferramentas legítimas de maneira mal-intencionada.</p> <p>A figura mostra como um invasor pode usar os recursos operacionais normais do switch para impedir o funcionamento do switch.</p> <p>O envio MAC pode ser executado com uma ferramenta de ataque à rede. O intruso na rede usa a ferramenta de ataque para enviar o switch com um grande número de endereços MAC de origem inválidos até que a tabela de endereços MAC seja preenchida. Quando a tabela de endereços MAC está cheia, o switch envia todas as portas com tráfego de entrada porque não pode localizar o número de porta para um endereço MAC específico na tabela de endereços MAC. O switch, basicamente, funciona como um hub.</p> <p>Algumas ferramentas de ataque à rede podem gerar 155.000 entradas MAC em um switch por minuto. Dependendo do switch, o tamanho máximo da tabela de endereços MAC varia. Na figura, a ferramenta de ataque está em execução no host com o endereço C MAC na parte inferior da tela. Essa ferramenta envia um switch com pacotes que contêm endereços MAC e IP de origem e de destino gerados aleatoriamente. Durante um curto período, a tabela de endereços MAC no switch é preenchida até que seja incapaz de aceitar novas entradas. Quando a tabela de endereços MAC for preenchida com endereços MAC de origem inválidos, o switch começará a encaminhar todos os quadros recebidos para todas as portas.</p> <p><b>Clique no botão Etapa 5 na figura para ver a próxima etapa.</b></p> <p>Desde que a ferramenta de ataque à rede esteja em execução, a tabela de endereços MAC no switch permanece cheia. Quando isso acontece, o switch começa a transmitir todos os quadros recebidos por todas as portas de forma que os quadros enviados do host A para o host B também sejam difundidos pela porta 3 do switch.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040402">
<content-media type="StaticGraphic" id="cm7892750475">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040400/tl1302040402/cm7892750475.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040400/tl1302040402/cm7892750475text.xml"/></content-media>
<content-text><p><b>Ataques de falsificação</b></p> <p><b>Clique no botão Falsificação na figura.</b></p> <p>Uma forma de um invasor ganhar acesso ao tráfego da rede é falsificar respostas que seriam enviadas por um servidor DHCP válido. O dispositivo de falsificação DHCP responde às solicitações DHCP do cliente. O servidor legítimo também pode responder, mas se o dispositivo de <content-link target="{459471E1-347C-4DE5-B94A-1871CC809919}" type="glossary">falsificação</content-link> estiver no mesmo segmento do cliente, sua resposta para o cliente poderá chegar primeiro. A resposta DHCP do intruso oferece um endereço IP e informações de suporte que designam o intruso como o gateway padrão ou o servidor do Sistema de Nome de Domínio (<content-link target="{D04B4192-6987-4644-99F0-C56ACDC19641}" type="glossary">DNS</content-link>). No caso de um gateway, os clientes encaminham pacotes para o dispositivo de ataque, que, por sua vez, os envia para o destino desejado. Isso é conhecido como um ataque de interceptação, podendo passar totalmente despercebido porque o intruso intercepta o fluxo de dados pela rede.</p> <p>Você deve estar atento a outro tipo de ataque DHCP chamado de fome DHCP. O PC invasor solicita continuamente endereços IP de um servidor DHCP real, alterando seus endereços MAC de origem. Se houver êxito, esse tipo de ataque DHCP fará com que todos os empréstimos no servidor DHCP real sejam alocados, o que impede os usuários reais (clientes DHCP) de obter um endereço IP.</p> <p>Para impedir ataques DHCP, use os recursos de segurança de porta e de detecção DHCP nos switches Cisco Catalyst.</p> <p><b>Recursos de segurança de porta e de detecção DHCP Cisco Catalyst</b></p> <p>A detecção DHCP um recurso Cisco Catalyst que determina quais portas de switch podem responder a solicitações DHCP. As portas são identificadas como confiáveis e não confiáveis. As portas confiáveis podem dar origem a todas as mensagens DHCP; as não confiáveis, apenas solicitações. As portas confiáveis hospedam um servidor DHCP ou podem ser um uplink no servidor DHCP. Se um dispositivo invasor estiver em uma porta não confiável para tentar enviar um pacote de resposta DHCP na rede, a porta será desligada. Esse recurso pode ser somado a opções DHCP nas quais informações do switch, como a ID de porta da solicitação DHCP, podem ser inseridas no pacote de solicitação DHCP. </p> <p><b>Clique no botão Detecção DHCP.</b></p> <p>As portas não confiáveis são aquelas não explicitamente configuradas como confiáveis. Uma tabela de ligação DHCP foi criada para portas não confiáveis. Cada entrada contém um endereço MAC de cliente, endereço IP, tempo de empréstimo, tipo de ligação, número de VLAN e a ID de porta registrada quando os clientes fazem solicitações DHCP. Em seguida, a tabela é usada para filtrar o tráfego DHCP subseqüente. De uma perspectiva de detecção DHCP, as portas de acesso não confiáveis não devem enviar nenhuma resposta de servidor DHCP. </p> <p>Essas etapas ilustram como configurar a detecção DHCP em um switch Cisco IOS:</p> <p><b>Etapa 1.</b> Habilite a detecção DHCP usando o comando de configuração global <span class="cmd"><b>ip dhcp snooping</b></span>.</p> <p><b>Etapa 2.</b> Habilite a detecção DHCP para VLANs específicas, usando o comando <span class="cmd"><b>ip dhcp snooping vlan number</b> [<i>number</i>]</span>.</p> <p><b>Etapa 3.</b> Defina portas como confiáveis ou não confiáveis no nível da interface, definindo as portas confiáveis com o comando <span class="cmd"><b>ip dhcp snooping trust</b></span>.</p> <p><b>Etapa 4.</b> (Opcional) Limite a taxa na qual um invasor pode continuar enviando solicitações DHCP fictícias por meio de portas não confiáveis para o servidor DHCP usando o comando <span class="cmd"><b>ip dhcp snooping limit rate</b><i> rate</i></span>.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040403">
<content-media type="StaticGraphic" id="cm5058372333">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040400/tl1302040403/cm5058372333.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040400/tl1302040403/cm5058372333text.xml"/></content-media>
<content-text><p><b>Ataques CDP</b></p> <p>O Cisco Discovery Protocol (<content-link target="{3CD61258-D6EA-4D00-B1D5-B772ED959841}" type="glossary">CDP</content-link>) é um protocolo próprio que todos os dispositivos Cisco podem ser configurados para usar. CDP descobre outros dispositivos Cisco conectados diretamente, o que permite aos dispositivos configurar automaticamente sua conexão em alguns casos, o que simplifica a configuração e a conectividade. As mensagens CDP não são criptografadas.</p>  <p>Por padrão, a maioria dos roteadores e dos switches Cisco tem CDP habilitado. As informações de CDP são enviadas em broadcasts periódicos, atualizadas localmente no banco de dados CDP de cada dispositivo. Como CDP é um protocolo da Camada 2, ele não é propagado por roteadores.</p> <p>O CDP contém informações sobre o dispositivo, como o endereço IP, a versão de software, a plataforma, os recursos e a VLAN nativa. Quando essas informações estiverem disponíveis para um invasor, ele poderá usá-las para localizar explorações para atacar sua rede, normalmente na forma de um ataque de negação de serviço (DOS).</p> <p>A figura é uma porção de um rastreamento de pacote Ethereal, que mostra a parte interna de um pacote CDP. A versão do software Cisco IOS descoberta por CDP, em especial, permitiria ao invasor pesquisar e determinar se havia alguma vulnerabilidade de segurança específica para essa versão em especial do código. Além disso, como o CDP não é autenticado, um invasor poderia criar pacotes CDP falsos e fazer com que eles fossem recebidos pelo dispositivo Cisco diretamente conectado do invasor. </p> <p>Para corrigir essa vulnerabilidade, é recomendável desabilitar o uso do CDP em dispositivos que não precisem usá-lo.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040404">
<content-media type="StaticGraphic" id="cm3813828374">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040400/tl1302040404/cm3813828374.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040400/tl1302040404/cm3813828374text.xml"/></content-media>
<content-text><p><b>Ataques Telnet</b></p> <p>O protocolo Telnet pode ser usado por um invasor para ganhar acesso remoto a um switch de rede Cisco. Em um tópico anterior, você configurou uma senha de login para as linhas vty e as definiu para exigir autenticação por senha para ganhar acesso. Isso fornece um nível essencial e básico de segurança para ajudar a proteger o switch do acesso não autorizado. No entanto, não se trata de um método seguro de garantir acesso às linhas vty. Há ferramentas disponíveis que permitem a um invasor iniciar um ataque de força bruta para romper a senha nas linhas vty do switch. </p> <p><b>Ataque de força bruta de senha </b></p> <p>A primeira fase de um ataque de força bruta de senha começa com o invasor usando uma lista de senhas comuns e um programa projetado para tentar estabelecer uma sessão Telnet usando cada palavra na lista de dicionário. Felizmente, como você é inteligente o bastante para não usar uma palavra do dicionário, está seguro por enquanto. Na segunda fase de um ataque de força bruta, o invasor usa um programa que cria combinações de caracteres seqüenciais em uma tentativa de "adivinhar" a senha. Com tempo o suficiente, um ataque de força bruta de senha pode romper praticamente todas as senhas usadas.</p> <p>A coisa mais simples a se fazer para limitar a vulnerabilidade a ataques de força bruta de senha é alterar suas senhas freqüentemente e usar senhas fortes que misturem aleatoriamente letras maiúsculas e minúsculas com números. Configurações mais avançadas permitem limitar quem pode se comunicar com as linhas vty, usando listas de acesso, mas isso está além do escopo deste curso. </p> <p><b>Ataque DoS</b></p> <p>Outro tipo de ataque Telnet é o ataque DoS. Em um ataque DOS, o invasor explora uma falha no software do servidor Telnet em execução no switch que torna o serviço Telnet indisponível. Esse tipo de ataque costuma ser incômodo porque impede um administrador de realizar funções de gerenciamento do switch.</p> <p>As vulnerabilidade no serviço Telnet que permitem ataques DoS costumam ser corrigidas nos patches de segurança incluídos em revisões do Cisco IOS mais recentes. Se você estiver enfrentando um ataque DoS contra o serviço Telnet ou outro serviço em um dispositivo Cisco, veja se há uma revisão do Cisco IOS mais recente disponível.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302040500">
<title><content-text>Ferramentas de segurança</content-text></title>
<page type="OneColumn" id="tl1302040501">
<content-media type="StaticGraphic" id="cm9931484227">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040500/tl1302040501/cm9931484227.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040500/tl1302040501/cm9931484227text.xml"/></content-media>
<content-text><p>Depois de configurar a segurança do switch, você precisa verificar se não deixou nenhuma deficiência que possa explorada por um invasor. A segurança de rede é um tópico complexo e em constante evolução. Nesta seção, você é apresentado à forma como as ferramentas de segurança de rede formam um componente usado para proteger uma rede de ataques mal-intencionados. </p> <p>As ferramentas de segurança da rede ajudam a testar sua rede quanto a várias deficiências. Elas são ferramentas que permitem desempenhar as funções de um hacker e de um analista da segurança da rede. Usando essas ferramentas, é possível iniciar um ataque e auditar os resultados para determinar como ajustar suas políticas de segurança para impedir um determinado ataque. </p> <p>Os recursos usados por ferramentas de segurança da rede estão em constante evolução. Por exemplo, as ferramentas de segurança da rede já se concentraram exclusivamente nos serviços de escuta na rede e examinavam esses serviços em busca de falhas. Atualmente, vírus e worms podem se propagar por causa das falhas em clientes de email e navegadores. As ferramentas de segurança da rede modernas não apenas detectam as falhas remotas dos hosts na rede, mas também determinam se há falhas no nível de aplicativo, como patches não encontrados em computadores clientes. A segurança de rede vai além dos dispositivos de rede, até a área de trabalho dos usuários. A auditoria de segurança e o teste de penetração são duas funções básicas executadas por ferramentas de segurança da rede. </p> <p><b>Auditoria de segurança da rede</b></p> <p>As ferramentas de segurança da rede permitem executar uma auditoria de segurança na sua rede. Uma auditoria de segurança revela que tipo de informação um invasor pode obter simplesmente monitorando o tráfego da rede. As ferramentas de auditoria de segurança da rede permitem enviar a tabela MAC com endereços MAC fictícios. Assim, é possível auditar as portas de switch quando o switch começa a enviar o tráfego por todas as portas na medida em que os mapeamentos de endereço MAC expiram e são substituídos por mais mapeamentos de endereço MAC fictício. Dessa forma, é possível determinar quais portas estão comprometidas e não foram configuradas corretamente para impedir esse tipo de ataque.</p> <p>Timing é um fator importante na execução de uma auditoria bem-sucedida. Switches diferente suportam números de endereços MAC variáveis em sua tabela MAC. Pode ser difícil determinar a quantidade ideal de endereços MAC falsificados a serem jogados fora na rede. Você também precisa concordar com o período de tempo limite da tabela MAC. Se os endereços MAC falsificados começarem expirar enquanto você estiver executando sua auditoria de rede, os endereços MAC válidos começarão a preencher a tabela MAC, o que limita os dados que é possível monitorar usando uma ferramenta de auditoria da rede.</p> <p><b>Testes de penetração da rede</b></p> <p>As ferramentas de segurança da rede também podem ser usadas em testes de penetração na sua rede. Isso permite identificar deficiências na configuração de seus dispositivos de networking. Há vários ataques que é possível executar, e a maioria dos pacotes de ferramentas acompanha uma ampla documentação detalhando a sintaxe necessária à execução do ataque desejado. Como esses tipos de testes podem ter efeitos colaterais na rede, eles são executados sob condições muito rígidas, seguindo os procedimentos documentados detalhados em um política de segurança de rede abrangente. Obviamente, se tiver uma rede baseada em uma pequena sala de aula, você poderá se organizar para trabalhar com seu instrutor para tentar seus próprios testes de penetração na rede.</p> <p>No próximo tópico, você aprenderá como implementar a segurança de porta em seus switches Cisco de forma que seja possível assegurar que esses testes de segurança da rede não revelem nenhuma falha na sua configuração de segurança.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040502">
<content-media type="StaticGraphic" id="cm4332189933">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040500/tl1302040502/cm4332189933.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040500/tl1302040502/cm4332189933text.xml"/></content-media>
<content-text><p><b>Recursos das ferramentas de segurança da rede</b></p> <p>Uma rede efetivamente segura é processo, e não um produto. Não basta habilitar um switch apenas com uma configuração segura e dizer que o trabalho está concluído. Para dizer que tem uma rede segura, você precisa ter um plano de segurança de rede abrangente que defina como verificar regularmente se a sua rede pode resistir aos ataques à rede mal-intencionados mais recentes. O panorama variável dos riscos de segurança significa que você precisa de ferramentas de auditoria e penetração capazes de ser atualizados para procurar os riscos de segurança mais recentes. Entre os recursos comuns de uma ferramenta de segurança da rede moderna estão:</p> <p><ul><li>Identificação de serviço: as ferramentas são usadas para definir hosts usando números de porta Internet Assigned Numbers Authority (<content-link target="{38055F33-7CF2-40FC-808E-01A24C982FBE}" type="glossary">IANA</content-link>). Essas ferramentas também devem ser capazes de detectar um servidor FTP em execução em uma porta que não seja padrão ou um servidor Web em execução na porta 8080. A ferramenta também deve ser capaz de testar todos os serviços em execução em um host.</li><li>Suporte de serviços SLL: serviços de teste que usam a segurança de nível SSL, inclusive HTTPS, SMTPS, IMAPS e certificado de segurança. </li><li>Testes destrutivos e não destrutivos: execução de auditorias de segurança não destrutivas regularmente que não comprometem ou comprometem moderadamente o desempenho da rede. As ferramentas também devem deixar executar auditorias destrutivas que afetam significativamente o desempenho da rede. A auditoria destrutiva permite ver como a sua rede suporta ataques de intrusos.</li><li>Banco de dados de vulnerabilidades: vulnerabilidades mudam o tempo todo. </li></ul></p> <p>As ferramentas de segurança da rede precisam ser criadas para que possam ser conectadas a um módulo de código e executar um teste à procura dessa vulnerabilidade. Dessa forma, um grande banco de dados de vulnerabilidades pode ser mantido e carregado na ferramenta para assegurar que as mais recentes vulnerabilidade estejam sendo testadas.</p> <p>É possível usar ferramentas de segurança de rede para:</p> <p><ul><li>Capturar mensagens de bate-papo </li><li>Capturar arquivos do tráfego <content-link target="{16DEFB52-29C7-4C99-8BF1-A59A0A14AF20}" type="glossary">NFS</content-link></li><li>Capturar solicitações HTTP no Formato de Log Comum </li><li>Capturar mensagens de email no formato Berkeley mbox</li><li>Capture senhas</li><li>Exibir URLs capturados no navegador em tempo real</li><li>Enviar uma rede local comutada com endereços MAC aleatórios</li><li>Forjar respostas para consultas DNS de endereço/apontador </li><li>Interceptar pacotes em uma rede local comutada </li></ul></p></content-text>
</page>
</topic>
<topic type="" id="tl1302040600">
<title><content-text>Configurando a segurança da porta</content-text></title>
<page type="OneColumn" id="tl1302040601">
<content-media type="StaticGraphic" id="cm7936832950">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040600/tl1302040601/cm7936832950.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040600/tl1302040601/cm7936832950text.xml"/></content-media>
<content-text><p><b>Usando a segurança de porta para atenuar ataques</b></p> <p>Neste tópico, você obterá informações sobre os problemas a serem considerados ao configurar a segurança de porta em um switch. Os principais comandos de segurança de porta do Cisco IOS são sumarizados. Você também obterá informações sobre como configurar a segurança de porta estática e dinâmica.</p> <p><b>Clique no botão Segurança de porta na figura.</b></p> <p><b>Segurança de porta</b></p> <p>Um switch que não fornece a segurança de porta permite a um invasor anexar um sistema a uma porta não usada, habilitada, e executar a coleta de informações ou ataques. Um switch pode ser configurado para funcionar como um hub, o que significa que todos os sistemas conectados ao switch podem exibir todo o tráfego da rede que passa pelo switch até todos os sistemas conectados ao switch. Assim, um invasor poderia coletar tráfego que contivesse nomes de usuário, senhas ou informações de configuração sobre os sistemas na rede.</p> <p>Todas as portas de switch ou interfaces devem ser protegidas antes da implantação do switch. A segurança de porta limita o número de endereços MAC válidos permitidos em uma porta. Quando você atribui endereços MAC seguros a uma porta segura, a porta não encaminha pacotes com <content-link target="{FDD8B313-56F4-4B39-92E9-AEE0D7AEC896}" type="glossary">endereços de origem</content-link> fora do grupo de endereços definidos. </p> <p>Se você limitar o número de endereços MAC seguros a um e atribuir um único endereço MAC seguro a essa porta, a estação de trabalho acoplada à porta terá toda a largura de banda da porta, e somente essa estação de trabalho com o endereço MAC seguro determinado poderá se conectar com êxito à porta de switch.</p> <p>Se uma porta for configurada como uma porta segura e o número máximo de endereços MAC seguros for alcançado, ocorrerá uma violação de segurança quando o endereço MAC de uma estação de trabalho que tenta acessar a porta for diferente dos endereços MAC seguros identificados. A figura resume esses pontos.</p> <p><b>Clique no botão Tipos de endereço MAC seguro na figura.</b></p> <p><b>Tipos de endereço MAC seguro</b></p> <p>Há várias formas de configurar a segurança de porta. Esta é uma descrição das formas como é possível configurar a segurança de porta em um switch Cisco:</p> <p><ul><li><b>Endereços MAC seguros estáticos:</b> os endereços MAC são configurados manualmente, usando o comando de configuração da interface <span class="cmd"><b>switchport port-security mac-address </b><i>mac-address</i></span>. Os endereços MAC configurados dessa forma são armazenados na tabela de endereços, sendo adicionados à configuração de execução no switch. </li><li><b>Endereços MAC seguros dinâmicos:</b> os endereços MAC são aprendidos dinamicamente e armazenados apenas na tabela de endereços. Os endereços MAC configurados dessa forma são removidos quando o switch reinicia. </li><li><b>Endereços MAC seguros fixos:</b> é possível configurar uma porta para saber endereços MAC dinamicamente e salvar esses endereços MAC na configuração de execução. </li></ul></p> <p><b>Endereços MAC fixos</b></p> <p>Endereços MAC fixos seguros têm estas características: </p> <p><ul><li>Quando você habilita a aprendizagem fixa em uma interface usando o comando de configuração da interface <span class="cmd"><b>switchport port-security mac-address sticky</b></span>, a interface converte todos os endereços MAC seguros dinâmicos, inclusive os que foram aprendidos dinamicamente antes da habilitação da aprendizagem fixa, para fixar endereços MAC seguros e adiciona todos os endereços MAC seguros à configuração de execução. </li><li>Se você desabilitar a aprendizagem fixa usando o comando de configuração da interface <span class="cmd"><b>no switchport port-security mac-address sticky</b></span>, os endereços MAC seguros fixos continuarão parte da tabela de endereços, mas serão removidos da configuração de execução. </li><li>Quando você configura endereços MAC seguros fixos usando o comando de configuração da interface <span class="cmd"><b>switchport port-security mac-address sticky </b><i>mac-address</i></span>, esses endereços serão adicionados à tabela de endereços e à configuração de execução. Se a segurança de porta for desabilitada, os endereços MAC seguros fixos permanecerão na configuração de execução. </li><li>Se você salvar os endereços MAC seguros fixos no arquivo de configuração, quando o switch for reiniciado ou a interface for desligada, a interface não precisará reaprender esses endereços. Se você não salvar os endereços seguros fixos, eles serão perdidos. </li><li>Se você desabilitar a aprendizagem fixa e digitar o comando de configuração da interface <span class="cmd"><b>switchport port-security mac-address sticky </b><i>mac-address</i></span>, uma mensagem de erro será exibida, e o endereço MAC seguro fixo não será adicionado à configuração de execução. </li></ul></p> <p><b>Clique no botão Modos de violação da segurança na figura.</b></p> <p><b>Modos de violação da segurança</b> </p> <p>É uma violação de segurança quando uma destas situações ocorre: </p> <p><ul><li>O número máximo de endereços MAC seguros foi adicionado à tabela de endereços e uma estação cujo endereço MAC não está na tabela de endereços tenta acessar a interface. </li><li>Um endereço aprendido ou configurado em uma interface segura é visto em outra interface segura na mesma VLAN.</li></ul></p> <p>É possível configurar a interface para um dos três modos de violação, com base na ação ser executada em caso de uma violação. A figura apresenta que tipos de tráfego de dados são encaminhados quando um dos seguintes modos de violação de segurança é configurado em uma porta: </p> <p><ul><li><b>proteger:</b> quando o número de endereços MAC seguros atinge o limite permitido na porta, pacotes com endereços de origem desconhecidos são ignorados até que você remova um número suficiente de endereços MAC seguros ou aumente o número máximo de endereços permitidos. Você não é notificado de que houve uma violação de segurança. </li><li><b>restringir:</b> quando o número de endereços MAC seguros atinge o limite permitido na porta, pacotes com endereços de origem desconhecidos são ignorados até que você remova um número suficiente de endereços MAC seguros ou aumente o número máximo de endereços permitidos. Nesse modo, você é notificado de que houve uma violação de segurança. Especificamente, uma interceptação SNMP é enviada, uma mensagem syslog é registrada em log e o contador de violação é incrementado. </li><li><b>desligamento:</b> nesse modo, uma violação de segurança de porta faz com que a interface seja desabilitada para erro imediatamente e apaga o LED da porta. Ele também envia uma interceptação SNMP, registra em log uma mensagem syslog e incrementa o contador de violação. Quando uma porta segura estiver no estado desabilitado para erro, será possível tirá-la desse estado, digitando-se os comandos de configuração da interface <span class="cmd"><b>shutdown</b></span> e <span class="cmd"><b>no shutdown</b></span>. Este é o modo padrão.</li></ul></p></content-text>
</page>
<page type="OneColumn" id="tl1302040602">
<content-media type="StaticGraphic" id="cm2659544410">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040600/tl1302040602/cm2659544410.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040600/tl1302040602/cm2659544410text.xml"/></content-media>
<content-text><p><b>Configurar segurança da porta</b></p> <p><b>Clique no botão Configuração padrão na figura.</b></p> <p>As portas em um switch Cisco são pré-configuradas com padrões. A figura resume a configuração da segurança de porta padrão.</p> <p><b>Clique no botão Configurar segurança de porta dinâmica na figura.</b></p> <p>A figura mostra os comandos CLI do Cisco IOS necessários à configuração da segurança de porta na porta Fast Ethernet F0/18 do switch S1. Observe que o exemplo não especifica um modo de violação. Neste exemplo, o modo de violação é definido como <span class="cmd"><b>shutdown</b></span>. </p> <p><b>Clique no botão Configurar segurança de porta fixa na figura.</b></p> <p>A figura mostra os como habilitar a segurança de porta fixa na porta Fast Ethernet 0/18 do switch S1. Conforme dito antes, é possível configurar o número máximo de endereços MAC seguros. Neste exemplo, você pode ver a sintaxe de comando do Cisco IOS usada para definir o número máximo de endereços MAC como 50. Por padrão, o modo de violação é definido como <span class="cmd"><b>shutdown</b></span>.</p> <p>Há outras configurações de segurança de porta que você talvez considere úteis. Para obter uma listagem completa das opções de configuração da segurança de porta, visite: <content-link target="http://www.cisco.com/en/US/docs/switches/lan/catalyst2960/software/release/12.2_44_se/configuration/guide/swtrafc.html" type="external">http://www.cisco.com/en/US/docs/switches/lan/catalyst2960/software/release/12.2_44_se/configuration/guide/swtrafc.html</content-link></p></content-text>
</page>
<page type="OneColumn" id="tl1302040603">
<content-media type="StaticGraphic" id="cm9252583148">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040600/tl1302040603/cm9252583148.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040600/tl1302040603/cm9252583148text.xml"/></content-media>
<content-text><p><b>Verificar segurança de porta</b></p> <p>Depois de configurar a segurança de porta para o seu switch, você deseja verificar se ele foi configurado corretamente. Você precisa verificar cada interface para ver se definiu a segurança de porta corretamente. Você também precisa verificar para ter certeza de que configurou endereços MAC estáticos corretamente. </p> <p><b>Verificar configurações de segurança de porta</b></p> <p>Para exibir as configurações de segurança de porta do switch ou da interface especificada, use o comando <span class="cmd"><b>show port-security</b> [<b>interface </b><i>interface-id</i>]</span>. </p> <p>A saída de comando exibe o seguinte:</p> <p><ul><li>Número de endereços MAC seguros máximo permitido para cada interface</li><li>Número de endereços MAC seguros na interface</li><li>Número de violações de segurança ocorridas</li><li>Modo de violação</li></ul></p> <p><b>Verificar endereços MAC seguros</b></p> <p><b>Clique no botão Verificar endereços MAC seguros na figura.</b></p> <p>Para exibir todos os endereços MAC seguros configurados em todas as interfaces de switch em uma interface especificada com as informações de tempo limite de cada uma, use o comando de endereço <span class="cmd"><b>show port-security</b> [<b>interface </b><i>interface-id</i>]</span>.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302040700">
<title><content-text>Protegendo portas não usadas</content-text></title>
<page type="OneColumn" id="tl1302040701">
<content-media type="StaticGraphic" id="cm7465690534">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040700/tl1302040701/cm7465690534.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302040000/tl1302040700/tl1302040701/cm7465690534text.xml"/></content-media>
<content-text><p><b>Desabilitar portas não usadas</b></p> <p>Neste tópico, você aprenderá a usar um comando simples do Cisco IOS para proteger as portas de switch não usadas. Um método simples usado por muitos administradores para ajudar na proteção de sua rede contra o acesso não autorizado é desabilitar todas as portas não usadas em um switch de rede. Por exemplo, imagine que um switch Cisco 2960 tenha 24 portas. Se houver três conexões Fast Ethernet sendo usadas, a prática recomendada de segurança exigirá que você desabilite as 21 portas não usadas. A figura mostra a saída de comando parcial dessa configuração. </p> <p>É simples desabilitar várias portas em um switch. Navegue até cada uma das portas não usadas e emita esse comando <span class="cmd"><b>shutdown</b></span> do Cisco IOS. Uma forma alternativa de desligar várias portas é usando o comando <span class="cmd"><b>interface range</b></span>. Se uma porta precisar ser ativada, será possível digitar o comando <span class="cmd"><b>no shutdown</b></span> nessa interface.</p> <p>O processo de habilitar e desabilitar portas pode se tornar uma tarefa entediante, mas o valor em termos de aprimoramento da segurança em sua rede vale bem o esforço.</p></content-text>
</page>
<page type="OneColumn" id="tl1302040702">
<content-media type="ActivityPKA" id="cm9737764502">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302040000/tl1302040700/tl1302040702/cm9737764502/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302040000/tl1302040700/tl1302040702/cm9737764502/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você configurará comandos de switch básicos e definirá e testará a segurança da porta. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo. </p> <p><content-link target="E3_PTAct_2_4_7.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="" id="tl1302050000">
<title><content-text>Laboratórios do capítulo</content-text></title>
<topic type="" id="tl1302050100">
<title><content-text>Configuração básica do switch</content-text></title>
<page type="OneColumn" id="tl1302050101">
<content-media type="ActivityLab" id="cm3113926191">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302050000/tl1302050100/tl1302050101/cm3113926191/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302050000/tl1302050100/tl1302050101/cm3113926191/icontext.xml"/></content-media>
<content-text><p>Neste laboratório, você irá examinar e configurar um switch de LAN autônomo. Embora um switch execute funções básicas em sua condição padrão pronta para uso, há vários parâmetros que um administrador de rede deve modificar para assegurar uma LAN segura e otimizada. Este laboratório apresenta os fundamentos da configuração do switch.</p></content-text>
</page>
<page type="OneColumn" id="tl1302050102">
<content-media type="ActivityPKA" id="cm9166222267">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302050000/tl1302050100/tl1302050102/cm9166222267/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302050000/tl1302050100/tl1302050102/cm9166222267/icontext.xml"/></content-media>
<content-text><p>Nesta atividade, você irá examinar e configurar um switch de LAN autônomo. Embora um switch execute funções básicas em sua condição padrão pronta para uso, há vários parâmetros que um administrador de rede deve modificar para assegurar uma LAN segura e otimizada. Esta atividade apresenta os fundamentos da configuração do switch.</p> <p>São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo.</p> <p><content-link target="E3_PTAct_2_5_1.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p> <p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
<topic type="" id="tl1302050200">
<title><content-text>Gerenciando o sistema operacional do switch e os arquivos de configuração</content-text></title>
<page type="OneColumn" id="tl1302050201">
<content-media type="ActivityLab" id="cm4309751666">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302050000/tl1302050200/tl1302050201/cm4309751666/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302050000/tl1302050200/tl1302050201/cm4309751666/icontext.xml"/></content-media>
<content-text><p>Neste laboratório, você criará e salvará uma configuração de switch básica em um servidor TFTP. Você usará um servidor TFTP para carregar uma configuração no switch e atualizar o software do Cisco IOS. Você também usará procedimentos de recuperação de senha para acessar um switch para o qual a senha é desconhecida.</p></content-text>
</page>
</topic>
<topic type="" id="tl1302050300">
<title><content-text>Gerenciando o sistema operacional do switch e os arquivos de configuração - Desafio</content-text></title>
<page type="OneColumn" id="tl1302050301">
<content-media type="ActivityLab" id="cm5006520195">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302050000/tl1302050300/tl1302050301/cm5006520195/" mime="application/pdf" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302050000/tl1302050300/tl1302050301/cm5006520195/icontext.xml"/></content-media>
<content-text><p>Cabo de rede semelhante ao do diagrama de topologia. Em seguida, crie uma conexão de console com o switch. Se necessário, consulte o Laboratório 1.3.1. A saída mostrada neste laboratório é de um switch 2960. Se você usar outros switches, as saídas do switch e as descrições de interface poderão ser diferentes.</p></content-text>
</page>
</topic>
</section>
<section type="ChapterSummary" id="tl1302060000">
<title><content-text>Resumo do capítulo</content-text></title>
<topic type="" id="tl1302060100">
<title><content-text>Resumo do capítulo</content-text></title>
<page type="OneColumn" id="tl1302060101">
<content-media type="StaticGraphic" id="cm3365997499">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302060000/tl1302060100/tl1302060101/cm3365997499.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302060000/tl1302060100/tl1302060101/cm3365997499text.xml"/></content-media>
<content-text><p>Neste capítulo, abordamos a comunicação Ethernet IEEE 802.3 que usa tráfego de unicast, de broadcast e de multicast. As primeiras implementações de redes Ethernet precisaram usar CSMA/CD para ajudar a impedir e a detectar colisões entre quadros na rede. As configurações bidirecionais e a segmentação de rede local melhoram o desempenho e reduzem a necessidade de CSMA/CD. </p> <p>O design da rede local é um processo tendo como resultado final desejado uma determinação de como a rede local deve ser implementada. Entre as considerações quanto ao design da rede local estão domínios de colisão, domínios de broadcast, latência de rede e segmentação de rede local.</p>  <p>Abordamos como os métodos de encaminhamento do switch influenciam o desempenho da rede local e a latência. O armazenamento em buffer de memória tem uma função no encaminhamento do switch, na comutação simétrica e assimétrica e na comutação multicamada.</p> <p>Uma introdução à navegação na CLI do Cisco IOS em um switch Cisco Catalyst 2960 foi apresentada. As funções de ajuda internas são usadas para identificar comandos e opções de comando. A CLI do Cisco IOS mantém um histórico de comandos que permite configurar funções de switch repetitivas mais rapidamente. </p> <p>Abordamos a configuração de switch inicial e como verificar a configuração do switch. Fazer backup da configuração de um switch e restaurá-la são habilidades essenciais para qualquer um que administre um switch.</p> <p>Aprendemos como proteger o acesso ao switch: implementando senhas para proteger linhas de console e de terminal virtual, implementando senhas para limitar o acesso ao modo EXEC privilegiado, configurando criptografia de senha em todo o sistema e habilitando SSH. Há vários riscos de segurança comuns a switches Cisco Catalyst, muitos dos quais são atenuados pelo uso da segurança de porta.</p></content-text>
</page>
<page type="FullScreen" id="tl1302060102">
<content-media type="ChapterSummary" id="cm5498755795">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302060000/tl1302060100/tl1302060102/cm5498755795.swf" mime="shockwave/flash" scale="true" type="file" width="400" height="200" external="tl1302000000/tl1302060000/tl1302060100/tl1302060102/cm5498755795text.xml"/></content-media>
<content-text></content-text>
</page>
<page type="OneColumn" id="tl1302060103">
<content-media type="ActivityPKA" id="cm5594547068">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302060000/tl1302060100/tl1302060103/cm5594547068/" mime="application/packettracer" scale="true" type="directory" width="0" height="0" external="tl1302000000/tl1302060000/tl1302060100/tl1302060103/cm5594547068/icontext.xml"/></content-media>
<content-text><p>Nesta atividade avançada de integração das habilidades no Packet Tracer, você irá configurar o gerenciamento de switch básico, incluindo comandos de manutenção gerais, senhas e segurança de porta. Esta atividade fornece uma oportunidade de revisar habilidades previamente adquiridas. São fornecidas instruções detalhadas na atividade, bem como no link do PDF abaixo. </p> <p><content-link target="E3_PTAct_2_6_1.pdf" type="internalfile">Instruções da atividade (PDF)</content-link></p><p><b>Clique no ícone do Packet Tracer para obter mais detalhes.</b></p></content-text>
</page>
</topic>
</section>
<section type="ChapterQuiz" id="tl1302070000">
<title><content-text>Teste do capítulo</content-text></title>
<topic type="" id="tl1302070100">
<title><content-text>Teste do capítulo</content-text></title>
<page type="FullScreen" id="tl1302070101">
<content-media type="ChapterQuiz" id="cm5059782913">	<title><content-text></content-text></title>	<media ref="tl1302000000/tl1302070000/tl1302070100/tl1302070101/cm5059782913/" mime="" scale="true" type="directory" width="100%" height="100%" external="tl1302000000/tl1302070000/tl1302070100/tl1302070101/cm5059782913/icontext.xml"/></content-media>
<content-text><p><b>Teste do capítulo</b></p></content-text>
</page>
</topic>
</section>
</chapter>
